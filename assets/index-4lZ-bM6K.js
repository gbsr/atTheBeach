function fv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pv={exports:{}},Ku={},mv={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),DS=Symbol.for("react.portal"),NS=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),bS=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),FS=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),hg=Symbol.iterator;function jS(e){return e===null||typeof e!="object"?null:(e=hg&&e[hg]||e["@@iterator"],typeof e=="function"?e:null)}var gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yv=Object.assign,vv={};function Uo(e,t,n){this.props=e,this.context=t,this.refs=vv,this.updater=n||gv}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _v(){}_v.prototype=Uo.prototype;function $f(e,t,n){this.props=e,this.context=t,this.refs=vv,this.updater=n||gv}var Ff=$f.prototype=new _v;Ff.constructor=$f;yv(Ff,Uo.prototype);Ff.isPureReactComponent=!0;var dg=Array.isArray,wv=Object.prototype.hasOwnProperty,Uf={current:null},Ev={key:!0,ref:!0,__self:!0,__source:!0};function Tv(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)wv.call(t,r)&&!Ev.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xa,type:e,key:o,ref:s,props:i,_owner:Uf.current}}function BS(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function zS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fg=/\/+/g;function Jc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zS(""+e.key):t.toString(36)}function Ll(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xa:case DS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Jc(s,0):r,dg(i)?(n="",e!=null&&(n=e.replace(fg,"$&/")+"/"),Ll(i,t,n,"",function(u){return u})):i!=null&&(jf(i)&&(i=BS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",dg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Jc(o,a);s+=Ll(o,t,n,l,i)}else if(l=jS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Jc(o,a++),s+=Ll(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function rl(e,t,n){if(e==null)return e;var r=[],i=0;return Ll(e,r,"","",function(o){return t.call(n,o,i++)}),r}function HS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Ol={transition:null},qS={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:Uf};ae.Children={map:rl,forEach:function(e,t,n){rl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rl(e,function(){t++}),t},toArray:function(e){return rl(e,function(t){return t})||[]},only:function(e){if(!jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Uo;ae.Fragment=NS;ae.Profiler=LS;ae.PureComponent=$f;ae.StrictMode=VS;ae.Suspense=$S;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qS;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yv({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Uf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)wv.call(t,l)&&!Ev.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xa,type:e.type,key:i,ref:o,props:r,_owner:s}};ae.createContext=function(e){return e={$$typeof:MS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OS,_context:e},e.Consumer=e};ae.createElement=Tv;ae.createFactory=function(e){var t=Tv.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:bS,render:e}};ae.isValidElement=jf;ae.lazy=function(e){return{$$typeof:US,_payload:{_status:-1,_result:e},_init:HS}};ae.memo=function(e,t){return{$$typeof:FS,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ol.transition;Ol.transition={};try{e()}finally{Ol.transition=t}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(e,t){return Ot.current.useCallback(e,t)};ae.useContext=function(e){return Ot.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Ot.current.useEffect(e,t)};ae.useId=function(){return Ot.current.useId()};ae.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Ot.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};ae.useRef=function(e){return Ot.current.useRef(e)};ae.useState=function(e){return Ot.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Ot.current.useTransition()};ae.version="18.2.0";mv.exports=ae;var P=mv.exports;const un=bf(P),WS=fv({__proto__:null,default:un},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=P,GS=Symbol.for("react.element"),QS=Symbol.for("react.fragment"),YS=Object.prototype.hasOwnProperty,XS=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JS={key:!0,ref:!0,__self:!0,__source:!0};function Sv(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)YS.call(t,r)&&!JS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:GS,type:e,key:o,ref:s,props:i,_owner:XS.current}}Ku.Fragment=QS;Ku.jsx=Sv;Ku.jsxs=Sv;pv.exports=Ku;var I=pv.exports,Xh={},Iv={exports:{}},Zt={},Rv={exports:{}},Cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,z){var K=N.length;N.push(z);e:for(;0<K;){var le=K-1>>>1,ie=N[le];if(0<i(ie,z))N[le]=z,N[K]=ie,K=le;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var z=N[0],K=N.pop();if(K!==z){N[0]=K;e:for(var le=0,ie=N.length,bt=ie>>>1;le<bt;){var st=2*(le+1)-1,Je=N[st],Fe=st+1,at=N[Fe];if(0>i(Je,K))Fe<ie&&0>i(at,Je)?(N[le]=at,N[Fe]=K,le=Fe):(N[le]=Je,N[st]=K,le=st);else if(Fe<ie&&0>i(at,K))N[le]=at,N[Fe]=K,le=Fe;else break e}}return z}function i(N,z){var K=N.sortIndex-z.sortIndex;return K!==0?K:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=N)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function T(N){if(_=!1,y(N),!g)if(n(l)!==null)g=!0,Pn(C);else{var z=n(u);z!==null&&tn(T,z.startTime-N)}}function C(N,z){g=!1,_&&(_=!1,m(V),V=-1),p=!0;var K=d;try{for(y(z),h=n(l);h!==null&&(!(h.expirationTime>z)||N&&!oe());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var ie=le(h.expirationTime<=z);z=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),y(z)}else r(l);h=n(l)}if(h!==null)var bt=!0;else{var st=n(u);st!==null&&tn(T,st.startTime-z),bt=!1}return bt}finally{h=null,d=K,p=!1}}var A=!1,v=null,V=-1,j=5,M=-1;function oe(){return!(e.unstable_now()-M<j)}function Pe(){if(v!==null){var N=e.unstable_now();M=N;var z=!0;try{z=v(!0,N)}finally{z?_e():(A=!1,v=null)}}else A=!1}var _e;if(typeof f=="function")_e=function(){f(Pe)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,Ht=Ke.port2;Ke.port1.onmessage=Pe,_e=function(){Ht.postMessage(null)}}else _e=function(){E(Pe,0)};function Pn(N){v=N,A||(A=!0,_e())}function tn(N,z){V=E(function(){N(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Pn(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var K=d;d=z;try{return N()}finally{d=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=d;d=N;try{return z()}finally{d=K}},e.unstable_scheduleCallback=function(N,z,K){var le=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=K+ie,N={id:c++,callback:z,priorityLevel:N,startTime:K,expirationTime:ie,sortIndex:-1},K>le?(N.sortIndex=K,t(u,N),n(l)===null&&N===n(u)&&(_?(m(V),V=-1):_=!0,tn(T,K-le))):(N.sortIndex=ie,t(l,N),g||p||(g=!0,Pn(C))),N},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(N){var z=d;return function(){var K=d;d=z;try{return N.apply(this,arguments)}finally{d=K}}}})(Cv);Rv.exports=Cv;var ZS=Rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=P,Xt=ZS;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pv=new Set,qs={};function Pi(e,t){go(e,t),go(e+"Capture",t)}function go(e,t){for(qs[e]=t,e=0;e<t.length;e++)Pv.add(t[e])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,eI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},mg={};function tI(e){return Jh.call(mg,e)?!0:Jh.call(pg,e)?!1:eI.test(e)?mg[e]=!0:(pg[e]=!0,!1)}function nI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rI(e,t,n,r){if(t===null||typeof t>"u"||nI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bf=/[\-:]([a-z])/g;function zf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bf,zf);vt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bf,zf);vt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bf,zf);vt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hf(e,t,n,r){var i=vt.hasOwnProperty(t)?vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rI(t,n,i,r)&&(n=null),r||i===null?tI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lr=Av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),xv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),Dv=Symbol.for("react.offscreen"),gg=Symbol.iterator;function is(e){return e===null||typeof e!="object"?null:(e=gg&&e[gg]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Zc;function _s(e){if(Zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zc=t&&t[1]||""}return`
`+Zc+e}var eh=!1;function th(e,t){if(!e||eh)return"";eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{eh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_s(e):""}function iI(e){switch(e.tag){case 5:return _s(e.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return e=th(e.type,!1),e;case 11:return e=th(e.type.render,!1),e;case 1:return e=th(e.type,!0),e;default:return""}}function nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case qi:return"Portal";case Zh:return"Profiler";case qf:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kv:return(e.displayName||"Context")+".Consumer";case xv:return(e._context.displayName||"Context")+".Provider";case Wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kf:return t=e.displayName||null,t!==null?t:nd(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return nd(e(t))}catch{}}return null}function oI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(t);case 8:return t===qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sI(e){var t=Nv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){e._valueTracker||(e._valueTracker=sI(e))}function Vv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rd(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lv(e,t){t=t.checked,t!=null&&Hf(e,"checked",t,!1)}function id(e,t){Lv(e,t);var n=$r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?od(e,t.type,n):t.hasOwnProperty("defaultValue")&&od(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function od(e,t,n){(t!=="number"||tu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ws=Array.isArray;function so(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$r(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _g(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ws(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$r(n)}}function Ov(e,t){var n=$r(t.value),r=$r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ad(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,bv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aI=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(e){aI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ps[t]=Ps[e]})});function $v(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ps.hasOwnProperty(e)&&Ps[e]?(""+t).trim():t+"px"}function Fv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$v(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lI=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ld(e,t){if(t){if(lI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ud(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=null;function Gf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hd=null,ao=null,lo=null;function Eg(e){if(e=Na(e)){if(typeof hd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ju(t),hd(e.stateNode,e.type,t))}}function Uv(e){ao?lo?lo.push(e):lo=[e]:ao=e}function jv(){if(ao){var e=ao,t=lo;if(lo=ao=null,Eg(e),t)for(e=0;e<t.length;e++)Eg(t[e])}}function Bv(e,t){return e(t)}function zv(){}var nh=!1;function Hv(e,t,n){if(nh)return e(t,n);nh=!0;try{return Bv(e,t,n)}finally{nh=!1,(ao!==null||lo!==null)&&(zv(),jv())}}function Ks(e,t){var n=e.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var dd=!1;if(tr)try{var os={};Object.defineProperty(os,"passive",{get:function(){dd=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{dd=!1}function uI(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var xs=!1,nu=null,ru=!1,fd=null,cI={onError:function(e){xs=!0,nu=e}};function hI(e,t,n,r,i,o,s,a,l){xs=!1,nu=null,uI.apply(cI,arguments)}function dI(e,t,n,r,i,o,s,a,l){if(hI.apply(this,arguments),xs){if(xs){var u=nu;xs=!1,nu=null}else throw Error(D(198));ru||(ru=!0,fd=u)}}function xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tg(e){if(xi(e)!==e)throw Error(D(188))}function fI(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Tg(i),e;if(o===r)return Tg(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Wv(e){return e=fI(e),e!==null?Kv(e):null}function Kv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kv(e);if(t!==null)return t;e=e.sibling}return null}var Gv=Xt.unstable_scheduleCallback,Sg=Xt.unstable_cancelCallback,pI=Xt.unstable_shouldYield,mI=Xt.unstable_requestPaint,je=Xt.unstable_now,gI=Xt.unstable_getCurrentPriorityLevel,Qf=Xt.unstable_ImmediatePriority,Qv=Xt.unstable_UserBlockingPriority,iu=Xt.unstable_NormalPriority,yI=Xt.unstable_LowPriority,Yv=Xt.unstable_IdlePriority,Gu=null,$n=null;function vI(e){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Gu,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:EI,_I=Math.log,wI=Math.LN2;function EI(e){return e>>>=0,e===0?32:31-(_I(e)/wI|0)|0}var al=64,ll=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ou(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Es(a):(o&=s,o!==0&&(r=Es(o)))}else s=n&~i,s!==0?r=Es(s):o!==0&&(r=Es(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),i=1<<n,r|=e[n],t&=~i;return r}function TI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Tn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=TI(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function pd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xv(){var e=al;return al<<=1,!(al&4194240)&&(al=64),e}function rh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function II(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Yf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function Jv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zv,Xf,e_,t_,n_,md=!1,ul=[],Ir=null,Rr=null,Cr=null,Gs=new Map,Qs=new Map,vr=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ig(e,t){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function ss(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Na(t),t!==null&&Xf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CI(e,t,n,r,i){switch(t){case"focusin":return Ir=ss(Ir,e,t,n,r,i),!0;case"dragenter":return Rr=ss(Rr,e,t,n,r,i),!0;case"mouseover":return Cr=ss(Cr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Gs.set(o,ss(Gs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qs.set(o,ss(Qs.get(o)||null,e,t,n,r,i)),!0}return!1}function r_(e){var t=ei(e.target);if(t!==null){var n=xi(t);if(n!==null){if(t=n.tag,t===13){if(t=qv(n),t!==null){e.blockedOn=t,n_(e.priority,function(){e_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cd=r,n.target.dispatchEvent(r),cd=null}else return t=Na(n),t!==null&&Xf(t),e.blockedOn=n,!1;t.shift()}return!0}function Rg(e,t,n){Ml(e)&&n.delete(t)}function AI(){md=!1,Ir!==null&&Ml(Ir)&&(Ir=null),Rr!==null&&Ml(Rr)&&(Rr=null),Cr!==null&&Ml(Cr)&&(Cr=null),Gs.forEach(Rg),Qs.forEach(Rg)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,md||(md=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,AI)))}function Ys(e){function t(i){return as(i,e)}if(0<ul.length){as(ul[0],e);for(var n=1;n<ul.length;n++){var r=ul[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ir!==null&&as(Ir,e),Rr!==null&&as(Rr,e),Cr!==null&&as(Cr,e),Gs.forEach(t),Qs.forEach(t),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)r_(n),n.blockedOn===null&&vr.shift()}var uo=lr.ReactCurrentBatchConfig,su=!0;function PI(e,t,n,r){var i=me,o=uo.transition;uo.transition=null;try{me=1,Jf(e,t,n,r)}finally{me=i,uo.transition=o}}function xI(e,t,n,r){var i=me,o=uo.transition;uo.transition=null;try{me=4,Jf(e,t,n,r)}finally{me=i,uo.transition=o}}function Jf(e,t,n,r){if(su){var i=gd(e,t,n,r);if(i===null)fh(e,t,r,au,n),Ig(e,r);else if(CI(i,e,t,n,r))r.stopPropagation();else if(Ig(e,r),t&4&&-1<RI.indexOf(e)){for(;i!==null;){var o=Na(i);if(o!==null&&Zv(o),o=gd(e,t,n,r),o===null&&fh(e,t,r,au,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fh(e,t,r,null,n)}}var au=null;function gd(e,t,n,r){if(au=null,e=Gf(r),e=ei(e),e!==null)if(t=xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return au=e,null}function i_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gI()){case Qf:return 1;case Qv:return 4;case iu:case yI:return 16;case Yv:return 536870912;default:return 16}default:return 16}}var Er=null,Zf=null,bl=null;function o_(){if(bl)return bl;var e,t=Zf,n=t.length,r,i="value"in Er?Er.value:Er.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return bl=i.slice(e,1<r?1-r:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function Cg(){return!1}function en(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cl:Cg,this.isPropagationStopped=Cg,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=en(jo),Da=Ne({},jo,{view:0,detail:0}),kI=en(Da),ih,oh,ls,Qu=Ne({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(ih=e.screenX-ls.screenX,oh=e.screenY-ls.screenY):oh=ih=0,ls=e),ih)},movementY:function(e){return"movementY"in e?e.movementY:oh}}),Ag=en(Qu),DI=Ne({},Qu,{dataTransfer:0}),NI=en(DI),VI=Ne({},Da,{relatedTarget:0}),sh=en(VI),LI=Ne({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),OI=en(LI),MI=Ne({},jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bI=en(MI),$I=Ne({},jo,{data:0}),Pg=en($I),FI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jI[e])?!!t[e]:!1}function tp(){return BI}var zI=Ne({},Da,{key:function(e){if(e.key){var t=FI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HI=en(zI),qI=Ne({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=en(qI),WI=Ne({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),KI=en(WI),GI=Ne({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),QI=en(GI),YI=Ne({},Qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XI=en(YI),JI=[9,13,27,32],np=tr&&"CompositionEvent"in window,ks=null;tr&&"documentMode"in document&&(ks=document.documentMode);var ZI=tr&&"TextEvent"in window&&!ks,s_=tr&&(!np||ks&&8<ks&&11>=ks),kg=" ",Dg=!1;function a_(e,t){switch(e){case"keyup":return JI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function eR(e,t){switch(e){case"compositionend":return l_(t);case"keypress":return t.which!==32?null:(Dg=!0,kg);case"textInput":return e=t.data,e===kg&&Dg?null:e;default:return null}}function tR(e,t){if(Ki)return e==="compositionend"||!np&&a_(e,t)?(e=o_(),bl=Zf=Er=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s_&&t.locale!=="ko"?null:t.data;default:return null}}var nR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nR[e.type]:t==="textarea"}function u_(e,t,n,r){Uv(r),t=lu(t,"onChange"),0<t.length&&(n=new ep("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ds=null,Xs=null;function rR(e){w_(e,0)}function Yu(e){var t=Yi(e);if(Vv(t))return e}function iR(e,t){if(e==="change")return t}var c_=!1;if(tr){var ah;if(tr){var lh="oninput"in document;if(!lh){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),lh=typeof Vg.oninput=="function"}ah=lh}else ah=!1;c_=ah&&(!document.documentMode||9<document.documentMode)}function Lg(){Ds&&(Ds.detachEvent("onpropertychange",h_),Xs=Ds=null)}function h_(e){if(e.propertyName==="value"&&Yu(Xs)){var t=[];u_(t,Xs,e,Gf(e)),Hv(rR,t)}}function oR(e,t,n){e==="focusin"?(Lg(),Ds=t,Xs=n,Ds.attachEvent("onpropertychange",h_)):e==="focusout"&&Lg()}function sR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yu(Xs)}function aR(e,t){if(e==="click")return Yu(t)}function lR(e,t){if(e==="input"||e==="change")return Yu(t)}function uR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:uR;function Js(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mg(e,t){var n=Og(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Og(n)}}function d_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?d_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function f_(){for(var e=window,t=tu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tu(e.document)}return t}function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cR(e){var t=f_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&d_(n.ownerDocument.documentElement,n)){if(r!==null&&rp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Mg(n,o);var s=Mg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hR=tr&&"documentMode"in document&&11>=document.documentMode,Gi=null,yd=null,Ns=null,vd=!1;function bg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vd||Gi==null||Gi!==tu(r)||(r=Gi,"selectionStart"in r&&rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ns&&Js(Ns,r)||(Ns=r,r=lu(yd,"onSelect"),0<r.length&&(t=new ep("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gi)))}function hl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qi={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},uh={},p_={};tr&&(p_=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Xu(e){if(uh[e])return uh[e];if(!Qi[e])return e;var t=Qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in p_)return uh[e]=t[n];return e}var m_=Xu("animationend"),g_=Xu("animationiteration"),y_=Xu("animationstart"),v_=Xu("transitionend"),__=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){__.set(e,t),Pi(t,[e])}for(var ch=0;ch<$g.length;ch++){var hh=$g[ch],dR=hh.toLowerCase(),fR=hh[0].toUpperCase()+hh.slice(1);zr(dR,"on"+fR)}zr(m_,"onAnimationEnd");zr(g_,"onAnimationIteration");zr(y_,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(v_,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Fg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dI(r,t,void 0,e),e.currentTarget=null}function w_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fg(i,a,u),o=l}}}if(ru)throw e=fd,ru=!1,fd=null,e}function we(e,t){var n=t[Sd];n===void 0&&(n=t[Sd]=new Set);var r=e+"__bubble";n.has(r)||(E_(t,e,2,!1),n.add(r))}function dh(e,t,n){var r=0;t&&(r|=4),E_(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Zs(e){if(!e[dl]){e[dl]=!0,Pv.forEach(function(n){n!=="selectionchange"&&(pR.has(n)||dh(n,!1,e),dh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,dh("selectionchange",!1,t))}}function E_(e,t,n,r){switch(i_(t)){case 1:var i=PI;break;case 4:i=xI;break;default:i=Jf}n=i.bind(null,t,n,e),i=void 0,!dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ei(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Hv(function(){var u=o,c=Gf(n),h=[];e:{var d=__.get(e);if(d!==void 0){var p=ep,g=e;switch(e){case"keypress":if($l(n)===0)break e;case"keydown":case"keyup":p=HI;break;case"focusin":g="focus",p=sh;break;case"focusout":g="blur",p=sh;break;case"beforeblur":case"afterblur":p=sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KI;break;case m_:case g_:case y_:p=OI;break;case v_:p=QI;break;case"scroll":p=kI;break;case"wheel":p=XI;break;case"copy":case"cut":case"paste":p=bI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xg}var _=(t&4)!==0,E=!_&&e==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,y;f!==null;){y=f;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,m!==null&&(T=Ks(f,m),T!=null&&_.push(ea(f,T,y)))),E)break;f=f.return}0<_.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==cd&&(g=n.relatedTarget||n.fromElement)&&(ei(g)||g[nr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ei(g):null,g!==null&&(E=xi(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=Ag,T="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=xg,T="onPointerLeave",m="onPointerEnter",f="pointer"),E=p==null?d:Yi(p),y=g==null?d:Yi(g),d=new _(T,f+"leave",p,n,c),d.target=E,d.relatedTarget=y,T=null,ei(c)===u&&(_=new _(m,f+"enter",g,n,c),_.target=y,_.relatedTarget=E,T=_),E=T,p&&g)t:{for(_=p,m=g,f=0,y=_;y;y=$i(y))f++;for(y=0,T=m;T;T=$i(T))y++;for(;0<f-y;)_=$i(_),f--;for(;0<y-f;)m=$i(m),y--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=$i(_),m=$i(m)}_=null}else _=null;p!==null&&Ug(h,d,p,_,!1),g!==null&&E!==null&&Ug(h,E,g,_,!0)}}e:{if(d=u?Yi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=iR;else if(Ng(d))if(c_)C=lR;else{C=sR;var A=oR}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=aR);if(C&&(C=C(e,u))){u_(h,C,n,c);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&od(d,"number",d.value)}switch(A=u?Yi(u):window,e){case"focusin":(Ng(A)||A.contentEditable==="true")&&(Gi=A,yd=u,Ns=null);break;case"focusout":Ns=yd=Gi=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,bg(h,n,c);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":bg(h,n,c)}var v;if(np)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Ki?a_(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(s_&&n.locale!=="ko"&&(Ki||V!=="onCompositionStart"?V==="onCompositionEnd"&&Ki&&(v=o_()):(Er=c,Zf="value"in Er?Er.value:Er.textContent,Ki=!0)),A=lu(u,V),0<A.length&&(V=new Pg(V,e,null,n,c),h.push({event:V,listeners:A}),v?V.data=v:(v=l_(n),v!==null&&(V.data=v)))),(v=ZI?eR(e,n):tR(e,n))&&(u=lu(u,"onBeforeInput"),0<u.length&&(c=new Pg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=v))}w_(h,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ks(e,n),o!=null&&r.unshift(ea(e,o,i)),o=Ks(e,t),o!=null&&r.push(ea(e,o,i))),e=e.return}return r}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ug(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ks(n,o),l!=null&&s.unshift(ea(n,l,a))):i||(l=Ks(n,o),l!=null&&s.push(ea(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function jg(e){return(typeof e=="string"?e:""+e).replace(mR,`
`).replace(gR,"")}function fl(e,t,n){if(t=jg(t),jg(e)!==t&&n)throw Error(D(425))}function uu(){}var _d=null,wd=null;function Ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Td=typeof setTimeout=="function"?setTimeout:void 0,yR=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,vR=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(e){return Bg.resolve(null).then(e).catch(_R)}:Td;function _R(e){setTimeout(function(){throw e})}function ph(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ys(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ys(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Bo,ta="__reactProps$"+Bo,nr="__reactContainer$"+Bo,Sd="__reactEvents$"+Bo,wR="__reactListeners$"+Bo,ER="__reactHandles$"+Bo;function ei(e){var t=e[Vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nr]||n[Vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zg(e);e!==null;){if(n=e[Vn])return n;e=zg(e)}return t}e=n,n=e.parentNode}return null}function Na(e){return e=e[Vn]||e[nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ju(e){return e[ta]||null}var Id=[],Xi=-1;function Hr(e){return{current:e}}function Se(e){0>Xi||(e.current=Id[Xi],Id[Xi]=null,Xi--)}function ye(e,t){Xi++,Id[Xi]=e.current,e.current=t}var Fr={},Pt=Hr(Fr),jt=Hr(!1),pi=Fr;function yo(e,t){var n=e.type.contextTypes;if(!n)return Fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function cu(){Se(jt),Se(Pt)}function Hg(e,t,n){if(Pt.current!==Fr)throw Error(D(168));ye(Pt,t),ye(jt,n)}function T_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,oI(e)||"Unknown",i));return Ne({},n,r)}function hu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,pi=Pt.current,ye(Pt,e),ye(jt,jt.current),!0}function qg(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=T_(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,Se(jt),Se(Pt),ye(Pt,e)):Se(jt),ye(jt,n)}var Qn=null,Zu=!1,mh=!1;function S_(e){Qn===null?Qn=[e]:Qn.push(e)}function TR(e){Zu=!0,S_(e)}function qr(){if(!mh&&Qn!==null){mh=!0;var e=0,t=me;try{var n=Qn;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qn=null,Zu=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(e+1)),Gv(Qf,qr),i}finally{me=t,mh=!1}}return null}var Ji=[],Zi=0,du=null,fu=0,on=[],sn=0,mi=null,Yn=1,Xn="";function Xr(e,t){Ji[Zi++]=fu,Ji[Zi++]=du,du=e,fu=t}function I_(e,t,n){on[sn++]=Yn,on[sn++]=Xn,on[sn++]=mi,mi=e;var r=Yn;e=Xn;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var o=32-Tn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yn=1<<32-Tn(t)+i|n<<i|r,Xn=o+e}else Yn=1<<o|n<<i|r,Xn=e}function ip(e){e.return!==null&&(Xr(e,1),I_(e,1,0))}function op(e){for(;e===du;)du=Ji[--Zi],Ji[Zi]=null,fu=Ji[--Zi],Ji[Zi]=null;for(;e===mi;)mi=on[--sn],on[sn]=null,Xn=on[--sn],on[sn]=null,Yn=on[--sn],on[sn]=null}var Yt=null,Kt=null,Ce=!1,En=null;function R_(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Kt=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Yn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yt=e,Kt=null,!0):!1;default:return!1}}function Rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cd(e){if(Ce){var t=Kt;if(t){var n=t;if(!Wg(e,t)){if(Rd(e))throw Error(D(418));t=Ar(n.nextSibling);var r=Yt;t&&Wg(e,t)?R_(r,n):(e.flags=e.flags&-4097|2,Ce=!1,Yt=e)}}else{if(Rd(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ce=!1,Yt=e}}}function Kg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function pl(e){if(e!==Yt)return!1;if(!Ce)return Kg(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ed(e.type,e.memoizedProps)),t&&(t=Kt)){if(Rd(e))throw C_(),Error(D(418));for(;t;)R_(e,t),t=Ar(t.nextSibling)}if(Kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=Ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Yt?Ar(e.stateNode.nextSibling):null;return!0}function C_(){for(var e=Kt;e;)e=Ar(e.nextSibling)}function vo(){Kt=Yt=null,Ce=!1}function sp(e){En===null?En=[e]:En.push(e)}var SR=lr.ReactCurrentBatchConfig;function vn(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var pu=Hr(null),mu=null,eo=null,ap=null;function lp(){ap=eo=mu=null}function up(e){var t=pu.current;Se(pu),e._currentValue=t}function Ad(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function co(e,t){mu=e,ap=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if(ap!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(mu===null)throw Error(D(308));eo=e,mu.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var ti=null;function cp(e){ti===null?ti=[e]:ti.push(e)}function A_(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cp(t)):(n.next=i.next,i.next=n),t.interleaved=n,rr(e,r)}function rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function hp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,rr(e,n)}return i=r.interleaved,i===null?(t.next=t,cp(r)):(t.next=i.next,i.next=t),r.interleaved=t,rr(e,n)}function Fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yf(e,n)}}function Gg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gu(e,t,n,r){var i=e.updateQueue;yr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(d=t,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=Ne({},h,d);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);yi|=s,e.lanes=s,e.memoizedState=h}}function Qg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var x_=new Av.Component().refs;function Pd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ec={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=kr(e),o=Zn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Pr(e,o,i),t!==null&&(Sn(t,e,i,r),Fl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),i=kr(e),o=Zn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pr(e,o,i),t!==null&&(Sn(t,e,i,r),Fl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=kr(e),i=Zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pr(e,i,r),t!==null&&(Sn(t,e,r,n),Fl(t,e,r))}};function Yg(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Js(n,r)||!Js(i,o):!0}function k_(e,t,n){var r=!1,i=Fr,o=t.contextType;return typeof o=="object"&&o!==null?o=fn(o):(i=Bt(t)?pi:Pt.current,r=t.contextTypes,o=(r=r!=null)?yo(e,i):Fr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ec,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Xg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function xd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=x_,hp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=fn(o):(o=Bt(t)?pi:Pt.current,i.context=yo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ec.enqueueReplaceState(i,i.state,null),gu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===x_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jg(e){var t=e._init;return t(e._payload)}function D_(e){function t(m,f){if(e){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Dr(m,f),m.index=0,m.sibling=null,m}function o(m,f,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,y,T){return f===null||f.tag!==6?(f=Th(y,m.mode,T),f.return=m,f):(f=i(f,y),f.return=m,f)}function l(m,f,y,T){var C=y.type;return C===Wi?c(m,f,y.props.children,T,y.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gr&&Jg(C)===f.type)?(T=i(f,y.props),T.ref=us(m,f,y),T.return=m,T):(T=ql(y.type,y.key,y.props,null,m.mode,T),T.ref=us(m,f,y),T.return=m,T)}function u(m,f,y,T){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Sh(y,m.mode,T),f.return=m,f):(f=i(f,y.children||[]),f.return=m,f)}function c(m,f,y,T,C){return f===null||f.tag!==7?(f=ci(y,m.mode,T,C),f.return=m,f):(f=i(f,y),f.return=m,f)}function h(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Th(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case il:return y=ql(f.type,f.key,f.props,null,m.mode,y),y.ref=us(m,null,f),y.return=m,y;case qi:return f=Sh(f,m.mode,y),f.return=m,f;case gr:var T=f._init;return h(m,T(f._payload),y)}if(ws(f)||is(f))return f=ci(f,m.mode,y,null),f.return=m,f;ml(m,f)}return null}function d(m,f,y,T){var C=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(m,f,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case il:return y.key===C?l(m,f,y,T):null;case qi:return y.key===C?u(m,f,y,T):null;case gr:return C=y._init,d(m,f,C(y._payload),T)}if(ws(y)||is(y))return C!==null?null:c(m,f,y,T,null);ml(m,y)}return null}function p(m,f,y,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(y)||null,a(f,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case il:return m=m.get(T.key===null?y:T.key)||null,l(f,m,T,C);case qi:return m=m.get(T.key===null?y:T.key)||null,u(f,m,T,C);case gr:var A=T._init;return p(m,f,y,A(T._payload),C)}if(ws(T)||is(T))return m=m.get(y)||null,c(f,m,T,C,null);ml(f,T)}return null}function g(m,f,y,T){for(var C=null,A=null,v=f,V=f=0,j=null;v!==null&&V<y.length;V++){v.index>V?(j=v,v=null):j=v.sibling;var M=d(m,v,y[V],T);if(M===null){v===null&&(v=j);break}e&&v&&M.alternate===null&&t(m,v),f=o(M,f,V),A===null?C=M:A.sibling=M,A=M,v=j}if(V===y.length)return n(m,v),Ce&&Xr(m,V),C;if(v===null){for(;V<y.length;V++)v=h(m,y[V],T),v!==null&&(f=o(v,f,V),A===null?C=v:A.sibling=v,A=v);return Ce&&Xr(m,V),C}for(v=r(m,v);V<y.length;V++)j=p(v,m,V,y[V],T),j!==null&&(e&&j.alternate!==null&&v.delete(j.key===null?V:j.key),f=o(j,f,V),A===null?C=j:A.sibling=j,A=j);return e&&v.forEach(function(oe){return t(m,oe)}),Ce&&Xr(m,V),C}function _(m,f,y,T){var C=is(y);if(typeof C!="function")throw Error(D(150));if(y=C.call(y),y==null)throw Error(D(151));for(var A=C=null,v=f,V=f=0,j=null,M=y.next();v!==null&&!M.done;V++,M=y.next()){v.index>V?(j=v,v=null):j=v.sibling;var oe=d(m,v,M.value,T);if(oe===null){v===null&&(v=j);break}e&&v&&oe.alternate===null&&t(m,v),f=o(oe,f,V),A===null?C=oe:A.sibling=oe,A=oe,v=j}if(M.done)return n(m,v),Ce&&Xr(m,V),C;if(v===null){for(;!M.done;V++,M=y.next())M=h(m,M.value,T),M!==null&&(f=o(M,f,V),A===null?C=M:A.sibling=M,A=M);return Ce&&Xr(m,V),C}for(v=r(m,v);!M.done;V++,M=y.next())M=p(v,m,V,M.value,T),M!==null&&(e&&M.alternate!==null&&v.delete(M.key===null?V:M.key),f=o(M,f,V),A===null?C=M:A.sibling=M,A=M);return e&&v.forEach(function(Pe){return t(m,Pe)}),Ce&&Xr(m,V),C}function E(m,f,y,T){if(typeof y=="object"&&y!==null&&y.type===Wi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case il:e:{for(var C=y.key,A=f;A!==null;){if(A.key===C){if(C=y.type,C===Wi){if(A.tag===7){n(m,A.sibling),f=i(A,y.props.children),f.return=m,m=f;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gr&&Jg(C)===A.type){n(m,A.sibling),f=i(A,y.props),f.ref=us(m,A,y),f.return=m,m=f;break e}n(m,A);break}else t(m,A);A=A.sibling}y.type===Wi?(f=ci(y.props.children,m.mode,T,y.key),f.return=m,m=f):(T=ql(y.type,y.key,y.props,null,m.mode,T),T.ref=us(m,f,y),T.return=m,m=T)}return s(m);case qi:e:{for(A=y.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=i(f,y.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Sh(y,m.mode,T),f.return=m,m=f}return s(m);case gr:return A=y._init,E(m,f,A(y._payload),T)}if(ws(y))return g(m,f,y,T);if(is(y))return _(m,f,y,T);ml(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,y),f.return=m,m=f):(n(m,f),f=Th(y,m.mode,T),f.return=m,m=f),s(m)):n(m,f)}return E}var _o=D_(!0),N_=D_(!1),Va={},Fn=Hr(Va),na=Hr(Va),ra=Hr(Va);function ni(e){if(e===Va)throw Error(D(174));return e}function dp(e,t){switch(ye(ra,t),ye(na,e),ye(Fn,Va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ad(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ad(t,e)}Se(Fn),ye(Fn,t)}function wo(){Se(Fn),Se(na),Se(ra)}function V_(e){ni(ra.current);var t=ni(Fn.current),n=ad(t,e.type);t!==n&&(ye(na,e),ye(Fn,n))}function fp(e){na.current===e&&(Se(Fn),Se(na))}var ke=Hr(0);function yu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gh=[];function pp(){for(var e=0;e<gh.length;e++)gh[e]._workInProgressVersionPrimary=null;gh.length=0}var Ul=lr.ReactCurrentDispatcher,yh=lr.ReactCurrentBatchConfig,gi=0,De=null,Ge=null,tt=null,vu=!1,Vs=!1,ia=0,IR=0;function _t(){throw Error(D(321))}function mp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function gp(e,t,n,r,i,o){if(gi=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ul.current=e===null||e.memoizedState===null?PR:xR,e=n(r,i),Vs){o=0;do{if(Vs=!1,ia=0,25<=o)throw Error(D(301));o+=1,tt=Ge=null,t.updateQueue=null,Ul.current=kR,e=n(r,i)}while(Vs)}if(Ul.current=_u,t=Ge!==null&&Ge.next!==null,gi=0,tt=Ge=De=null,vu=!1,t)throw Error(D(300));return e}function yp(){var e=ia!==0;return ia=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?De.memoizedState=tt=e:tt=tt.next=e,tt}function pn(){if(Ge===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=tt===null?De.memoizedState:tt.next;if(t!==null)tt=t,Ge=e;else{if(e===null)throw Error(D(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?De.memoizedState=tt=e:tt=tt.next=e}return tt}function oa(e,t){return typeof t=="function"?t(e):t}function vh(e){var t=pn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ge,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((gi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,De.lanes|=c,yi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Cn(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,De.lanes|=o,yi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _h(e){var t=pn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Cn(o,t.memoizedState)||(Ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function L_(){}function O_(e,t){var n=De,r=pn(),i=t(),o=!Cn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,vp($_.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,sa(9,b_.bind(null,n,r,i,t),void 0,null),rt===null)throw Error(D(349));gi&30||M_(n,t,i)}return i}function M_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function b_(e,t,n,r){t.value=n,t.getSnapshot=r,F_(t)&&U_(e)}function $_(e,t,n){return n(function(){F_(t)&&U_(e)})}function F_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function U_(e){var t=rr(e,1);t!==null&&Sn(t,e,1,-1)}function Zg(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t.queue=e,e=e.dispatch=AR.bind(null,De,e),[t.memoizedState,e]}function sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function j_(){return pn().memoizedState}function jl(e,t,n,r){var i=Dn();De.flags|=e,i.memoizedState=sa(1|t,n,void 0,r===void 0?null:r)}function tc(e,t,n,r){var i=pn();r=r===void 0?null:r;var o=void 0;if(Ge!==null){var s=Ge.memoizedState;if(o=s.destroy,r!==null&&mp(r,s.deps)){i.memoizedState=sa(t,n,o,r);return}}De.flags|=e,i.memoizedState=sa(1|t,n,o,r)}function ey(e,t){return jl(8390656,8,e,t)}function vp(e,t){return tc(2048,8,e,t)}function B_(e,t){return tc(4,2,e,t)}function z_(e,t){return tc(4,4,e,t)}function H_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q_(e,t,n){return n=n!=null?n.concat([e]):null,tc(4,4,H_.bind(null,t,e),n)}function _p(){}function W_(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function K_(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function G_(e,t,n){return gi&21?(Cn(n,t)||(n=Xv(),De.lanes|=n,yi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n)}function RR(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=yh.transition;yh.transition={};try{e(!1),t()}finally{me=n,yh.transition=r}}function Q_(){return pn().memoizedState}function CR(e,t,n){var r=kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y_(e))X_(t,n);else if(n=A_(e,t,n,r),n!==null){var i=Lt();Sn(n,e,r,i),J_(n,t,r)}}function AR(e,t,n){var r=kr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y_(e))X_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,s)){var l=t.interleaved;l===null?(i.next=i,cp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=A_(e,t,i,r),n!==null&&(i=Lt(),Sn(n,e,r,i),J_(n,t,r))}}function Y_(e){var t=e.alternate;return e===De||t!==null&&t===De}function X_(e,t){Vs=vu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function J_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yf(e,n)}}var _u={readContext:fn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},PR={readContext:fn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:ey,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jl(4194308,4,H_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return jl(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CR.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:Zg,useDebugValue:_p,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=Zg(!1),t=e[0];return e=RR.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,i=Dn();if(Ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),rt===null)throw Error(D(349));gi&30||M_(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ey($_.bind(null,r,o,e),[e]),r.flags|=2048,sa(9,b_.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dn(),t=rt.identifierPrefix;if(Ce){var n=Xn,r=Yn;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ia++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xR={readContext:fn,useCallback:W_,useContext:fn,useEffect:vp,useImperativeHandle:q_,useInsertionEffect:B_,useLayoutEffect:z_,useMemo:K_,useReducer:vh,useRef:j_,useState:function(){return vh(oa)},useDebugValue:_p,useDeferredValue:function(e){var t=pn();return G_(t,Ge.memoizedState,e)},useTransition:function(){var e=vh(oa)[0],t=pn().memoizedState;return[e,t]},useMutableSource:L_,useSyncExternalStore:O_,useId:Q_,unstable_isNewReconciler:!1},kR={readContext:fn,useCallback:W_,useContext:fn,useEffect:vp,useImperativeHandle:q_,useInsertionEffect:B_,useLayoutEffect:z_,useMemo:K_,useReducer:_h,useRef:j_,useState:function(){return _h(oa)},useDebugValue:_p,useDeferredValue:function(e){var t=pn();return Ge===null?t.memoizedState=e:G_(t,Ge.memoizedState,e)},useTransition:function(){var e=_h(oa)[0],t=pn().memoizedState;return[e,t]},useMutableSource:L_,useSyncExternalStore:O_,useId:Q_,unstable_isNewReconciler:!1};function Eo(e,t){try{var n="",r=t;do n+=iI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function wh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DR=typeof WeakMap=="function"?WeakMap:Map;function Z_(e,t,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eu||(Eu=!0,Ud=r),kd(e,t)},n}function e1(e,t,n){n=Zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){kd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kd(e,t),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ty(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qR.bind(null,e,t,n),t.then(e,e))}function ny(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ry(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zn(-1,1),t.tag=2,Pr(n,t,1))),n.lanes|=1),e)}var NR=lr.ReactCurrentOwner,Ut=!1;function Nt(e,t,n,r){t.child=e===null?N_(t,null,n,r):_o(t,e.child,n,r)}function iy(e,t,n,r,i){n=n.render;var o=t.ref;return co(t,i),r=gp(e,t,n,r,o,i),n=yp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ir(e,t,i)):(Ce&&n&&ip(t),t.flags|=1,Nt(e,t,r,i),t.child)}function oy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Ap(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,t1(e,t,o,r,i)):(e=ql(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(s,r)&&e.ref===t.ref)return ir(e,t,i)}return t.flags|=1,e=Dr(o,r),e.ref=t.ref,e.return=t,t.child=e}function t1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Js(o,r)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,ir(e,t,i)}return Dd(e,t,n,r,i)}function n1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(no,Wt),Wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(no,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(no,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(no,Wt),Wt|=r;return Nt(e,t,i,n),t.child}function r1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dd(e,t,n,r,i){var o=Bt(n)?pi:Pt.current;return o=yo(t,o),co(t,i),n=gp(e,t,n,r,o,i),r=yp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ir(e,t,i)):(Ce&&r&&ip(t),t.flags|=1,Nt(e,t,n,i),t.child)}function sy(e,t,n,r,i){if(Bt(n)){var o=!0;hu(t)}else o=!1;if(co(t,i),t.stateNode===null)Bl(e,t),k_(t,n,r),xd(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Bt(n)?pi:Pt.current,u=yo(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Xg(t,s,r,u),yr=!1;var d=t.memoizedState;s.state=d,gu(t,r,s,i),l=t.memoizedState,a!==r||d!==l||jt.current||yr?(typeof c=="function"&&(Pd(t,n,c,r),l=t.memoizedState),(a=yr||Yg(t,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,P_(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vn(t.type,a),s.props=u,h=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Bt(n)?pi:Pt.current,l=yo(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Xg(t,s,r,l),yr=!1,d=t.memoizedState,s.state=d,gu(t,r,s,i);var g=t.memoizedState;a!==h||d!==g||jt.current||yr?(typeof p=="function"&&(Pd(t,n,p,r),g=t.memoizedState),(u=yr||Yg(t,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nd(e,t,n,r,o,i)}function Nd(e,t,n,r,i,o){r1(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&qg(t,n,!1),ir(e,t,o);r=t.stateNode,NR.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):Nt(e,t,a,o),t.memoizedState=r.state,i&&qg(t,n,!0),t.child}function i1(e){var t=e.stateNode;t.pendingContext?Hg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hg(e,t.context,!1),dp(e,t.containerInfo)}function ay(e,t,n,r,i){return vo(),sp(i),t.flags|=256,Nt(e,t,n,r),t.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function o1(e,t,n){var r=t.pendingProps,i=ke.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(ke,i&1),e===null)return Cd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ic(s,r,0,null),e=ci(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ld(n),t.memoizedState=Vd,e):wp(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VR(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Dr(a,o):(o=ci(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ld(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Vd,r}return o=e.child,e=o.sibling,r=Dr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wp(e,t){return t=ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gl(e,t,n,r){return r!==null&&sp(r),_o(t,e.child,null,n),e=wp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VR(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=wh(Error(D(422))),gl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ic({mode:"visible",children:r.children},i,0,null),o=ci(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&_o(t,e.child,null,s),t.child.memoizedState=Ld(s),t.memoizedState=Vd,o);if(!(t.mode&1))return gl(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=wh(o,r,void 0),gl(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ut||a){if(r=rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rr(e,i),Sn(r,e,i,-1))}return Cp(),r=wh(Error(D(421))),gl(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Kt=Ar(i.nextSibling),Yt=t,Ce=!0,En=null,e!==null&&(on[sn++]=Yn,on[sn++]=Xn,on[sn++]=mi,Yn=e.id,Xn=e.overflow,mi=t),t=wp(t,r.children),t.flags|=4096,t)}function ly(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ad(e.return,t,n)}function Eh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function s1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Nt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,n,t);else if(e.tag===19)ly(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Eh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Eh(t,!0,n,null,o);break;case"together":Eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LR(e,t,n){switch(t.tag){case 3:i1(t),vo();break;case 5:V_(t);break;case 1:Bt(t.type)&&hu(t);break;case 4:dp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ye(pu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?o1(e,t,n):(ye(ke,ke.current&1),e=ir(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return s1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,n1(e,t,n)}return ir(e,t,n)}var a1,Od,l1,u1;a1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Od=function(){};l1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ni(Fn.current);var o=null;switch(n){case"input":i=rd(e,i),r=rd(e,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=sd(e,i),r=sd(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uu)}ld(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};u1=function(e,t,n,r){n!==r&&(t.flags|=4)};function cs(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OR(e,t,n){var r=t.pendingProps;switch(op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Bt(t.type)&&cu(),wt(t),null;case 3:return r=t.stateNode,wo(),Se(jt),Se(Pt),pp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(zd(En),En=null))),Od(e,t),wt(t),null;case 5:fp(t);var i=ni(ra.current);if(n=t.type,e!==null&&t.stateNode!=null)l1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return wt(t),null}if(e=ni(Fn.current),pl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Vn]=t,r[ta]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Ts.length;i++)we(Ts[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":yg(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":_g(r,o),we("invalid",r)}ld(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&fl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fl(r.textContent,a,e),i=["children",""+a]):qs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":ol(r),vg(r,o,!0);break;case"textarea":ol(r),wg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=uu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Vn]=t,e[ta]=r,a1(e,t,!1,!1),t.stateNode=e;e:{switch(s=ud(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ts.length;i++)we(Ts[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":yg(e,r),i=rd(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),we("invalid",e);break;case"textarea":_g(e,r),i=sd(e,r),we("invalid",e);break;default:i=r}ld(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Fv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bv(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ws(e,l):typeof l=="number"&&Ws(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&we("scroll",e):l!=null&&Hf(e,o,l,s))}switch(n){case"input":ol(e),vg(e,r,!1);break;case"textarea":ol(e),wg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$r(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?so(e,!!r.multiple,o,!1):r.defaultValue!=null&&so(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)u1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=ni(ra.current),ni(Fn.current),pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vn]=t,(o=r.nodeValue!==n)&&(e=Yt,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=t,t.stateNode=r}return wt(t),null;case 13:if(Se(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&Kt!==null&&t.mode&1&&!(t.flags&128))C_(),vo(),t.flags|=98560,o=!1;else if(o=pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Vn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),o=!1}else En!==null&&(zd(En),En=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ye===0&&(Ye=3):Cp())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return wo(),Od(e,t),e===null&&Zs(t.stateNode.containerInfo),wt(t),null;case 10:return up(t.type._context),wt(t),null;case 17:return Bt(t.type)&&cu(),wt(t),null;case 19:if(Se(ke),o=t.memoizedState,o===null)return wt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=yu(e),s!==null){for(t.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&je()>To&&(t.flags|=128,r=!0,cs(o,!1),t.lanes=4194304)}else{if(!r)if(e=yu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return wt(t),null}else 2*je()-o.renderingStartTime>To&&n!==1073741824&&(t.flags|=128,r=!0,cs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=je(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Rp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function MR(e,t){switch(op(t),t.tag){case 1:return Bt(t.type)&&cu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wo(),Se(jt),Se(Pt),pp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fp(t),null;case 13:if(Se(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(ke),null;case 4:return wo(),null;case 10:return up(t.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var yl=!1,St=!1,bR=typeof WeakSet=="function"?WeakSet:Set,b=null;function to(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Md(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var uy=!1;function $R(e,t){if(_d=su,e=f_(),rp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wd={focusedElem:e,selectionRange:n},su=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,E=g.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:vn(t.type,_),E);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(T){Oe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return g=uy,uy=!1,g}function Ls(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Md(t,n,o)}i=i.next}while(i!==r)}}function nc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function c1(e){var t=e.alternate;t!==null&&(e.alternate=null,c1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vn],delete t[ta],delete t[Sd],delete t[wR],delete t[ER])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h1(e){return e.tag===5||e.tag===3||e.tag===4}function cy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uu));else if(r!==4&&(e=e.child,e!==null))for($d(e,t,n),e=e.sibling;e!==null;)$d(e,t,n),e=e.sibling}function Fd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fd(e,t,n),e=e.sibling;e!==null;)Fd(e,t,n),e=e.sibling}var ht=null,_n=!1;function fr(e,t,n){for(n=n.child;n!==null;)d1(e,t,n),n=n.sibling}function d1(e,t,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:St||to(n,t);case 6:var r=ht,i=_n;ht=null,fr(e,t,n),ht=r,_n=i,ht!==null&&(_n?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(_n?(e=ht,n=n.stateNode,e.nodeType===8?ph(e.parentNode,n):e.nodeType===1&&ph(e,n),Ys(e)):ph(ht,n.stateNode));break;case 4:r=ht,i=_n,ht=n.stateNode.containerInfo,_n=!0,fr(e,t,n),ht=r,_n=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Md(n,t,s),i=i.next}while(i!==r)}fr(e,t,n);break;case 1:if(!St&&(to(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,t,a)}fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,fr(e,t,n),St=r):fr(e,t,n);break;default:fr(e,t,n)}}function hy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bR),t.forEach(function(r){var i=KR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,_n=!1;break e;case 3:ht=a.stateNode.containerInfo,_n=!0;break e;case 4:ht=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(ht===null)throw Error(D(160));d1(o,s,i),ht=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f1(t,e),t=t.sibling}function f1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),kn(e),r&4){try{Ls(3,e,e.return),nc(3,e)}catch(_){Oe(e,e.return,_)}try{Ls(5,e,e.return)}catch(_){Oe(e,e.return,_)}}break;case 1:yn(t,e),kn(e),r&512&&n!==null&&to(n,n.return);break;case 5:if(yn(t,e),kn(e),r&512&&n!==null&&to(n,n.return),e.flags&32){var i=e.stateNode;try{Ws(i,"")}catch(_){Oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Lv(i,o),ud(a,s);var u=ud(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?Fv(i,h):c==="dangerouslySetInnerHTML"?bv(i,h):c==="children"?Ws(i,h):Hf(i,c,h,u)}switch(a){case"input":id(i,o);break;case"textarea":Ov(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?so(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?so(i,!!o.multiple,o.defaultValue,!0):so(i,!!o.multiple,o.multiple?[]:"",!1))}i[ta]=o}catch(_){Oe(e,e.return,_)}}break;case 6:if(yn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Oe(e,e.return,_)}}break;case 3:if(yn(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(t.containerInfo)}catch(_){Oe(e,e.return,_)}break;case 4:yn(t,e),kn(e);break;case 13:yn(t,e),kn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sp=je())),r&4&&hy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||c,yn(t,e),St=u):yn(t,e),kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(b=e,c=e.child;c!==null;){for(h=b=c;b!==null;){switch(d=b,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ls(4,d,d.return);break;case 1:to(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:to(d,d.return);break;case 22:if(d.memoizedState!==null){fy(h);continue}}p!==null?(p.return=d,b=p):fy(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$v("display",s))}catch(_){Oe(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(t,e),kn(e),r&4&&hy(e);break;case 21:break;default:yn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(h1(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ws(i,""),r.flags&=-33);var o=cy(e);Fd(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=cy(e);$d(e,a,s);break;default:throw Error(D(161))}}catch(l){Oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FR(e,t,n){b=e,p1(e)}function p1(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||yl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=yl;var u=St;if(yl=s,(St=l)&&!u)for(b=i;b!==null;)s=b,l=s.child,s.tag===22&&s.memoizedState!==null?py(i):l!==null?(l.return=s,b=l):py(i);for(;o!==null;)b=o,p1(o),o=o.sibling;b=i,yl=a,St=u}dy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,b=o):dy(e)}}function dy(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||nc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Qg(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qg(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ys(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}St||t.flags&512&&bd(t)}catch(d){Oe(t,t.return,d)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function fy(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function py(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nc(4,t)}catch(l){Oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Oe(t,i,l)}}var o=t.return;try{bd(t)}catch(l){Oe(t,o,l)}break;case 5:var s=t.return;try{bd(t)}catch(l){Oe(t,s,l)}}}catch(l){Oe(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var UR=Math.ceil,wu=lr.ReactCurrentDispatcher,Ep=lr.ReactCurrentOwner,hn=lr.ReactCurrentBatchConfig,de=0,rt=null,We=null,mt=0,Wt=0,no=Hr(0),Ye=0,aa=null,yi=0,rc=0,Tp=0,Os=null,$t=null,Sp=0,To=1/0,Kn=null,Eu=!1,Ud=null,xr=null,vl=!1,Tr=null,Tu=0,Ms=0,jd=null,zl=-1,Hl=0;function Lt(){return de&6?je():zl!==-1?zl:zl=je()}function kr(e){return e.mode&1?de&2&&mt!==0?mt&-mt:SR.transition!==null?(Hl===0&&(Hl=Xv()),Hl):(e=me,e!==0||(e=window.event,e=e===void 0?16:i_(e.type)),e):1}function Sn(e,t,n,r){if(50<Ms)throw Ms=0,jd=null,Error(D(185));ka(e,n,r),(!(de&2)||e!==rt)&&(e===rt&&(!(de&2)&&(rc|=n),Ye===4&&_r(e,mt)),zt(e,r),n===1&&de===0&&!(t.mode&1)&&(To=je()+500,Zu&&qr()))}function zt(e,t){var n=e.callbackNode;SI(e,t);var r=ou(e,e===rt?mt:0);if(r===0)n!==null&&Sg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sg(n),t===1)e.tag===0?TR(my.bind(null,e)):S_(my.bind(null,e)),vR(function(){!(de&6)&&qr()}),n=null;else{switch(Jv(r)){case 1:n=Qf;break;case 4:n=Qv;break;case 16:n=iu;break;case 536870912:n=Yv;break;default:n=iu}n=T1(n,m1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function m1(e,t){if(zl=-1,Hl=0,de&6)throw Error(D(327));var n=e.callbackNode;if(ho()&&e.callbackNode!==n)return null;var r=ou(e,e===rt?mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Su(e,r);else{t=r;var i=de;de|=2;var o=y1();(rt!==e||mt!==t)&&(Kn=null,To=je()+500,ui(e,t));do try{zR();break}catch(a){g1(e,a)}while(!0);lp(),wu.current=o,de=i,We!==null?t=0:(rt=null,mt=0,t=Ye)}if(t!==0){if(t===2&&(i=pd(e),i!==0&&(r=i,t=Bd(e,i))),t===1)throw n=aa,ui(e,0),_r(e,r),zt(e,je()),n;if(t===6)_r(e,r);else{if(i=e.current.alternate,!(r&30)&&!jR(i)&&(t=Su(e,r),t===2&&(o=pd(e),o!==0&&(r=o,t=Bd(e,o))),t===1))throw n=aa,ui(e,0),_r(e,r),zt(e,je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Jr(e,$t,Kn);break;case 3:if(_r(e,r),(r&130023424)===r&&(t=Sp+500-je(),10<t)){if(ou(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Td(Jr.bind(null,e,$t,Kn),t);break}Jr(e,$t,Kn);break;case 4:if(_r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Tn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UR(r/1960))-r,10<r){e.timeoutHandle=Td(Jr.bind(null,e,$t,Kn),r);break}Jr(e,$t,Kn);break;case 5:Jr(e,$t,Kn);break;default:throw Error(D(329))}}}return zt(e,je()),e.callbackNode===n?m1.bind(null,e):null}function Bd(e,t){var n=Os;return e.current.memoizedState.isDehydrated&&(ui(e,t).flags|=256),e=Su(e,t),e!==2&&(t=$t,$t=n,t!==null&&zd(t)),e}function zd(e){$t===null?$t=e:$t.push.apply($t,e)}function jR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~Tp,t&=~rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function my(e){if(de&6)throw Error(D(327));ho();var t=ou(e,0);if(!(t&1))return zt(e,je()),null;var n=Su(e,t);if(e.tag!==0&&n===2){var r=pd(e);r!==0&&(t=r,n=Bd(e,r))}if(n===1)throw n=aa,ui(e,0),_r(e,t),zt(e,je()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,$t,Kn),zt(e,je()),null}function Ip(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(To=je()+500,Zu&&qr())}}function vi(e){Tr!==null&&Tr.tag===0&&!(de&6)&&ho();var t=de;de|=1;var n=hn.transition,r=me;try{if(hn.transition=null,me=1,e)return e()}finally{me=r,hn.transition=n,de=t,!(de&6)&&qr()}}function Rp(){Wt=no.current,Se(no)}function ui(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yR(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cu();break;case 3:wo(),Se(jt),Se(Pt),pp();break;case 5:fp(r);break;case 4:wo();break;case 13:Se(ke);break;case 19:Se(ke);break;case 10:up(r.type._context);break;case 22:case 23:Rp()}n=n.return}if(rt=e,We=e=Dr(e.current,null),mt=Wt=t,Ye=0,aa=null,Tp=rc=yi=0,$t=Os=null,ti!==null){for(t=0;t<ti.length;t++)if(n=ti[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ti=null}return e}function g1(e,t){do{var n=We;try{if(lp(),Ul.current=_u,vu){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vu=!1}if(gi=0,tt=Ge=De=null,Vs=!1,ia=0,Ep.current=null,n===null||n.return===null){Ye=1,aa=t,We=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ny(s);if(p!==null){p.flags&=-257,ry(p,s,a,o,t),p.mode&1&&ty(o,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){ty(o,u,t),Cp();break e}l=Error(D(426))}}else if(Ce&&a.mode&1){var E=ny(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ry(E,s,a,o,t),sp(Eo(l,a));break e}}o=l=Eo(l,a),Ye!==4&&(Ye=2),Os===null?Os=[o]:Os.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Z_(o,l,t);Gg(o,m);break e;case 1:a=l;var f=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=e1(o,a,t);Gg(o,T);break e}}o=o.return}while(o!==null)}_1(n)}catch(C){t=C,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function y1(){var e=wu.current;return wu.current=_u,e===null?_u:e}function Cp(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(yi&268435455)&&!(rc&268435455)||_r(rt,mt)}function Su(e,t){var n=de;de|=2;var r=y1();(rt!==e||mt!==t)&&(Kn=null,ui(e,t));do try{BR();break}catch(i){g1(e,i)}while(!0);if(lp(),de=n,wu.current=r,We!==null)throw Error(D(261));return rt=null,mt=0,Ye}function BR(){for(;We!==null;)v1(We)}function zR(){for(;We!==null&&!pI();)v1(We)}function v1(e){var t=E1(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?_1(e):We=t,Ep.current=null}function _1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=MR(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,We=null;return}}else if(n=OR(n,t,Wt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Ye===0&&(Ye=5)}function Jr(e,t,n){var r=me,i=hn.transition;try{hn.transition=null,me=1,HR(e,t,n,r)}finally{hn.transition=i,me=r}return null}function HR(e,t,n,r){do ho();while(Tr!==null);if(de&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(II(e,o),e===rt&&(We=rt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vl||(vl=!0,T1(iu,function(){return ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hn.transition,hn.transition=null;var s=me;me=1;var a=de;de|=4,Ep.current=null,$R(e,n),f1(n,e),cR(wd),su=!!_d,wd=_d=null,e.current=n,FR(n),mI(),de=a,me=s,hn.transition=o}else e.current=n;if(vl&&(vl=!1,Tr=e,Tu=i),o=e.pendingLanes,o===0&&(xr=null),vI(n.stateNode),zt(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eu)throw Eu=!1,e=Ud,Ud=null,e;return Tu&1&&e.tag!==0&&ho(),o=e.pendingLanes,o&1?e===jd?Ms++:(Ms=0,jd=e):Ms=0,qr(),null}function ho(){if(Tr!==null){var e=Jv(Tu),t=hn.transition,n=me;try{if(hn.transition=null,me=16>e?16:e,Tr===null)var r=!1;else{if(e=Tr,Tr=null,Tu=0,de&6)throw Error(D(331));var i=de;for(de|=4,b=e.current;b!==null;){var o=b,s=o.child;if(b.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:Ls(8,c,o)}var h=c.child;if(h!==null)h.return=c,b=h;else for(;b!==null;){c=b;var d=c.sibling,p=c.return;if(c1(c),c===u){b=null;break}if(d!==null){d.return=p,b=d;break}b=p}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}b=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,b=s;else e:for(;b!==null;){if(o=b,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ls(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,b=m;break e}b=o.return}}var f=e.current;for(b=f;b!==null;){s=b;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,b=y;else e:for(s=f;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nc(9,a)}}catch(C){Oe(a,a.return,C)}if(a===s){b=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,b=T;break e}b=a.return}}if(de=i,qr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Gu,e)}catch{}r=!0}return r}finally{me=n,hn.transition=t}}return!1}function gy(e,t,n){t=Eo(n,t),t=Z_(e,t,1),e=Pr(e,t,1),t=Lt(),e!==null&&(ka(e,1,t),zt(e,t))}function Oe(e,t,n){if(e.tag===3)gy(e,e,n);else for(;t!==null;){if(t.tag===3){gy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){e=Eo(n,e),e=e1(t,e,1),t=Pr(t,e,1),e=Lt(),t!==null&&(ka(t,1,e),zt(t,e));break}}t=t.return}}function qR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(mt&n)===n&&(Ye===4||Ye===3&&(mt&130023424)===mt&&500>je()-Sp?ui(e,0):Tp|=n),zt(e,t)}function w1(e,t){t===0&&(e.mode&1?(t=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):t=1);var n=Lt();e=rr(e,t),e!==null&&(ka(e,t,n),zt(e,n))}function WR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),w1(e,n)}function KR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),w1(e,n)}var E1;E1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ut=!1,LR(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,Ce&&t.flags&1048576&&I_(t,fu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var i=yo(t,Pt.current);co(t,n),i=gp(null,t,r,e,i,n);var o=yp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(o=!0,hu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hp(t),i.updater=ec,t.stateNode=i,i._reactInternals=t,xd(t,r,e,n),t=Nd(null,t,r,!0,o,n)):(t.tag=0,Ce&&o&&ip(t),Nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=QR(r),e=vn(r,e),i){case 0:t=Dd(null,t,r,e,n);break e;case 1:t=sy(null,t,r,e,n);break e;case 11:t=iy(null,t,r,e,n);break e;case 14:t=oy(null,t,r,vn(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vn(r,i),Dd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vn(r,i),sy(e,t,r,i,n);case 3:e:{if(i1(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,i=o.element,P_(e,t),gu(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Eo(Error(D(423)),t),t=ay(e,t,r,n,i);break e}else if(r!==i){i=Eo(Error(D(424)),t),t=ay(e,t,r,n,i);break e}else for(Kt=Ar(t.stateNode.containerInfo.firstChild),Yt=t,Ce=!0,En=null,n=N_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){t=ir(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return V_(t),e===null&&Cd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ed(r,i)?s=null:o!==null&&Ed(r,o)&&(t.flags|=32),r1(e,t),Nt(e,t,s,n),t.child;case 6:return e===null&&Cd(t),null;case 13:return o1(e,t,n);case 4:return dp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_o(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vn(r,i),iy(e,t,r,i,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ye(pu,r._currentValue),r._currentValue=s,o!==null)if(Cn(o.value,s)){if(o.children===i.children&&!jt.current){t=ir(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ad(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ad(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,co(t,n),i=fn(i),r=r(i),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,i=vn(r,t.pendingProps),i=vn(r.type,i),oy(e,t,r,i,n);case 15:return t1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vn(r,i),Bl(e,t),t.tag=1,Bt(r)?(e=!0,hu(t)):e=!1,co(t,n),k_(t,r,i),xd(t,r,i,n),Nd(null,t,r,!0,e,n);case 19:return s1(e,t,n);case 22:return n1(e,t,n)}throw Error(D(156,t.tag))};function T1(e,t){return Gv(e,t)}function GR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new GR(e,t,n,r)}function Ap(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QR(e){if(typeof e=="function")return Ap(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wf)return 11;if(e===Kf)return 14}return 2}function Dr(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Ap(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Wi:return ci(n.children,i,o,t);case qf:s=8,i|=8;break;case Zh:return e=cn(12,n,t,i|2),e.elementType=Zh,e.lanes=o,e;case ed:return e=cn(13,n,t,i),e.elementType=ed,e.lanes=o,e;case td:return e=cn(19,n,t,i),e.elementType=td,e.lanes=o,e;case Dv:return ic(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xv:s=10;break e;case kv:s=9;break e;case Wf:s=11;break e;case Kf:s=14;break e;case gr:s=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=cn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ci(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function ic(e,t,n,r){return e=cn(22,e,r,t),e.elementType=Dv,e.lanes=n,e.stateNode={isHidden:!1},e}function Th(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Sh(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pp(e,t,n,r,i,o,s,a,l){return e=new YR(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hp(o),e}function XR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function S1(e){if(!e)return Fr;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Bt(n))return T_(e,n,t)}return t}function I1(e,t,n,r,i,o,s,a,l){return e=Pp(n,r,!0,e,i,o,s,a,l),e.context=S1(null),n=e.current,r=Lt(),i=kr(n),o=Zn(r,i),o.callback=t??null,Pr(n,o,i),e.current.lanes=i,ka(e,i,r),zt(e,r),e}function oc(e,t,n,r){var i=t.current,o=Lt(),s=kr(i);return n=S1(n),t.context===null?t.context=n:t.pendingContext=n,t=Zn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pr(i,t,s),e!==null&&(Sn(e,i,s,o),Fl(e,i,s)),s}function Iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xp(e,t){yy(e,t),(e=e.alternate)&&yy(e,t)}function JR(){return null}var R1=typeof reportError=="function"?reportError:function(e){console.error(e)};function kp(e){this._internalRoot=e}sc.prototype.render=kp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));oc(e,t,null,null)};sc.prototype.unmount=kp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){oc(null,e,null,null)}),t[nr]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=t_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&r_(e)}};function Dp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vy(){}function ZR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Iu(s);o.call(u)}}var s=I1(t,r,e,0,null,!1,!1,"",vy);return e._reactRootContainer=s,e[nr]=s.current,Zs(e.nodeType===8?e.parentNode:e),vi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Iu(l);a.call(u)}}var l=Pp(e,0,!1,null,null,!1,!1,"",vy);return e._reactRootContainer=l,e[nr]=l.current,Zs(e.nodeType===8?e.parentNode:e),vi(function(){oc(t,l,n,r)}),l}function lc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Iu(s);a.call(l)}}oc(t,s,e,i)}else s=ZR(n,t,e,i,r);return Iu(s)}Zv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Es(t.pendingLanes);n!==0&&(Yf(t,n|1),zt(t,je()),!(de&6)&&(To=je()+500,qr()))}break;case 13:vi(function(){var r=rr(e,1);if(r!==null){var i=Lt();Sn(r,e,1,i)}}),xp(e,1)}};Xf=function(e){if(e.tag===13){var t=rr(e,134217728);if(t!==null){var n=Lt();Sn(t,e,134217728,n)}xp(e,134217728)}};e_=function(e){if(e.tag===13){var t=kr(e),n=rr(e,t);if(n!==null){var r=Lt();Sn(n,e,t,r)}xp(e,t)}};t_=function(){return me};n_=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};hd=function(e,t,n){switch(t){case"input":if(id(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ju(r);if(!i)throw Error(D(90));Vv(r),id(r,i)}}}break;case"textarea":Ov(e,n);break;case"select":t=n.value,t!=null&&so(e,!!n.multiple,t,!1)}};Bv=Ip;zv=vi;var e2={usingClientEntryPoint:!1,Events:[Na,Yi,Ju,Uv,jv,Ip]},hs={findFiberByHostInstance:ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},t2={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wv(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||JR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Gu=_l.inject(t2),$n=_l}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e2;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(t))throw Error(D(200));return XR(e,t,null,n)};Zt.createRoot=function(e,t){if(!Dp(e))throw Error(D(299));var n=!1,r="",i=R1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pp(e,1,!1,null,null,n,!1,r,i),e[nr]=t.current,Zs(e.nodeType===8?e.parentNode:e),new kp(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Wv(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return vi(e)};Zt.hydrate=function(e,t,n){if(!ac(t))throw Error(D(200));return lc(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!Dp(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=R1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=I1(t,null,e,1,n??null,i,!1,o,s),e[nr]=t.current,Zs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sc(t)};Zt.render=function(e,t,n){if(!ac(t))throw Error(D(200));return lc(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!ac(e))throw Error(D(40));return e._reactRootContainer?(vi(function(){lc(null,null,e,!1,function(){e._reactRootContainer=null,e[nr]=null})}),!0):!1};Zt.unstable_batchedUpdates=Ip;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return lc(e,t,n,!1,r)};Zt.version="18.2.0-next-9e3b772b8-20220608";function C1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C1)}catch(e){console.error(e)}}C1(),Iv.exports=Zt;var Np=Iv.exports;const n2=bf(Np),r2=fv({__proto__:null,default:n2},[Np]);var _y=Np;Xh.createRoot=_y.createRoot,Xh.hydrateRoot=_y.hydrateRoot;var Rt=function(){return Rt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Rt.apply(this,arguments)};function So(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ee="-ms-",bs="-moz-",pe="-webkit-",A1="comm",uc="rule",Vp="decl",i2="@import",P1="@keyframes",o2="@layer",x1=Math.abs,Lp=String.fromCharCode,Hd=Object.assign;function s2(e,t){return nt(e,0)^45?(((t<<2^nt(e,0))<<2^nt(e,1))<<2^nt(e,2))<<2^nt(e,3):0}function k1(e){return e.trim()}function Gn(e,t){return(e=t.exec(e))?e[0]:e}function ne(e,t,n){return e.replace(t,n)}function Wl(e,t,n){return e.indexOf(t,n)}function nt(e,t){return e.charCodeAt(t)|0}function Io(e,t,n){return e.slice(t,n)}function Nn(e){return e.length}function D1(e){return e.length}function Ss(e,t){return t.push(e),e}function a2(e,t){return e.map(t).join("")}function wy(e,t){return e.filter(function(n){return!Gn(n,t)})}var cc=1,Ro=1,N1=0,mn=0,qe=0,zo="";function hc(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:cc,column:Ro,length:s,return:"",siblings:a}}function pr(e,t){return Hd(hc("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Fi(e){for(;e.root;)e=pr(e.root,{children:[e]});Ss(e,e.siblings)}function l2(){return qe}function u2(){return qe=mn>0?nt(zo,--mn):0,Ro--,qe===10&&(Ro=1,cc--),qe}function In(){return qe=mn<N1?nt(zo,mn++):0,Ro++,qe===10&&(Ro=1,cc++),qe}function hi(){return nt(zo,mn)}function Kl(){return mn}function dc(e,t){return Io(zo,e,t)}function qd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function c2(e){return cc=Ro=1,N1=Nn(zo=e),mn=0,[]}function h2(e){return zo="",e}function Ih(e){return k1(dc(mn-1,Wd(e===91?e+2:e===40?e+1:e)))}function d2(e){for(;(qe=hi())&&qe<33;)In();return qd(e)>2||qd(qe)>3?"":" "}function f2(e,t){for(;--t&&In()&&!(qe<48||qe>102||qe>57&&qe<65||qe>70&&qe<97););return dc(e,Kl()+(t<6&&hi()==32&&In()==32))}function Wd(e){for(;In();)switch(qe){case e:return mn;case 34:case 39:e!==34&&e!==39&&Wd(qe);break;case 40:e===41&&Wd(e);break;case 92:In();break}return mn}function p2(e,t){for(;In()&&e+qe!==57;)if(e+qe===84&&hi()===47)break;return"/*"+dc(t,mn-1)+"*"+Lp(e===47?e:In())}function m2(e){for(;!qd(hi());)In();return dc(e,mn)}function g2(e){return h2(Gl("",null,null,null,[""],e=c2(e),0,[0],e))}function Gl(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,h=s,d=0,p=0,g=0,_=1,E=1,m=1,f=0,y="",T=i,C=o,A=r,v=y;E;)switch(g=f,f=In()){case 40:if(g!=108&&nt(v,h-1)==58){Wl(v+=ne(Ih(f),"&","&\f"),"&\f",x1(u?a[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:v+=Ih(f);break;case 9:case 10:case 13:case 32:v+=d2(g);break;case 92:v+=f2(Kl()-1,7);continue;case 47:switch(hi()){case 42:case 47:Ss(y2(p2(In(),Kl()),t,n,l),l);break;default:v+="/"}break;case 123*_:a[u++]=Nn(v)*m;case 125*_:case 59:case 0:switch(f){case 0:case 125:E=0;case 59+c:m==-1&&(v=ne(v,/\f/g,"")),p>0&&Nn(v)-h&&Ss(p>32?Ty(v+";",r,n,h-1,l):Ty(ne(v," ","")+";",r,n,h-2,l),l);break;case 59:v+=";";default:if(Ss(A=Ey(v,t,n,u,c,i,a,y,T=[],C=[],h,o),o),f===123)if(c===0)Gl(v,t,A,A,T,o,h,a,C);else switch(d===99&&nt(v,3)===110?100:d){case 100:case 108:case 109:case 115:Gl(e,A,A,r&&Ss(Ey(e,A,A,0,0,i,a,y,i,T=[],h,C),C),i,C,h,a,r?T:C);break;default:Gl(v,A,A,A,[""],C,0,a,C)}}u=c=p=0,_=m=1,y=v="",h=s;break;case 58:h=1+Nn(v),p=g;default:if(_<1){if(f==123)--_;else if(f==125&&_++==0&&u2()==125)continue}switch(v+=Lp(f),f*_){case 38:m=c>0?1:(v+="\f",-1);break;case 44:a[u++]=(Nn(v)-1)*m,m=1;break;case 64:hi()===45&&(v+=Ih(In())),d=hi(),c=h=Nn(y=v+=m2(Kl())),f++;break;case 45:g===45&&Nn(v)==2&&(_=0)}}return o}function Ey(e,t,n,r,i,o,s,a,l,u,c,h){for(var d=i-1,p=i===0?o:[""],g=D1(p),_=0,E=0,m=0;_<r;++_)for(var f=0,y=Io(e,d+1,d=x1(E=s[_])),T=e;f<g;++f)(T=k1(E>0?p[f]+" "+y:ne(y,/&\f/g,p[f])))&&(l[m++]=T);return hc(e,t,n,i===0?uc:a,l,u,c,h)}function y2(e,t,n,r){return hc(e,t,n,A1,Lp(l2()),Io(e,2,-2),0,r)}function Ty(e,t,n,r,i){return hc(e,t,n,Vp,Io(e,0,r),Io(e,r+1,-1),r,i)}function V1(e,t,n){switch(s2(e,t)){case 5103:return pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pe+e+e;case 4789:return bs+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pe+e+bs+e+Ee+e+e;case 5936:switch(nt(e,t+11)){case 114:return pe+e+Ee+ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pe+e+Ee+ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pe+e+Ee+ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return pe+e+Ee+e+e;case 6165:return pe+e+Ee+"flex-"+e+e;case 5187:return pe+e+ne(e,/(\w+).+(:[^]+)/,pe+"box-$1$2"+Ee+"flex-$1$2")+e;case 5443:return pe+e+Ee+"flex-item-"+ne(e,/flex-|-self/g,"")+(Gn(e,/flex-|baseline/)?"":Ee+"grid-row-"+ne(e,/flex-|-self/g,""))+e;case 4675:return pe+e+Ee+"flex-line-pack"+ne(e,/align-content|flex-|-self/g,"")+e;case 5548:return pe+e+Ee+ne(e,"shrink","negative")+e;case 5292:return pe+e+Ee+ne(e,"basis","preferred-size")+e;case 6060:return pe+"box-"+ne(e,"-grow","")+pe+e+Ee+ne(e,"grow","positive")+e;case 4554:return pe+ne(e,/([^-])(transform)/g,"$1"+pe+"$2")+e;case 6187:return ne(ne(ne(e,/(zoom-|grab)/,pe+"$1"),/(image-set)/,pe+"$1"),e,"")+e;case 5495:case 3959:return ne(e,/(image-set\([^]*)/,pe+"$1$`$1");case 4968:return ne(ne(e,/(.+:)(flex-)?(.*)/,pe+"box-pack:$3"+Ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pe+e+e;case 4200:if(!Gn(e,/flex-|baseline/))return Ee+"grid-column-align"+Io(e,t)+e;break;case 2592:case 3360:return Ee+ne(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Gn(r.props,/grid-\w+-end/)})?~Wl(e+(n=n[t].value),"span",0)?e:Ee+ne(e,"-start","")+e+Ee+"grid-row-span:"+(~Wl(n,"span",0)?Gn(n,/\d+/):+Gn(n,/\d+/)-+Gn(e,/\d+/))+";":Ee+ne(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Gn(r.props,/grid-\w+-start/)})?e:Ee+ne(ne(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return ne(e,/(.+)-inline(.+)/,pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nn(e)-1-t>6)switch(nt(e,t+1)){case 109:if(nt(e,t+4)!==45)break;case 102:return ne(e,/(.+:)(.+)-([^]+)/,"$1"+pe+"$2-$3$1"+bs+(nt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Wl(e,"stretch",0)?V1(ne(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return ne(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,u){return Ee+i+":"+o+u+(s?Ee+i+"-span:"+(a?l:+l-+o)+u:"")+e});case 4949:if(nt(e,t+6)===121)return ne(e,":",":"+pe)+e;break;case 6444:switch(nt(e,nt(e,14)===45?18:11)){case 120:return ne(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+pe+(nt(e,14)===45?"inline-":"")+"box$3$1"+pe+"$2$3$1"+Ee+"$2box$3")+e;case 100:return ne(e,":",":"+Ee)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ne(e,"scroll-","scroll-snap-")+e}return e}function Ru(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function v2(e,t,n,r){switch(e.type){case o2:if(e.children.length)break;case i2:case Vp:return e.return=e.return||e.value;case A1:return"";case P1:return e.return=e.value+"{"+Ru(e.children,r)+"}";case uc:if(!Nn(e.value=e.props.join(",")))return""}return Nn(n=Ru(e.children,r))?e.return=e.value+"{"+n+"}":""}function _2(e){var t=D1(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function w2(e){return function(t){t.root||(t=t.return)&&e(t)}}function E2(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Vp:e.return=V1(e.value,e.length,n);return;case P1:return Ru([pr(e,{value:ne(e.value,"@","@"+pe)})],r);case uc:if(e.length)return a2(n=e.props,function(i){switch(Gn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Fi(pr(e,{props:[ne(i,/:(read-\w+)/,":"+bs+"$1")]})),Fi(pr(e,{props:[i]})),Hd(e,{props:wy(n,r)});break;case"::placeholder":Fi(pr(e,{props:[ne(i,/:(plac\w+)/,":"+pe+"input-$1")]})),Fi(pr(e,{props:[ne(i,/:(plac\w+)/,":"+bs+"$1")]})),Fi(pr(e,{props:[ne(i,/:(plac\w+)/,Ee+"input-$1")]})),Fi(pr(e,{props:[i]})),Hd(e,{props:wy(n,r)});break}return""})}}var T2={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qt={},Co=typeof process<"u"&&qt!==void 0&&(qt.REACT_APP_SC_ATTR||qt.SC_ATTR)||"data-styled",L1="active",O1="data-styled-version",fc="6.1.8",Op=`/*!sc*/
`,Mp=typeof window<"u"&&"HTMLElement"in window,S2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&qt!==void 0&&qt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&qt.REACT_APP_SC_DISABLE_SPEEDY!==""?qt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&qt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&qt!==void 0&&qt.SC_DISABLE_SPEEDY!==void 0&&qt.SC_DISABLE_SPEEDY!==""&&qt.SC_DISABLE_SPEEDY!=="false"&&qt.SC_DISABLE_SPEEDY),I2={},pc=Object.freeze([]),Ao=Object.freeze({});function M1(e,t,n){return n===void 0&&(n=Ao),e.theme!==n.theme&&e.theme||t||n.theme}var b1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),R2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,C2=/(^-|-$)/g;function Sy(e){return e.replace(R2,"-").replace(C2,"")}var A2=/(a)(d)/gi,wl=52,Iy=function(e){return String.fromCharCode(e+(e>25?39:97))};function Kd(e){var t,n="";for(t=Math.abs(e);t>wl;t=t/wl|0)n=Iy(t%wl)+n;return(Iy(t%wl)+n).replace(A2,"$1-$2")}var Rh,$1=5381,ro=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},F1=function(e){return ro($1,e)};function bp(e){return Kd(F1(e)>>>0)}function P2(e){return e.displayName||e.name||"Component"}function Ch(e){return typeof e=="string"&&!0}var U1=typeof Symbol=="function"&&Symbol.for,j1=U1?Symbol.for("react.memo"):60115,x2=U1?Symbol.for("react.forward_ref"):60112,k2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N2=((Rh={})[x2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Rh[j1]=B1,Rh);function Ry(e){return("type"in(t=e)&&t.type.$$typeof)===j1?B1:"$$typeof"in e?N2[e.$$typeof]:k2;var t}var V2=Object.defineProperty,L2=Object.getOwnPropertyNames,Cy=Object.getOwnPropertySymbols,O2=Object.getOwnPropertyDescriptor,M2=Object.getPrototypeOf,Ay=Object.prototype;function z1(e,t,n){if(typeof t!="string"){if(Ay){var r=M2(t);r&&r!==Ay&&z1(e,r,n)}var i=L2(t);Cy&&(i=i.concat(Cy(t)));for(var o=Ry(e),s=Ry(t),a=0;a<i.length;++a){var l=i[a];if(!(l in D2||n&&n[l]||s&&l in s||o&&l in o)){var u=O2(t,l);try{V2(e,l,u)}catch{}}}}return e}function Po(e){return typeof e=="function"}function $p(e){return typeof e=="object"&&"styledComponentId"in e}function ri(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Cu(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function la(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Gd(e,t,n){if(n===void 0&&(n=!1),!n&&!la(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Gd(e[r],t[r]);else if(la(t))for(var r in t)e[r]=Gd(e[r],t[r]);return e}function Fp(e,t){Object.defineProperty(e,"toString",{value:t})}function La(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var b2=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw La(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(Op);return n},e}(),Ql=new Map,Au=new Map,Yl=1,El=function(e){if(Ql.has(e))return Ql.get(e);for(;Au.has(Yl);)Yl++;var t=Yl++;return Ql.set(e,t),Au.set(t,e),t},$2=function(e,t){Yl=t+1,Ql.set(e,t),Au.set(t,e)},F2="style[".concat(Co,"][").concat(O1,'="').concat(fc,'"]'),U2=new RegExp("^".concat(Co,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),j2=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},B2=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Op),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(U2);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&($2(c,u),j2(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function z2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var H1=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Co,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Co,L1),r.setAttribute(O1,fc);var s=z2();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},H2=function(){function e(t){this.element=H1(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw La(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),q2=function(){function e(t){this.element=H1(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),W2=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Py=Mp,K2={isServer:!Mp,useCSSOMInjection:!S2},Pu=function(){function e(t,n,r){t===void 0&&(t=Ao),n===void 0&&(n={});var i=this;this.options=Rt(Rt({},K2),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Mp&&Py&&(Py=!1,function(o){for(var s=document.querySelectorAll(F2),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(Co)!==L1&&(B2(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Fp(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",u=function(h){var d=function(m){return Au.get(m)}(h);if(d===void 0)return"continue";var p=o.names.get(d),g=s.getGroup(h);if(p===void 0||g.length===0)return"continue";var _="".concat(Co,".g").concat(h,'[id="').concat(d,'"]'),E="";p!==void 0&&p.forEach(function(m){m.length>0&&(E+="".concat(m,","))}),l+="".concat(g).concat(_,'{content:"').concat(E,'"}').concat(Op)},c=0;c<a;c++)u(c);return l}(i)})}return e.registerId=function(t){return El(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Rt(Rt({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new W2(i):r?new H2(i):new q2(i)}(this.options),new b2(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(El(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(El(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(El(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),G2=/&/g,Q2=/^\s*\/\/.*$/gm;function q1(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=q1(n.children,t)),n})}function Y2(e){var t,n,r,i=e===void 0?Ao:e,o=i.options,s=o===void 0?Ao:o,a=i.plugins,l=a===void 0?pc:a,u=function(d,p,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(t):d},c=l.slice();c.push(function(d){d.type===uc&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(G2,n).replace(r,u))}),s.prefix&&c.push(E2),c.push(v2);var h=function(d,p,g,_){p===void 0&&(p=""),g===void 0&&(g=""),_===void 0&&(_="&"),t=_,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var E=d.replace(Q2,""),m=g2(g||p?"".concat(g," ").concat(p," { ").concat(E," }"):E);s.namespace&&(m=q1(m,s.namespace));var f=[];return Ru(m,_2(c.concat(w2(function(y){return f.push(y)})))),f};return h.hash=l.length?l.reduce(function(d,p){return p.name||La(15),ro(d,p.name)},$1).toString():"",h}var X2=new Pu,Qd=Y2(),W1=un.createContext({shouldForwardProp:void 0,styleSheet:X2,stylis:Qd});W1.Consumer;un.createContext(void 0);function Yd(){return P.useContext(W1)}var K1=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=Qd);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Fp(this,function(){throw La(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Qd),this.name+t.hash},e}(),J2=function(e){return e>="A"&&e<="Z"};function xy(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;J2(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var G1=function(e){return e==null||e===!1||e===""},Q1=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!G1(o)&&(Array.isArray(o)&&o.isCss||Po(o)?r.push("".concat(xy(i),":"),o,";"):la(o)?r.push.apply(r,So(So(["".concat(i," {")],Q1(o),!1),["}"],!1)):r.push("".concat(xy(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in T2||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Nr(e,t,n,r){if(G1(e))return[];if($p(e))return[".".concat(e.styledComponentId)];if(Po(e)){if(!Po(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return Nr(i,t,n,r)}var o;return e instanceof K1?n?(e.inject(n,r),[e.getName(r)]):[e]:la(e)?Q1(e):Array.isArray(e)?Array.prototype.concat.apply(pc,e.map(function(s){return Nr(s,t,n,r)})):[e.toString()]}function Y1(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Po(n)&&!$p(n))return!1}return!0}var Z2=F1(fc),eC=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Y1(t),this.componentId=n,this.baseHash=ro(Z2,n),this.baseStyle=r,Pu.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ri(i,this.staticRulesId);else{var o=Cu(Nr(this.rules,t,n,r)),s=Kd(ro(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=ri(i,s),this.staticRulesId=s}else{for(var l=ro(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var d=Cu(Nr(h,t,n,r));l=ro(l,d+c),u+=d}}if(u){var p=Kd(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(u,".".concat(p),void 0,this.componentId)),i=ri(i,p)}}return i},e}(),Up=un.createContext(void 0);Up.Consumer;var Ah={};function tC(e,t,n){var r=$p(e),i=e,o=!Ch(e),s=t.attrs,a=s===void 0?pc:s,l=t.componentId,u=l===void 0?function(T,C){var A=typeof T!="string"?"sc":Sy(T);Ah[A]=(Ah[A]||0)+1;var v="".concat(A,"-").concat(bp(fc+A+Ah[A]));return C?"".concat(C,"-").concat(v):v}(t.displayName,t.parentComponentId):l,c=t.displayName,h=c===void 0?function(T){return Ch(T)?"styled.".concat(T):"Styled(".concat(P2(T),")")}(e):c,d=t.displayName&&t.componentId?"".concat(Sy(t.displayName),"-").concat(t.componentId):t.componentId||u,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=t.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(t.shouldForwardProp){var E=t.shouldForwardProp;g=function(T,C){return _(T,C)&&E(T,C)}}else g=_}var m=new eC(n,d,r?i.componentStyle:void 0);function f(T,C){return function(A,v,V){var j=A.attrs,M=A.componentStyle,oe=A.defaultProps,Pe=A.foldedComponentIds,_e=A.styledComponentId,Ke=A.target,Ht=un.useContext(Up),Pn=Yd(),tn=A.shouldForwardProp||Pn.shouldForwardProp,N=M1(v,Ht,oe)||Ao,z=function(Je,Fe,at){for(var qn,Wn=Rt(Rt({},Fe),{className:void 0,theme:at}),Xo=0;Xo<Je.length;Xo+=1){var Li=Po(qn=Je[Xo])?qn(Wn):qn;for(var Le in Li)Wn[Le]=Le==="className"?ri(Wn[Le],Li[Le]):Le==="style"?Rt(Rt({},Wn[Le]),Li[Le]):Li[Le]}return Fe.className&&(Wn.className=ri(Wn.className,Fe.className)),Wn}(j,v,N),K=z.as||Ke,le={};for(var ie in z)z[ie]===void 0||ie[0]==="$"||ie==="as"||ie==="theme"&&z.theme===N||(ie==="forwardedAs"?le.as=z.forwardedAs:tn&&!tn(ie,K)||(le[ie]=z[ie]));var bt=function(Je,Fe){var at=Yd(),qn=Je.generateAndInjectStyles(Fe,at.styleSheet,at.stylis);return qn}(M,z),st=ri(Pe,_e);return bt&&(st+=" "+bt),z.className&&(st+=" "+z.className),le[Ch(K)&&!b1.has(K)?"class":"className"]=st,le.ref=V,P.createElement(K,le)}(y,T,C)}f.displayName=h;var y=un.forwardRef(f);return y.attrs=p,y.componentStyle=m,y.displayName=h,y.shouldForwardProp=g,y.foldedComponentIds=r?ri(i.foldedComponentIds,i.styledComponentId):"",y.styledComponentId=d,y.target=r?i.target:e,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=r?function(C){for(var A=[],v=1;v<arguments.length;v++)A[v-1]=arguments[v];for(var V=0,j=A;V<j.length;V++)Gd(C,j[V],!0);return C}({},i.defaultProps,T):T}}),Fp(y,function(){return".".concat(y.styledComponentId)}),o&&z1(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function ky(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Dy=function(e){return Object.assign(e,{isCss:!0})};function jp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Po(e)||la(e))return Dy(Nr(ky(pc,So([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Nr(r):Dy(Nr(ky(r,t)))}function Xd(e,t,n){if(n===void 0&&(n=Ao),!t)throw La(1,t);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,n,jp.apply(void 0,So([i],o,!1)))};return r.attrs=function(i){return Xd(e,t,Rt(Rt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Xd(e,t,Rt(Rt({},n),i))},r}var X1=function(e){return Xd(tC,e)},B=X1;b1.forEach(function(e){B[e]=X1(e)});var nC=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Y1(t),Pu.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var o=i(Cu(Nr(this.rules,n,r,i)),""),s=this.componentId+t;r.insertRules(s,s,o)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&Pu.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function rC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=jp.apply(void 0,So([e],t,!1)),i="sc-global-".concat(bp(JSON.stringify(r))),o=new nC(r,i),s=function(l){var u=Yd(),c=un.useContext(Up),h=un.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),un.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return o.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,d){if(o.isStatic)o.renderStyles(l,I2,c,d);else{var p=Rt(Rt({},u),{theme:M1(u,h,s.defaultProps)});o.renderStyles(l,p,c,d)}}return un.memo(s)}function J1(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Cu(jp.apply(void 0,So([e],t,!1))),i=bp(r);return new K1(i,r)}const iC="data:image/svg+xml,%3csvg%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200%20120'%20preserveAspectRatio='none'%20%3e%3cpath%20d='M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z'%20class='shape-fill'%20fill='%23118AB0'%20fill-opacity='1'%3e%3c/path%3e%3c/svg%3e",oC="data:image/svg+xml,%3csvg%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200%20120'%20preserveAspectRatio='none'%20%3e%3cpath%20d='M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z'%20class='shape-fill'%20fill='%23118AB0'%20fill-opacity='1'%3e%3c/path%3e%3c/svg%3e";/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}var Ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ue||(Ue={}));const Ny="popstate";function sC(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:a="",hash:l=""}=Hn(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ua("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:wi(o))}function r(i,o){_i(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lC(t,n,r,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aC(){return Math.random().toString(36).substr(2,8)}function Vy(e,t){return{usr:e.state,key:e.key,idx:t}}function ua(e,t,n,r){return n===void 0&&(n=null),xe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hn(t):t,{state:n,key:t&&t.key||r||aC()})}function wi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Hn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ue.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(xe({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Ue.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:m})}function d(E,m){a=Ue.Push;let f=ua(_.location,E,m);n&&n(f,E),u=c()+1;let y=Vy(f,u),T=_.createHref(f);try{s.pushState(y,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}o&&l&&l({action:a,location:_.location,delta:1})}function p(E,m){a=Ue.Replace;let f=ua(_.location,E,m);n&&n(f,E),u=c();let y=Vy(f,u),T=_.createHref(f);s.replaceState(y,"",T),o&&l&&l({action:a,location:_.location,delta:0})}function g(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof E=="string"?E:wi(E);return f=f.replace(/ $/,"%20"),re(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let _={get action(){return a},get location(){return e(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ny,h),l=E,()=>{i.removeEventListener(Ny,h),l=null}},createHref(E){return t(i,E)},createURL:g,encodeLocation(E){let m=g(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(E){return s.go(E)}};return _}var Re;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Re||(Re={}));const uC=new Set(["lazy","caseSensitive","path","id","index","children"]);function cC(e){return e.index===!0}function Jd(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(re(i.index!==!0||!i.children,"Cannot specify children on an index route"),re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cC(i)){let l=xe({},i,t(i),{id:a});return r[a]=l,l}else{let l=xe({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Jd(i.children,t,s,r)),l}})}function io(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Hn(t):t,i=Ho(r.pathname||"/",n);if(i==null)return null;let o=Z1(e);dC(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=IC(i);s=EC(o[a],l)}return s}function hC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Z1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=er([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z1(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:_C(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of ew(o.path))i(o,s,l)}),t}function ew(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=ew(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function dC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:wC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fC=/^:[\w-]+$/,pC=3,mC=2,gC=1,yC=10,vC=-2,Ly=e=>e==="*";function _C(e,t){let n=e.split("/"),r=n.length;return n.some(Ly)&&(r+=vC),t&&(r+=mC),n.filter(i=>!Ly(i)).reduce((i,o)=>i+(fC.test(o)?pC:o===""?gC:yC),r)}function wC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function EC(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=TC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:er([i,c.pathname]),pathnameBase:AC(er([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=er([i,c.pathnameBase]))}return o}function TC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=SC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function SC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function IC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ho(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Hn(e):e;return{pathname:n?n.startsWith("/")?n:CC(n,t):t,search:PC(r),hash:xC(i)}}function CC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ph(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mc(e,t){let n=tw(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Hn(e):(i=xe({},e),re(!i.pathname||!i.pathname.includes("?"),Ph("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),Ph("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),Ph("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=RC(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const er=e=>e.join("/").replace(/\/\/+/g,"/"),AC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Bp{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nw=["post","put","patch","delete"],kC=new Set(nw),DC=["get",...nw],NC=new Set(DC),VC=new Set([301,302,303,307,308]),LC=new Set([307,308]),xh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ds={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MC=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),rw="remix-router-transitions";function bC(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;re(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let w=e.detectErrorBoundary;i=S=>({hasErrorBoundary:w(S)})}else i=MC;let o={},s=Jd(e.routes,i,void 0,o),a,l=e.basename||"/",u=e.unstable_dataStrategy||jC,c=xe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),h=null,d=new Set,p=null,g=null,_=null,E=e.hydrationData!=null,m=io(s,e.history.location,l),f=null;if(m==null){let w=rn(404,{pathname:e.history.location.pathname}),{matches:S,route:R}=Hy(s);m=S,f={[R.id]:w}}let y,T=m.some(w=>w.route.lazy),C=m.some(w=>w.route.loader);if(T)y=!1;else if(!C)y=!0;else if(c.v7_partialHydration){let w=e.hydrationData?e.hydrationData.loaderData:null,S=e.hydrationData?e.hydrationData.errors:null,R=L=>L.route.loader?typeof L.route.loader=="function"&&L.route.loader.hydrate===!0?!1:w&&w[L.route.id]!==void 0||S&&S[L.route.id]!==void 0:!0;if(S){let L=m.findIndex($=>S[$.route.id]!==void 0);y=m.slice(0,L+1).every(R)}else y=m.every(R)}else y=e.hydrationData!=null;let A,v={historyAction:e.history.action,location:e.history.location,matches:m,initialized:y,navigation:xh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||f,fetchers:new Map,blockers:new Map},V=Ue.Pop,j=!1,M,oe=!1,Pe=new Map,_e=null,Ke=!1,Ht=!1,Pn=[],tn=[],N=new Map,z=0,K=-1,le=new Map,ie=new Set,bt=new Map,st=new Map,Je=new Set,Fe=new Map,at=new Map,qn=!1;function Wn(){if(h=e.history.listen(w=>{let{action:S,location:R,delta:L}=w;if(qn){qn=!1;return}_i(at.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=ag({currentLocation:v.location,nextLocation:R,historyAction:S});if($&&L!=null){qn=!0,e.history.go(L*-1),Za($,{state:"blocked",location:R,proceed(){Za($,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(L)},reset(){let ee=new Map(v.blockers);ee.set($,ds),Le({blockers:ee})}});return}return Yr(S,R)}),n){ZC(t,Pe);let w=()=>eA(t,Pe);t.addEventListener("pagehide",w),_e=()=>t.removeEventListener("pagehide",w)}return v.initialized||Yr(Ue.Pop,v.location,{initialHydration:!0}),A}function Xo(){h&&h(),_e&&_e(),d.clear(),M&&M.abort(),v.fetchers.forEach((w,S)=>Ja(S)),v.blockers.forEach((w,S)=>sg(S))}function Li(w){return d.add(w),()=>d.delete(w)}function Le(w,S){S===void 0&&(S={}),v=xe({},v,w);let R=[],L=[];c.v7_fetcherPersist&&v.fetchers.forEach(($,ee)=>{$.state==="idle"&&(Je.has(ee)?L.push(ee):R.push(ee))}),[...d].forEach($=>$(v,{deletedFetchers:L,unstable_viewTransitionOpts:S.viewTransitionOpts,unstable_flushSync:S.flushSync===!0})),c.v7_fetcherPersist&&(R.forEach($=>v.fetchers.delete($)),L.forEach($=>Ja($)))}function Jo(w,S,R){var L,$;let{flushSync:ee}=R===void 0?{}:R,q=v.actionData!=null&&v.navigation.formMethod!=null&&wn(v.navigation.formMethod)&&v.navigation.state==="loading"&&((L=w.state)==null?void 0:L._isRedirect)!==!0,F;S.actionData?Object.keys(S.actionData).length>0?F=S.actionData:F=null:q?F=v.actionData:F=null;let te=S.loaderData?By(v.loaderData,S.loaderData,S.matches||[],S.errors):v.loaderData,X=v.blockers;X.size>0&&(X=new Map(X),X.forEach((G,Ie)=>X.set(Ie,ds)));let lt=j===!0||v.navigation.formMethod!=null&&wn(v.navigation.formMethod)&&(($=w.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),Ke||V===Ue.Pop||(V===Ue.Push?e.history.push(w,w.state):V===Ue.Replace&&e.history.replace(w,w.state));let ut;if(V===Ue.Pop){let G=Pe.get(v.location.pathname);G&&G.has(w.pathname)?ut={currentLocation:v.location,nextLocation:w}:Pe.has(w.pathname)&&(ut={currentLocation:w,nextLocation:v.location})}else if(oe){let G=Pe.get(v.location.pathname);G?G.add(w.pathname):(G=new Set([w.pathname]),Pe.set(v.location.pathname,G)),ut={currentLocation:v.location,nextLocation:w}}Le(xe({},S,{actionData:F,loaderData:te,historyAction:V,location:w,initialized:!0,navigation:xh,revalidation:"idle",restoreScrollPosition:ug(w,S.matches||v.matches),preventScrollReset:lt,blockers:X}),{viewTransitionOpts:ut,flushSync:ee===!0}),V=Ue.Pop,j=!1,oe=!1,Ke=!1,Ht=!1,Pn=[],tn=[]}async function eg(w,S){if(typeof w=="number"){e.history.go(w);return}let R=Zd(v.location,v.matches,l,c.v7_prependBasename,w,c.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:L,submission:$,error:ee}=Oy(c.v7_normalizeFormMethod,!1,R,S),q=v.location,F=ua(v.location,L,S&&S.state);F=xe({},F,e.history.encodeLocation(F));let te=S&&S.replace!=null?S.replace:void 0,X=Ue.Push;te===!0?X=Ue.Replace:te===!1||$!=null&&wn($.formMethod)&&$.formAction===v.location.pathname+v.location.search&&(X=Ue.Replace);let lt=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,ut=(S&&S.unstable_flushSync)===!0,G=ag({currentLocation:q,nextLocation:F,historyAction:X});if(G){Za(G,{state:"blocked",location:F,proceed(){Za(G,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),eg(w,S)},reset(){let Ie=new Map(v.blockers);Ie.set(G,ds),Le({blockers:Ie})}});return}return await Yr(X,F,{submission:$,pendingError:ee,preventScrollReset:lt,replace:S&&S.replace,enableViewTransition:S&&S.unstable_viewTransition,flushSync:ut})}function _S(){if(Yc(),Le({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Yr(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Yr(V||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function Yr(w,S,R){M&&M.abort(),M=null,V=w,Ke=(R&&R.startUninterruptedRevalidation)===!0,PS(v.location,v.matches),j=(R&&R.preventScrollReset)===!0,oe=(R&&R.enableViewTransition)===!0;let L=a||s,$=R&&R.overrideNavigation,ee=io(L,S,l),q=(R&&R.flushSync)===!0;if(!ee){let G=rn(404,{pathname:S.pathname}),{matches:Ie,route:Ze}=Hy(L);Xc(),Jo(S,{matches:Ie,loaderData:{},errors:{[Ze.id]:G}},{flushSync:q});return}if(v.initialized&&!Ht&&KC(v.location,S)&&!(R&&R.submission&&wn(R.submission.formMethod))){Jo(S,{matches:ee},{flushSync:q});return}M=new AbortController;let F=Ui(e.history,S,M.signal,R&&R.submission),te;if(R&&R.pendingError)te=[$s(ee).route.id,{type:Re.error,error:R.pendingError}];else if(R&&R.submission&&wn(R.submission.formMethod)){let G=await wS(F,S,R.submission,ee,{replace:R.replace,flushSync:q});if(G.shortCircuited)return;te=G.pendingActionResult,$=kh(S,R.submission),q=!1,F=Ui(e.history,F.url,F.signal)}let{shortCircuited:X,loaderData:lt,errors:ut}=await ES(F,S,ee,$,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,q,te);X||(M=null,Jo(S,xe({matches:ee},zy(te),{loaderData:lt,errors:ut})))}async function wS(w,S,R,L,$){$===void 0&&($={}),Yc();let ee=XC(S,R);Le({navigation:ee},{flushSync:$.flushSync===!0});let q,F=tf(L,S);if(!F.route.action&&!F.route.lazy)q={type:Re.error,error:rn(405,{method:w.method,pathname:S.pathname,routeId:F.route.id})};else if(q=(await es("action",w,[F],L))[0],w.signal.aborted)return{shortCircuited:!0};if(oi(q)){let te;return $&&$.replace!=null?te=$.replace:te=Fy(q.response.headers.get("Location"),new URL(w.url),l)===v.location.pathname+v.location.search,await Zo(w,q,{submission:R,replace:te}),{shortCircuited:!0}}if(ii(q))throw rn(400,{type:"defer-action"});if(an(q)){let te=$s(L,F.route.id);return($&&$.replace)!==!0&&(V=Ue.Push),{pendingActionResult:[te.route.id,q]}}return{pendingActionResult:[F.route.id,q]}}async function ES(w,S,R,L,$,ee,q,F,te,X){let lt=L||kh(S,$),ut=$||ee||Ky(lt),G=a||s,[Ie,Ze]=My(e.history,v,R,ut,S,c.v7_partialHydration&&F===!0,c.unstable_skipActionErrorRevalidation,Ht,Pn,tn,Je,bt,ie,G,l,X);if(Xc(ue=>!(R&&R.some(kt=>kt.route.id===ue))||Ie&&Ie.some(kt=>kt.route.id===ue)),K=++z,Ie.length===0&&Ze.length===0){let ue=ig();return Jo(S,xe({matches:R,loaderData:{},errors:X&&an(X[1])?{[X[0]]:X[1].error}:null},zy(X),ue?{fetchers:new Map(v.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(!Ke&&(!c.v7_partialHydration||!F)){Ze.forEach(kt=>{let nn=v.fetchers.get(kt.key),ct=fs(void 0,nn?nn.data:void 0);v.fetchers.set(kt.key,ct)});let ue;X&&!an(X[1])?ue={[X[0]]:X[1].data}:v.actionData&&(Object.keys(v.actionData).length===0?ue=null:ue=v.actionData),Le(xe({navigation:lt},ue!==void 0?{actionData:ue}:{},Ze.length>0?{fetchers:new Map(v.fetchers)}:{}),{flushSync:te})}Ze.forEach(ue=>{N.has(ue.key)&&hr(ue.key),ue.controller&&N.set(ue.key,ue.controller)});let ns=()=>Ze.forEach(ue=>hr(ue.key));M&&M.signal.addEventListener("abort",ns);let{loaderResults:dr,fetcherResults:Oi}=await tg(v.matches,R,Ie,Ze,w);if(w.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",ns),Ze.forEach(ue=>N.delete(ue.key));let Mi=qy([...dr,...Oi]);if(Mi){if(Mi.idx>=Ie.length){let ue=Ze[Mi.idx-Ie.length].key;ie.add(ue)}return await Zo(w,Mi.result,{replace:q}),{shortCircuited:!0}}let{loaderData:bi,errors:xn}=jy(v,R,Ie,dr,X,Ze,Oi,Fe);Fe.forEach((ue,kt)=>{ue.subscribe(nn=>{(nn||ue.done)&&Fe.delete(kt)})}),c.v7_partialHydration&&F&&v.errors&&Object.entries(v.errors).filter(ue=>{let[kt]=ue;return!Ie.some(nn=>nn.route.id===kt)}).forEach(ue=>{let[kt,nn]=ue;xn=Object.assign(xn||{},{[kt]:nn})});let el=ig(),tl=og(K),nl=el||tl||Ze.length>0;return xe({loaderData:bi,errors:xn},nl?{fetchers:new Map(v.fetchers)}:{})}function TS(w,S,R,L){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(w)&&hr(w);let $=(L&&L.unstable_flushSync)===!0,ee=a||s,q=Zd(v.location,v.matches,l,c.v7_prependBasename,R,c.v7_relativeSplatPath,S,L==null?void 0:L.relative),F=io(ee,q,l);if(!F){ts(w,S,rn(404,{pathname:q}),{flushSync:$});return}let{path:te,submission:X,error:lt}=Oy(c.v7_normalizeFormMethod,!0,q,L);if(lt){ts(w,S,lt,{flushSync:$});return}let ut=tf(F,te);if(j=(L&&L.preventScrollReset)===!0,X&&wn(X.formMethod)){SS(w,S,te,ut,F,$,X);return}bt.set(w,{routeId:S,path:te}),IS(w,S,te,ut,F,$,X)}async function SS(w,S,R,L,$,ee,q){if(Yc(),bt.delete(w),!L.route.action&&!L.route.lazy){let ct=rn(405,{method:q.formMethod,pathname:R,routeId:S});ts(w,S,ct,{flushSync:ee});return}let F=v.fetchers.get(w);cr(w,JC(q,F),{flushSync:ee});let te=new AbortController,X=Ui(e.history,R,te.signal,q);N.set(w,te);let lt=z,G=(await es("action",X,[L],$))[0];if(X.signal.aborted){N.get(w)===te&&N.delete(w);return}if(c.v7_fetcherPersist&&Je.has(w)){if(oi(G)||an(G)){cr(w,mr(void 0));return}}else{if(oi(G))if(N.delete(w),K>lt){cr(w,mr(void 0));return}else return ie.add(w),cr(w,fs(q)),Zo(X,G,{fetcherSubmission:q});if(an(G)){ts(w,S,G.error);return}}if(ii(G))throw rn(400,{type:"defer-action"});let Ie=v.navigation.location||v.location,Ze=Ui(e.history,Ie,te.signal),ns=a||s,dr=v.navigation.state!=="idle"?io(ns,v.navigation.location,l):v.matches;re(dr,"Didn't find any matches after fetcher action");let Oi=++z;le.set(w,Oi);let Mi=fs(q,G.data);v.fetchers.set(w,Mi);let[bi,xn]=My(e.history,v,dr,q,Ie,!1,c.unstable_skipActionErrorRevalidation,Ht,Pn,tn,Je,bt,ie,ns,l,[L.route.id,G]);xn.filter(ct=>ct.key!==w).forEach(ct=>{let rs=ct.key,cg=v.fetchers.get(rs),kS=fs(void 0,cg?cg.data:void 0);v.fetchers.set(rs,kS),N.has(rs)&&hr(rs),ct.controller&&N.set(rs,ct.controller)}),Le({fetchers:new Map(v.fetchers)});let el=()=>xn.forEach(ct=>hr(ct.key));te.signal.addEventListener("abort",el);let{loaderResults:tl,fetcherResults:nl}=await tg(v.matches,dr,bi,xn,Ze);if(te.signal.aborted)return;te.signal.removeEventListener("abort",el),le.delete(w),N.delete(w),xn.forEach(ct=>N.delete(ct.key));let ue=qy([...tl,...nl]);if(ue){if(ue.idx>=bi.length){let ct=xn[ue.idx-bi.length].key;ie.add(ct)}return Zo(Ze,ue.result)}let{loaderData:kt,errors:nn}=jy(v,v.matches,bi,tl,void 0,xn,nl,Fe);if(v.fetchers.has(w)){let ct=mr(G.data);v.fetchers.set(w,ct)}og(Oi),v.navigation.state==="loading"&&Oi>K?(re(V,"Expected pending action"),M&&M.abort(),Jo(v.navigation.location,{matches:dr,loaderData:kt,errors:nn,fetchers:new Map(v.fetchers)})):(Le({errors:nn,loaderData:By(v.loaderData,kt,dr,nn),fetchers:new Map(v.fetchers)}),Ht=!1)}async function IS(w,S,R,L,$,ee,q){let F=v.fetchers.get(w);cr(w,fs(q,F?F.data:void 0),{flushSync:ee});let te=new AbortController,X=Ui(e.history,R,te.signal);N.set(w,te);let lt=z,G=(await es("loader",X,[L],$))[0];if(ii(G)&&(G=await aw(G,X.signal,!0)||G),N.get(w)===te&&N.delete(w),!X.signal.aborted){if(Je.has(w)){cr(w,mr(void 0));return}if(oi(G))if(K>lt){cr(w,mr(void 0));return}else{ie.add(w),await Zo(X,G);return}if(an(G)){ts(w,S,G.error);return}re(!ii(G),"Unhandled fetcher deferred data"),cr(w,mr(G.data))}}async function Zo(w,S,R){let{submission:L,fetcherSubmission:$,replace:ee}=R===void 0?{}:R;S.response.headers.has("X-Remix-Revalidate")&&(Ht=!0);let q=S.response.headers.get("Location");re(q,"Expected a Location header on the redirect Response"),q=Fy(q,new URL(w.url),l);let F=ua(v.location,q,{_isRedirect:!0});if(n){let Ie=!1;if(S.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(Hp.test(q)){const Ze=e.history.createURL(q);Ie=Ze.origin!==t.location.origin||Ho(Ze.pathname,l)==null}if(Ie){ee?t.location.replace(q):t.location.assign(q);return}}M=null;let te=ee===!0?Ue.Replace:Ue.Push,{formMethod:X,formAction:lt,formEncType:ut}=v.navigation;!L&&!$&&X&&lt&&ut&&(L=Ky(v.navigation));let G=L||$;if(LC.has(S.response.status)&&G&&wn(G.formMethod))await Yr(te,F,{submission:xe({},G,{formAction:q}),preventScrollReset:j});else{let Ie=kh(F,L);await Yr(te,F,{overrideNavigation:Ie,fetcherSubmission:$,preventScrollReset:j})}}async function es(w,S,R,L){try{let $=await BC(u,w,S,R,L,o,i);return await Promise.all($.map((ee,q)=>{if(GC(ee)){let F=ee.result;return{type:Re.redirect,response:qC(F,S,R[q].route.id,L,l,c.v7_relativeSplatPath)}}return HC(ee)}))}catch($){return R.map(()=>({type:Re.error,error:$}))}}async function tg(w,S,R,L,$){let[ee,...q]=await Promise.all([R.length?es("loader",$,R,S):[],...L.map(F=>{if(F.matches&&F.match&&F.controller){let te=Ui(e.history,F.path,F.controller.signal);return es("loader",te,[F.match],F.matches).then(X=>X[0])}else return Promise.resolve({type:Re.error,error:rn(404,{pathname:F.path})})})]);return await Promise.all([Wy(w,R,ee,ee.map(()=>$.signal),!1,v.loaderData),Wy(w,L.map(F=>F.match),q,L.map(F=>F.controller?F.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:q}}function Yc(){Ht=!0,Pn.push(...Xc()),bt.forEach((w,S)=>{N.has(S)&&(tn.push(S),hr(S))})}function cr(w,S,R){R===void 0&&(R={}),v.fetchers.set(w,S),Le({fetchers:new Map(v.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function ts(w,S,R,L){L===void 0&&(L={});let $=$s(v.matches,S);Ja(w),Le({errors:{[$.route.id]:R},fetchers:new Map(v.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function ng(w){return c.v7_fetcherPersist&&(st.set(w,(st.get(w)||0)+1),Je.has(w)&&Je.delete(w)),v.fetchers.get(w)||OC}function Ja(w){let S=v.fetchers.get(w);N.has(w)&&!(S&&S.state==="loading"&&le.has(w))&&hr(w),bt.delete(w),le.delete(w),ie.delete(w),Je.delete(w),v.fetchers.delete(w)}function RS(w){if(c.v7_fetcherPersist){let S=(st.get(w)||0)-1;S<=0?(st.delete(w),Je.add(w)):st.set(w,S)}else Ja(w);Le({fetchers:new Map(v.fetchers)})}function hr(w){let S=N.get(w);re(S,"Expected fetch controller: "+w),S.abort(),N.delete(w)}function rg(w){for(let S of w){let R=ng(S),L=mr(R.data);v.fetchers.set(S,L)}}function ig(){let w=[],S=!1;for(let R of ie){let L=v.fetchers.get(R);re(L,"Expected fetcher: "+R),L.state==="loading"&&(ie.delete(R),w.push(R),S=!0)}return rg(w),S}function og(w){let S=[];for(let[R,L]of le)if(L<w){let $=v.fetchers.get(R);re($,"Expected fetcher: "+R),$.state==="loading"&&(hr(R),le.delete(R),S.push(R))}return rg(S),S.length>0}function CS(w,S){let R=v.blockers.get(w)||ds;return at.get(w)!==S&&at.set(w,S),R}function sg(w){v.blockers.delete(w),at.delete(w)}function Za(w,S){let R=v.blockers.get(w)||ds;re(R.state==="unblocked"&&S.state==="blocked"||R.state==="blocked"&&S.state==="blocked"||R.state==="blocked"&&S.state==="proceeding"||R.state==="blocked"&&S.state==="unblocked"||R.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+S.state);let L=new Map(v.blockers);L.set(w,S),Le({blockers:L})}function ag(w){let{currentLocation:S,nextLocation:R,historyAction:L}=w;if(at.size===0)return;at.size>1&&_i(!1,"A router only supports one blocker at a time");let $=Array.from(at.entries()),[ee,q]=$[$.length-1],F=v.blockers.get(ee);if(!(F&&F.state==="proceeding")&&q({currentLocation:S,nextLocation:R,historyAction:L}))return ee}function Xc(w){let S=[];return Fe.forEach((R,L)=>{(!w||w(L))&&(R.cancel(),S.push(L),Fe.delete(L))}),S}function AS(w,S,R){if(p=w,_=S,g=R||null,!E&&v.navigation===xh){E=!0;let L=ug(v.location,v.matches);L!=null&&Le({restoreScrollPosition:L})}return()=>{p=null,_=null,g=null}}function lg(w,S){return g&&g(w,S.map(L=>hC(L,v.loaderData)))||w.key}function PS(w,S){if(p&&_){let R=lg(w,S);p[R]=_()}}function ug(w,S){if(p){let R=lg(w,S),L=p[R];if(typeof L=="number")return L}return null}function xS(w){o={},a=Jd(w,i,void 0,o)}return A={get basename(){return l},get future(){return c},get state(){return v},get routes(){return s},get window(){return t},initialize:Wn,subscribe:Li,enableScrollRestoration:AS,navigate:eg,fetch:TS,revalidate:_S,createHref:w=>e.history.createHref(w),encodeLocation:w=>e.history.encodeLocation(w),getFetcher:ng,deleteFetcher:RS,dispose:Xo,getBlocker:CS,deleteBlocker:sg,_internalFetchControllers:N,_internalActiveDeferreds:Fe,_internalSetRoutes:xS},A}function $C(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Zd(e,t,n,r,i,o,s,a){let l,u;if(s){l=[];for(let h of t)if(l.push(h),h.route.id===s){u=h;break}}else l=t,u=t[t.length-1];let c=gc(i||".",mc(l,o),Ho(e.pathname,n)||e.pathname,a==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!qp(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:er([n,c.pathname])),wi(c)}function Oy(e,t,n,r){if(!r||!$C(r))return{path:n};if(r.formMethod&&!YC(r.formMethod))return{path:n,error:rn(405,{method:r.formMethod})};let i=()=>({path:n,error:rn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=ow(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wn(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[_,E]=g;return""+p+_+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!wn(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}re(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=ef(r.formData),u=r.formData;else if(r.body instanceof FormData)l=ef(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Uy(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Uy(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(wn(c.formMethod))return{path:n,submission:c};let h=Hn(n);return t&&h.search&&qp(h.search)&&l.append("index",""),h.search="?"+l,{path:wi(h),submission:c}}function FC(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function My(e,t,n,r,i,o,s,a,l,u,c,h,d,p,g,_){let E=_?an(_[1])?_[1].error:_[1].data:void 0,m=e.createURL(t.location),f=e.createURL(i),y=_&&an(_[1])?_[0]:void 0,T=y?FC(n,y):n,C=_?_[1].statusCode:void 0,A=s&&C&&C>=400,v=T.filter((j,M)=>{let{route:oe}=j;if(oe.lazy)return!0;if(oe.loader==null)return!1;if(o)return typeof oe.loader!="function"||oe.loader.hydrate?!0:t.loaderData[oe.id]===void 0&&(!t.errors||t.errors[oe.id]===void 0);if(UC(t.loaderData,t.matches[M],j)||l.some(Ke=>Ke===j.route.id))return!0;let Pe=t.matches[M],_e=j;return by(j,xe({currentUrl:m,currentParams:Pe.params,nextUrl:f,nextParams:_e.params},r,{actionResult:E,unstable_actionStatus:C,defaultShouldRevalidate:A?!1:a||m.pathname+m.search===f.pathname+f.search||m.search!==f.search||iw(Pe,_e)}))}),V=[];return h.forEach((j,M)=>{if(o||!n.some(Ht=>Ht.route.id===j.routeId)||c.has(M))return;let oe=io(p,j.path,g);if(!oe){V.push({key:M,routeId:j.routeId,path:j.path,matches:null,match:null,controller:null});return}let Pe=t.fetchers.get(M),_e=tf(oe,j.path),Ke=!1;d.has(M)?Ke=!1:u.includes(M)?Ke=!0:Pe&&Pe.state!=="idle"&&Pe.data===void 0?Ke=a:Ke=by(_e,xe({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:f,nextParams:n[n.length-1].params},r,{actionResult:E,unstable_actionStatus:C,defaultShouldRevalidate:A?!1:a})),Ke&&V.push({key:M,routeId:j.routeId,path:j.path,matches:oe,match:_e,controller:new AbortController})}),[v,V]}function UC(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function iw(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function by(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function $y(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];re(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";_i(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!uC.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,xe({},t(i),{lazy:void 0}))}function jC(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function BC(e,t,n,r,i,o,s,a){let l=r.reduce((h,d)=>h.add(d.route.id),new Set),u=new Set,c=await e({matches:i.map(h=>{let d=l.has(h.route.id);return xe({},h,{shouldLoad:d,resolve:g=>(u.add(h.route.id),d?zC(t,n,h,o,s,g,a):Promise.resolve({type:Re.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(h=>re(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((h,d)=>l.has(i[d].route.id))}async function zC(e,t,n,r,i,o,s){let a,l,u=c=>{let h,d=new Promise((_,E)=>h=E);l=()=>h(),t.signal.addEventListener("abort",l);let p=_=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:s},..._!==void 0?[_]:[]),g;return o?g=o(_=>p(_)):g=(async()=>{try{return{type:"data",result:await p()}}catch(_){return{type:"error",result:_}}})(),Promise.race([g,d])};try{let c=n.route[e];if(n.route.lazy)if(c){let h,[d]=await Promise.all([u(c).catch(p=>{h=p}),$y(n.route,i,r)]);if(h!==void 0)throw h;a=d}else if(await $y(n.route,i,r),c=n.route[e],c)a=await u(c);else if(e==="action"){let h=new URL(t.url),d=h.pathname+h.search;throw rn(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:Re.data,result:void 0};else if(c)a=await u(c);else{let h=new URL(t.url),d=h.pathname+h.search;throw rn(404,{pathname:d})}re(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Re.error,result:c}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function HC(e){let{result:t,type:n,status:r}=e;if(sw(t)){let s;try{let a=t.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?t.body==null?s=null:s=await t.json():s=await t.text()}catch(a){return{type:Re.error,error:a}}return n===Re.error?{type:Re.error,error:new Bp(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:Re.data,data:s,statusCode:t.status,headers:t.headers}}if(n===Re.error)return{type:Re.error,error:t,statusCode:zp(t)?t.status:r};if(QC(t)){var i,o;return{type:Re.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:Re.data,data:t,statusCode:r}}function qC(e,t,n,r,i,o){let s=e.headers.get("Location");if(re(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hp.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Zd(new URL(t.url),a,i,!0,s,o),e.headers.set("Location",s)}return e}function Fy(e,t,n){if(Hp.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=Ho(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Ui(e,t,n,r){let i=e.createURL(ow(t)).toString(),o={signal:n};if(r&&wn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=ef(r.formData):o.body=r.formData}return new Request(i,o)}function ef(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Uy(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function WC(e,t,n,r,i,o){let s={},a=null,l,u=!1,c={},h=r&&an(r[1])?r[1].error:void 0;return n.forEach((d,p)=>{let g=t[p].route.id;if(re(!oi(d),"Cannot handle redirect results in processLoaderData"),an(d)){let _=d.error;if(h!==void 0&&(_=h,h=void 0),a=a||{},o)a[g]=_;else{let E=$s(e,g);a[E.route.id]==null&&(a[E.route.id]=_)}s[g]=void 0,u||(u=!0,l=zp(d.error)?d.error.status:500),d.headers&&(c[g]=d.headers)}else ii(d)?(i.set(g,d.deferredData),s[g]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[g]=d.headers)):(s[g]=d.data,d.statusCode&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[g]=d.headers))}),h!==void 0&&r&&(a={[r[0]]:h},s[r[0]]=void 0),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:c}}function jy(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=WC(t,n,r,i,a,!1);for(let c=0;c<o.length;c++){let{key:h,match:d,controller:p}=o[c];re(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let g=s[c];if(!(p&&p.signal.aborted))if(an(g)){let _=$s(e.matches,d==null?void 0:d.route.id);u&&u[_.route.id]||(u=xe({},u,{[_.route.id]:g.error})),e.fetchers.delete(h)}else if(oi(g))re(!1,"Unhandled fetcher revalidation redirect");else if(ii(g))re(!1,"Unhandled fetcher deferred data");else{let _=mr(g.data);e.fetchers.set(h,_)}}return{loaderData:l,errors:u}}function By(e,t,n,r){let i=xe({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function zy(e){return e?an(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function $s(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Hy(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function rn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Bp(e||500,s,new Error(a),!0)}function qy(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(oi(n))return{result:n,idx:t}}}function ow(e){let t=typeof e=="string"?Hn(e):e;return wi(xe({},t,{hash:""}))}function KC(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function GC(e){return sw(e.result)&&VC.has(e.result.status)}function ii(e){return e.type===Re.deferred}function an(e){return e.type===Re.error}function oi(e){return(e&&e.type)===Re.redirect}function QC(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function sw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function YC(e){return NC.has(e.toLowerCase())}function wn(e){return kC.has(e.toLowerCase())}async function Wy(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(h=>h.route.id===l.route.id),c=u!=null&&!iw(u,l)&&(o&&o[l.route.id])!==void 0;if(ii(a)&&(i||c)){let h=r[s];re(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await aw(a,h,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function aw(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Re.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Re.error,error:i}}return{type:Re.data,data:e.deferredData.data}}}function qp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function tf(e,t){let n=typeof t=="string"?Hn(t).search:t.search;if(e[e.length-1].route.index&&qp(n||""))return e[e.length-1];let r=tw(e);return r[r.length-1]}function Ky(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function kh(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XC(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fs(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function JC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function mr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZC(e,t){try{let n=e.sessionStorage.getItem(rw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function eA(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(rw,JSON.stringify(n))}catch(r){_i(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(this,arguments)}const yc=P.createContext(null),lw=P.createContext(null),Wr=P.createContext(null),vc=P.createContext(null),ur=P.createContext({outlet:null,matches:[],isDataRoute:!1}),uw=P.createContext(null);function tA(e,t){let{relative:n}=t===void 0?{}:t;qo()||re(!1);let{basename:r,navigator:i}=P.useContext(Wr),{hash:o,pathname:s,search:a}=dw(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:er([r,s])),i.createHref({pathname:l,search:a,hash:o})}function qo(){return P.useContext(vc)!=null}function Oa(){return qo()||re(!1),P.useContext(vc).location}function cw(e){P.useContext(Wr).static||P.useLayoutEffect(e)}function Wp(){let{isDataRoute:e}=P.useContext(ur);return e?fA():nA()}function nA(){qo()||re(!1);let e=P.useContext(yc),{basename:t,future:n,navigator:r}=P.useContext(Wr),{matches:i}=P.useContext(ur),{pathname:o}=Oa(),s=JSON.stringify(mc(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return cw(()=>{a.current=!0}),P.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=gc(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:er([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,s,o,e])}function hw(){let{matches:e}=P.useContext(ur),t=e[e.length-1];return t?t.params:{}}function dw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=P.useContext(Wr),{matches:i}=P.useContext(ur),{pathname:o}=Oa(),s=JSON.stringify(mc(i,r.v7_relativeSplatPath));return P.useMemo(()=>gc(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function rA(e,t){return fw(e,t)}function fw(e,t,n,r){qo()||re(!1);let{navigator:i}=P.useContext(Wr),{matches:o}=P.useContext(ur),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Oa(),c;if(t){var h;let E=typeof t=="string"?Hn(t):t;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||re(!1),c=E}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=io(e,{pathname:p}),_=lA(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:er([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:er([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&_?P.createElement(vc.Provider,{value:{location:ca({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ue.Pop}},_):_}function iA(){let e=dA(),t=zp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,null)}const oA=P.createElement(iA,null);class sA extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?P.createElement(ur.Provider,{value:this.props.routeContext},P.createElement(uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aA(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(yc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(ur.Provider,{value:t},r)}function lA(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||re(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,g=!1,_=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||oA,l&&(u<0&&d===0?(pA("route-fallback",!1),g=!0,E=null):u===d&&(g=!0,E=h.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,d+1)),f=()=>{let y;return p?y=_:g?y=E:h.route.Component?y=P.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,P.createElement(aA,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?P.createElement(sA,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var pw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pw||{}),xu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xu||{});function uA(e){let t=P.useContext(yc);return t||re(!1),t}function cA(e){let t=P.useContext(lw);return t||re(!1),t}function hA(e){let t=P.useContext(ur);return t||re(!1),t}function mw(e){let t=hA(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}function dA(){var e;let t=P.useContext(uw),n=cA(xu.UseRouteError),r=mw(xu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function fA(){let{router:e}=uA(pw.UseNavigateStable),t=mw(xu.UseNavigateStable),n=P.useRef(!1);return cw(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ca({fromRouteId:t},o)))},[e,t])}const Gy={};function pA(e,t,n){!t&&!Gy[e]&&(Gy[e]=!0)}function mA(e){let{to:t,replace:n,state:r,relative:i}=e;qo()||re(!1);let{future:o,static:s}=P.useContext(Wr),{matches:a}=P.useContext(ur),{pathname:l}=Oa(),u=Wp(),c=gc(t,mc(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return P.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function gA(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ue.Pop,navigator:o,static:s=!1,future:a}=e;qo()&&re(!1);let l=t.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:o,static:s,future:ca({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Hn(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:g="default"}=r,_=P.useMemo(()=>{let E=Ho(c,l);return E==null?null:{location:{pathname:E,search:h,hash:d,state:p,key:g},navigationType:i}},[l,c,h,d,p,g,i]);return _==null?null:P.createElement(Wr.Provider,{value:u},P.createElement(vc.Provider,{children:n,value:_}))}new Promise(()=>{});function yA(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:P.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:P.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:P.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}function vA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _A(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wA(e,t){return e.button===0&&(!t||t==="_self")&&!_A(e)}const EA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TA="6";try{window.__reactRouterVersion=TA}catch{}function SA(e,t){return bC({basename:t==null?void 0:t.basename,future:ha({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:sC({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||IA(),routes:e,mapRouteProperties:yA,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy,window:t==null?void 0:t.window}).initialize()}function IA(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ha({},t,{errors:RA(t.errors)})),t}function RA(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Bp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const CA=P.createContext({isTransitioning:!1}),AA=P.createContext(new Map),PA="startTransition",Qy=WS[PA],xA="flushSync",Yy=r2[xA];function kA(e){Qy?Qy(e):e()}function ps(e){Yy?Yy(e):e()}let DA=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function NA(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=P.useState(n.state),[s,a]=P.useState(),[l,u]=P.useState({isTransitioning:!1}),[c,h]=P.useState(),[d,p]=P.useState(),[g,_]=P.useState(),E=P.useRef(new Map),{v7_startTransition:m}=r||{},f=P.useCallback(v=>{m?kA(v):v()},[m]),y=P.useCallback((v,V)=>{let{deletedFetchers:j,unstable_flushSync:M,unstable_viewTransitionOpts:oe}=V;j.forEach(_e=>E.current.delete(_e)),v.fetchers.forEach((_e,Ke)=>{_e.data!==void 0&&E.current.set(Ke,_e.data)});let Pe=n.window==null||typeof n.window.document.startViewTransition!="function";if(!oe||Pe){M?ps(()=>o(v)):f(()=>o(v));return}if(M){ps(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let _e=n.window.document.startViewTransition(()=>{ps(()=>o(v))});_e.finished.finally(()=>{ps(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),ps(()=>p(_e));return}d?(c&&c.resolve(),d.skipTransition(),_({state:v,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(a(v),u({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,d,c,E,f]);P.useLayoutEffect(()=>n.subscribe(y),[n,y]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new DA)},[l]),P.useEffect(()=>{if(c&&s&&n.window){let v=s,V=c.promise,j=n.window.document.startViewTransition(async()=>{f(()=>o(v)),await V});j.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(j)}},[f,s,c,n.window]),P.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,d,i.location,s]),P.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),_(void 0))},[l.isTransitioning,g]),P.useEffect(()=>{},[]);let T=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,V,j)=>n.navigate(v,{state:V,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(v,V,j)=>n.navigate(v,{replace:!0,state:V,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),C=n.basename||"/",A=P.useMemo(()=>({router:n,navigator:T,static:!1,basename:C}),[n,T,C]);return P.createElement(P.Fragment,null,P.createElement(yc.Provider,{value:A},P.createElement(lw.Provider,{value:i},P.createElement(AA.Provider,{value:E.current},P.createElement(CA.Provider,{value:l},P.createElement(gA,{basename:C,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?P.createElement(VA,{routes:n.routes,future:n.future,state:i}):t))))),null)}function VA(e){let{routes:t,future:n,state:r}=e;return fw(t,void 0,r,n)}const LA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,d=vA(t,EA),{basename:p}=P.useContext(Wr),g,_=!1;if(typeof u=="string"&&OA.test(u)&&(g=u,LA))try{let y=new URL(window.location.href),T=u.startsWith("//")?new URL(y.protocol+u):new URL(u),C=Ho(T.pathname,p);T.origin===y.origin&&C!=null?u=C+T.search+T.hash:_=!0}catch{}let E=tA(u,{relative:i}),m=MA(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function f(y){r&&r(y),y.defaultPrevented||m(y)}return P.createElement("a",ha({},d,{href:g||E,onClick:_||o?r:f,ref:n,target:l}))});var Xy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xy||(Xy={}));var Jy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jy||(Jy={}));function MA(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=t===void 0?{}:t,l=Wp(),u=Oa(),c=dw(e,{relative:s});return P.useCallback(h=>{if(wA(h,n)){h.preventDefault();let d=r!==void 0?r:wi(u)===wi(c);l(e,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,o,s,a])}const bA=B.div`
	padding: 1rem;
	border-radius: 10px;
	border: 1px solid rgb(40 129 168);
	background-size: cover;
	background-position: center;
	color: #e7d5ba;
	letter-spacing: 0.1rem;
	width: 180px;
`,$A=({imageUrl:e,children:t})=>I.jsx(bA,{style:{backgroundImage:`linear-gradient(to bottom, transparent 40%, rgb(40 129 168) 50%, transparent 80%), url(${e})`,backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:t});function FA({cat:e}){return I.jsx($A,{imageUrl:e.imageUrl,children:I.jsx("h1",{children:e.category})})}var UA={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Zy=e=>{let t;const n=new Set,r=(c,h)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=h??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(g=>g(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(UA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},jA=e=>e?Zy(e):Zy;var gw={exports:{}},yw={},vw={exports:{}},_w={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=P;function BA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zA=typeof Object.is=="function"?Object.is:BA,HA=xo.useState,qA=xo.useEffect,WA=xo.useLayoutEffect,KA=xo.useDebugValue;function GA(e,t){var n=t(),r=HA({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return WA(function(){i.value=n,i.getSnapshot=t,Dh(i)&&o({inst:i})},[e,n,t]),qA(function(){return Dh(i)&&o({inst:i}),e(function(){Dh(i)&&o({inst:i})})},[e]),KA(n),n}function Dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zA(e,n)}catch{return!0}}function QA(e,t){return t()}var YA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QA:GA;_w.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:YA;vw.exports=_w;var XA=vw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=P,JA=XA;function ZA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eP=typeof Object.is=="function"?Object.is:ZA,tP=JA.useSyncExternalStore,nP=_c.useRef,rP=_c.useEffect,iP=_c.useMemo,oP=_c.useDebugValue;yw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=nP(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=iP(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,eP(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?g:(c=p,h=_)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=tP(e,o[0],o[1]);return rP(function(){s.hasValue=!0,s.value=a},[a]),oP(a),a};gw.exports=yw;var sP=gw.exports;const aP=bf(sP);var ww={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:lP}=un,{useSyncExternalStoreWithSelector:uP}=aP;let e0=!1;const cP=e=>e;function hP(e,t=cP,n){(ww?"production":void 0)!=="production"&&n&&!e0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),e0=!0);const r=uP(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return lP(r),r}const t0=e=>{(ww?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?jA(e):e,n=(r,i)=>hP(t,r,i);return Object.assign(n,t),n},dP=e=>e?t0(e):t0;var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},fP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ew(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new pP;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mP=function(e){const t=Ew(e);return Tw.encodeByteArray(t,!0)},ku=function(e){return mP(e).replace(/\./g,"")},gP=function(e){try{return Tw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=()=>yP().__FIREBASE_DEFAULTS__,_P=()=>{if(typeof process>"u"||typeof n0>"u")return;const e=n0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gP(e[1]);return t&&JSON.parse(t)},Kp=()=>{try{return vP()||_P()||wP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},EP=e=>{var t,n;return(n=(t=Kp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Sw=e=>{const t=EP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Iw=()=>{var e;return(e=Kp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ku(JSON.stringify(n)),ku(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IP(){var e;const t=(e=Kp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RP(){return!IP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CP(){try{return typeof indexedDB=="object"}catch{return!1}}function AP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FirebaseError";class ki extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=PP,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cw.prototype.create)}}class Cw{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?xP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ki(i,a,r)}}function xP(e,t){return e.replace(kP,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const kP=/\{\$([^}]+)}/g;function nf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(r0(o)&&r0(s)){if(!nf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(e){return e&&e._delegate?e._delegate:e}class ko{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new TP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VP(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NP(e){return e===Zr?void 0:e}function VP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new DP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const OP={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},MP=he.INFO,bP={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},$P=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=bP[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Aw{constructor(t){this.name=t,this._logLevel=MP,this._logHandler=$P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const FP=(e,t)=>t.some(n=>e instanceof n);let i0,o0;function UP(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jP(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,rf=new WeakMap,xw=new WeakMap,Nh=new WeakMap,Gp=new WeakMap;function BP(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Vr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Pw.set(n,e)}).catch(()=>{}),Gp.set(t,e),t}function zP(e){if(rf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});rf.set(e,t)}let of={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return rf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||xw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HP(e){of=e(of)}function qP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Vh(this),t,...n);return xw.set(r,t.sort?t.sort():[t]),Vr(r)}:jP().includes(e)?function(...t){return e.apply(Vh(this),t),Vr(Pw.get(this))}:function(...t){return Vr(e.apply(Vh(this),t))}}function WP(e){return typeof e=="function"?qP(e):(e instanceof IDBTransaction&&zP(e),FP(e,UP())?new Proxy(e,of):e)}function Vr(e){if(e instanceof IDBRequest)return BP(e);if(Nh.has(e))return Nh.get(e);const t=WP(e);return t!==e&&(Nh.set(e,t),Gp.set(t,e)),t}const Vh=e=>Gp.get(e);function KP(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Vr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Vr(s.result),l.oldVersion,l.newVersion,Vr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GP=["get","getKey","getAll","getAllKeys","count"],QP=["put","add","delete","clear"],Lh=new Map;function s0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Lh.get(t))return Lh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=QP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GP.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Lh.set(t,o),o}HP(e=>({...e,get:(t,n,r)=>s0(t,n)||e.get(t,n,r),has:(t,n)=>!!s0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sf="@firebase/app",a0="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Aw("@firebase/app"),JP="@firebase/app-compat",ZP="@firebase/analytics-compat",ex="@firebase/analytics",tx="@firebase/app-check-compat",nx="@firebase/app-check",rx="@firebase/auth",ix="@firebase/auth-compat",ox="@firebase/database",sx="@firebase/database-compat",ax="@firebase/functions",lx="@firebase/functions-compat",ux="@firebase/installations",cx="@firebase/installations-compat",hx="@firebase/messaging",dx="@firebase/messaging-compat",fx="@firebase/performance",px="@firebase/performance-compat",mx="@firebase/remote-config",gx="@firebase/remote-config-compat",yx="@firebase/storage",vx="@firebase/storage-compat",_x="@firebase/firestore",wx="@firebase/firestore-compat",Ex="firebase",Tx="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="[DEFAULT]",Sx={[sf]:"fire-core",[JP]:"fire-core-compat",[ex]:"fire-analytics",[ZP]:"fire-analytics-compat",[nx]:"fire-app-check",[tx]:"fire-app-check-compat",[rx]:"fire-auth",[ix]:"fire-auth-compat",[ox]:"fire-rtdb",[sx]:"fire-rtdb-compat",[ax]:"fire-fn",[lx]:"fire-fn-compat",[ux]:"fire-iid",[cx]:"fire-iid-compat",[hx]:"fire-fcm",[dx]:"fire-fcm-compat",[fx]:"fire-perf",[px]:"fire-perf-compat",[mx]:"fire-rc",[gx]:"fire-rc-compat",[yx]:"fire-gcs",[vx]:"fire-gcs-compat",[_x]:"fire-fst",[wx]:"fire-fst-compat","fire-js":"fire-js",[Ex]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,Ix=new Map,lf=new Map;function l0(e,t){try{e.container.addComponent(t)}catch(n){Ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fa(e){const t=e.name;if(lf.has(t))return Ei.debug(`There were multiple attempts to register component ${t}.`),!1;lf.set(t,e);for(const n of Du.values())l0(n,e);for(const n of Ix.values())l0(n,e);return!0}function kw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Cw("app","Firebase",Rx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=Tx;function Nw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:af,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=Iw()),!n)throw Lr.create("no-options");const o=Du.get(i);if(o){if(nf(n,o.options)&&nf(r,o.config))return o;throw Lr.create("duplicate-app",{appName:i})}const s=new LP(i);for(const l of lf.values())s.addComponent(l);const a=new Cx(n,r,s);return Du.set(i,a),a}function Vw(e=af){const t=Du.get(e);if(!t&&e===af&&Iw())return Nw();if(!t)throw Lr.create("no-app",{appName:e});return t}function Or(e,t,n){var r;let i=(r=Sx[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}fa(new ko(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-heartbeat-database",Px=1,pa="firebase-heartbeat-store";let Oh=null;function Lw(){return Oh||(Oh=KP(Ax,Px,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(e=>{throw Lr.create("idb-open",{originalErrorMessage:e.message})})),Oh}async function xx(e){try{const n=(await Lw()).transaction(pa),r=await n.objectStore(pa).get(Ow(e));return await n.done,r}catch(t){if(t instanceof ki)Ei.warn(t.message);else{const n=Lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(n.message)}}}async function u0(e,t){try{const r=(await Lw()).transaction(pa,"readwrite");await r.objectStore(pa).put(t,Ow(e)),await r.done}catch(n){if(n instanceof ki)Ei.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function Ow(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=1024,Dx=30*24*60*60*1e3;class Nx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=c0();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Dx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c0(),{heartbeatsToSend:r,unsentEntries:i}=Vx(this._heartbeatsCache.heartbeats),o=ku(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function c0(){return new Date().toISOString().substring(0,10)}function Vx(e,t=kx){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),h0(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),h0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CP()?AP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function h0(e){return ku(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e){fa(new ko("platform-logger",t=>new YP(t),"PRIVATE")),fa(new ko("heartbeat",t=>new Nx(t),"PRIVATE")),Or(sf,a0,e),Or(sf,a0,"esm2017"),Or("fire-js","")}Ox("");var Mx="firebase",bx="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(Mx,bx,"app");var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Qp=Qp||{},Y=$x||self;function wc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ma(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Fx(e){return Object.prototype.hasOwnProperty.call(e,Mh)&&e[Mh]||(e[Mh]=++Ux)}var Mh="closure_uid_"+(1e9*Math.random()>>>0),Ux=0;function jx(e,t,n){return e.call.apply(e.bind,arguments)}function Bx(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ct(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=jx:Ct=Bx,Ct.apply(null,arguments)}function Tl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ot(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function Kr(){this.s=this.s,this.o=this.o}var zx=0;Kr.prototype.s=!1;Kr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),zx!=0)&&Fx(this)};Kr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Yp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function d0(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wc(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function At(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var Hx=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Y.addEventListener("test",n,t),Y.removeEventListener("test",n,t)}catch{}return e}();function ma(e){return/^[\s\xa0]*$/.test(e)}function Ec(){var e=Y.navigator;return e&&(e=e.userAgent)?e:""}function Ln(e){return Ec().indexOf(e)!=-1}function Xp(e){return Xp[" "](e),e}Xp[" "]=function(){};function qx(e,t){var n=bk;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Wx=Ln("Opera"),Do=Ln("Trident")||Ln("MSIE"),bw=Ln("Edge"),uf=bw||Do,$w=Ln("Gecko")&&!(Ec().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),Kx=Ec().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function Fw(){var e=Y.document;return e?e.documentMode:void 0}var cf;e:{var bh="",$h=function(){var e=Ec();if($w)return/rv:([^\);]+)(\)|;)/.exec(e);if(bw)return/Edge\/([\d\.]+)/.exec(e);if(Do)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Kx)return/WebKit\/(\S+)/.exec(e);if(Wx)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if($h&&(bh=$h?$h[1]:""),Do){var Fh=Fw();if(Fh!=null&&Fh>parseFloat(bh)){cf=String(Fh);break e}}cf=bh}var hf;if(Y.document&&Do){var f0=Fw();hf=f0||parseInt(cf,10)||void 0}else hf=void 0;var Gx=hf;function ga(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($w){e:{try{Xp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Qx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ga.$.h.call(this)}}ot(ga,At);var Qx={2:"touch",3:"pen",4:"mouse"};ga.prototype.h=function(){ga.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ba="closure_listenable_"+(1e6*Math.random()|0),Yx=0;function Xx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Yx,this.fa=this.ia=!1}function Tc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Jp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Jx(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Uw(e){const t={};for(const n in e)t[n]=e[n];return t}const p0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jw(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<p0.length;o++)n=p0[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sc(e){this.src=e,this.g={},this.h=0}Sc.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=ff(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new Xx(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function df(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Mw(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Tc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ff(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var Zp="closure_lm_"+(1e6*Math.random()|0),Uh={};function Bw(e,t,n,r,i){if(r&&r.once)return Hw(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Bw(e,t[o],n,r,i);return null}return n=nm(n),e&&e[ba]?e.O(t,n,Ma(r)?!!r.capture:!!r,i):zw(e,t,n,!1,r,i)}function zw(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ma(i)?!!i.capture:!!i,a=tm(e);if(a||(e[Zp]=a=new Sc(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=Zx(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hx||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ww(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Zx(){function e(n){return t.call(e.src,e.listener,n)}const t=ek;return e}function Hw(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Hw(e,t[o],n,r,i);return null}return n=nm(n),e&&e[ba]?e.P(t,n,Ma(r)?!!r.capture:!!r,i):zw(e,t,n,!0,r,i)}function qw(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)qw(e,t[o],n,r,i);else r=Ma(r)?!!r.capture:!!r,n=nm(n),e&&e[ba]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=ff(o,n,r,i),-1<n&&(Tc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=tm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ff(t,n,r,i)),(n=-1<e?t[e]:null)&&em(n))}function em(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ba])df(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ww(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tm(t))?(df(n,e),n.h==0&&(n.src=null,t[Zp]=null)):Tc(e)}}}function Ww(e){return e in Uh?Uh[e]:Uh[e]="on"+e}function ek(e,t){if(e.fa)e=!0;else{t=new ga(t,this);var n=e.listener,r=e.la||e.src;e.ia&&em(e),e=n.call(r,t)}return e}function tm(e){return e=e[Zp],e instanceof Sc?e:null}var jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function nm(e){return typeof e=="function"?e:(e[jh]||(e[jh]=function(t){return e.handleEvent(t)}),e[jh])}function it(){Kr.call(this),this.i=new Sc(this),this.S=this,this.J=null}ot(it,Kr);it.prototype[ba]=!0;it.prototype.removeEventListener=function(e,t,n,r){qw(this,e,t,n,r)};function gt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var i=t;t=new At(r,e),jw(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Sl(s,r,!0,t)&&i}if(s=t.g=e,i=Sl(s,r,!0,t)&&i,i=Sl(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Sl(s,r,!1,t)&&i}it.prototype.N=function(){if(it.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Tc(n[r]);delete e.g[t],e.h--}}this.J=null};it.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};it.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Sl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&df(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var rm=Y.JSON.stringify;class tk{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nk(){var e=im;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rk{constructor(){this.h=this.g=null}add(t,n){const r=Kw.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Kw=new tk(()=>new ik,e=>e.reset());class ik{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ok(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function sk(e){Y.setTimeout(()=>{throw e},0)}let ya,va=!1,im=new rk,Gw=()=>{const e=Y.Promise.resolve(void 0);ya=()=>{e.then(ak)}};var ak=()=>{for(var e;e=nk();){try{e.h.call(e.g)}catch(n){sk(n)}var t=Kw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}va=!1};function Ic(e,t){it.call(this),this.h=e||1,this.g=t||Y,this.j=Ct(this.qb,this),this.l=Date.now()}ot(Ic,it);O=Ic.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gt(this,"tick"),this.ga&&(om(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function om(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}O.N=function(){Ic.$.N.call(this),om(this),delete this.g};function sm(e,t,n){if(typeof e=="function")n&&(e=Ct(e,n));else if(e&&typeof e.handleEvent=="function")e=Ct(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Y.setTimeout(e,t||0)}function Qw(e){e.g=sm(()=>{e.g=null,e.i&&(e.i=!1,Qw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lk extends Kr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Qw(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(e){Kr.call(this),this.h=e,this.g={}}ot(_a,Kr);var m0=[];function Yw(e,t,n,r){Array.isArray(n)||(n&&(m0[0]=n.toString()),n=m0);for(var i=0;i<n.length;i++){var o=Bw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Xw(e){Jp(e.g,function(t,n){this.g.hasOwnProperty(n)&&em(t)},e),e.g={}}_a.prototype.N=function(){_a.$.N.call(this),Xw(this)};_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rc(){this.g=!0}Rc.prototype.Ea=function(){this.g=!1};function uk(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function ck(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function oo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+dk(e,n)+(r?" "+r:"")})}function hk(e,t){e.info(function(){return"TIMEOUT: "+t})}Rc.prototype.info=function(){};function dk(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return rm(n)}catch{return t}}var Di={},g0=null;function Cc(){return g0=g0||new it}Di.Ta="serverreachability";function Jw(e){At.call(this,Di.Ta,e)}ot(Jw,At);function wa(e){const t=Cc();gt(t,new Jw(t))}Di.STAT_EVENT="statevent";function Zw(e,t){At.call(this,Di.STAT_EVENT,e),this.stat=t}ot(Zw,At);function Vt(e){const t=Cc();gt(t,new Zw(t,e))}Di.Ua="timingevent";function eE(e,t){At.call(this,Di.Ua,e),this.size=t}ot(eE,At);function $a(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){e()},t)}var Ac={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function am(){}am.prototype.h=null;function y0(e){return e.h||(e.h=e.i())}function nE(){}var Fa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lm(){At.call(this,"d")}ot(lm,At);function um(){At.call(this,"c")}ot(um,At);var pf;function Pc(){}ot(Pc,am);Pc.prototype.g=function(){return new XMLHttpRequest};Pc.prototype.i=function(){return{}};pf=new Pc;function Ua(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new _a(this),this.P=fk,e=uf?125:void 0,this.V=new Ic(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rE}function rE(){this.i=null,this.g="",this.h=!1}var fk=45e3,iE={},mf={};O=Ua.prototype;O.setTimeout=function(e){this.P=e};function gf(e,t,n){e.L=1,e.A=kc(or(t)),e.u=n,e.S=!0,oE(e,null)}function oE(e,t){e.G=Date.now(),ja(e),e.B=or(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),fE(n.i,"t",r),e.o=0,n=e.l.J,e.h=new rE,e.g=LE(e.l,n?t:null,!e.u),0<e.O&&(e.M=new lk(Ct(e.Pa,e,e.g),e.O)),Yw(e.U,e.g,"readystatechange",e.nb),t=e.I?Uw(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),wa(),uk(e.j,e.v,e.B,e.m,e.W,e.u)}O.nb=function(e){e=e.target;const t=this.M;t&&On(e)==3?t.l():this.Pa(e)};O.Pa=function(e){try{if(e==this.g)e:{const c=On(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||uf||this.g&&(this.h.h||this.g.ja()||E0(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?wa(3):wa(2)),xc(this);var n=this.g.da();this.ca=n;t:if(sE(this)){var r=E0(this.g);e="";var i=r.length,o=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Fs(this);var s="";break t}this.h.i=new Y.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,ck(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ma(a)){var u=a;break t}}u=null}if(n=u)oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,n);else{this.i=!1,this.s=3,Vt(12),si(this),Fs(this);break e}}this.S?(aE(this,c,s),uf&&this.i&&c==3&&(Yw(this.U,this.V,"tick",this.mb),this.V.start())):(oo(this.j,this.m,s,null),yf(this,s)),c==4&&si(this),this.i&&!this.J&&(c==4?kE(this.l,this):(this.i=!1,ja(this)))}else Lk(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),si(this),Fs(this)}}}catch{}finally{}};function sE(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function aE(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=pk(e,n),i==mf){t==4&&(e.s=4,Vt(14),r=!1),oo(e.j,e.m,null,"[Incomplete Response]");break}else if(i==iE){e.s=4,Vt(15),oo(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else oo(e.j,e.m,i,null),yf(e,i);sE(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Vt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mm(t),t.M=!0,Vt(11))):(oo(e.j,e.m,n,"[Invalid Chunked Response]"),si(e),Fs(e))}O.mb=function(){if(this.g){var e=On(this.g),t=this.g.ja();this.o<t.length&&(xc(this),aE(this,e,t),this.i&&e!=4&&ja(this))}};function pk(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?mf:(n=Number(t.substring(n,r)),isNaN(n)?iE:(r+=1,r+n>t.length?mf:(t=t.slice(r,r+n),e.o=r+n,t)))}O.cancel=function(){this.J=!0,si(this)};function ja(e){e.Y=Date.now()+e.P,lE(e,e.P)}function lE(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=$a(Ct(e.lb,e),t)}function xc(e){e.C&&(Y.clearTimeout(e.C),e.C=null)}O.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(hk(this.j,this.B),this.L!=2&&(wa(),Vt(17)),si(this),this.s=2,Fs(this)):lE(this,this.Y-e)};function Fs(e){e.l.H==0||e.J||kE(e.l,e)}function si(e){xc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,om(e.V),Xw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function yf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||vf(n.i,e))){if(!e.K&&vf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Lu(n),Vc(n);else break e;pm(n),Vt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=$a(Ct(n.ib,n),6e3));if(1>=gE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ai(n,11)}else if((e.K||n.g==e)&&Lu(n),!ma(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(cm(o,o.h),o.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Te(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=VE(r,r.J?r.pa:null,r.Y),s.K){yE(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(xc(a),ja(a)),r.g=s}else PE(r);0<n.j.length&&Lc(n)}else u[0]!="stop"&&u[0]!="close"||ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ai(n,7):fm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}wa(4)}catch{}}function mk(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(wc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function gk(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(wc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function uE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(wc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=gk(e),r=mk(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var cE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yk(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function di(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof di){this.h=e.h,Nu(this,e.j),this.s=e.s,this.g=e.g,Vu(this,e.m),this.l=e.l;var t=e.i,n=new Ea;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),v0(this,n),this.o=e.o}else e&&(t=String(e).match(cE))?(this.h=!1,Nu(this,t[1]||"",!0),this.s=Is(t[2]||""),this.g=Is(t[3]||"",!0),Vu(this,t[4]),this.l=Is(t[5]||"",!0),v0(this,t[6]||"",!0),this.o=Is(t[7]||"")):(this.h=!1,this.i=new Ea(null,this.h))}di.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rs(t,_0,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Rs(t,_0,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Rs(n,n.charAt(0)=="/"?wk:_k,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rs(n,Tk)),e.join("")};function or(e){return new di(e)}function Nu(e,t,n){e.j=n?Is(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function v0(e,t,n){t instanceof Ea?(e.i=t,Sk(e.i,e.h)):(n||(t=Rs(t,Ek)),e.i=new Ea(t,e.h))}function Te(e,t,n){e.i.set(t,n)}function kc(e){return Te(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Is(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,vk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vk(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _0=/[#\/\?@]/g,_k=/[#\?:]/g,wk=/[#\?]/g,Ek=/[#\?@]/g,Tk=/#/g;function Ea(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gr(e){e.g||(e.g=new Map,e.h=0,e.i&&yk(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}O=Ea.prototype;O.add=function(e,t){Gr(this),this.i=null,e=Wo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function hE(e,t){Gr(e),t=Wo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function dE(e,t){return Gr(e),t=Wo(e,t),e.g.has(t)}O.forEach=function(e,t){Gr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};O.ta=function(){Gr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};O.Z=function(e){Gr(this);let t=[];if(typeof e=="string")dE(this,e)&&(t=t.concat(this.g.get(Wo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};O.set=function(e,t){return Gr(this),this.i=null,e=Wo(this,e),dE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};O.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function fE(e,t,n){hE(e,t),0<n.length&&(e.i=null,e.g.set(Wo(e,t),Yp(n)),e.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Wo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Sk(e,t){t&&!e.j&&(Gr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hE(this,r),fE(this,i,n))},e)),e.j=t}var Ik=class{constructor(e,t){this.g=e,this.map=t}};function pE(e){this.l=e||Rk,Y.PerformanceNavigationTiming?(e=Y.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rk=10;function mE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function gE(e){return e.h?1:e.g?e.g.size:0}function vf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function cm(e,t){e.g?e.g.add(t):e.h=t}function yE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}pE.prototype.cancel=function(){if(this.i=vE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function vE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Yp(e.i)}var Ck=class{stringify(e){return Y.JSON.stringify(e,void 0)}parse(e){return Y.JSON.parse(e,void 0)}};function Ak(){this.g=new Ck}function Pk(e,t,n){const r=n||"";try{uE(e,function(i,o){let s=i;Ma(i)&&(s=rm(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xk(e,t){const n=new Rc;if(Y.Image){const r=new Image;r.onload=Tl(Il,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tl(Il,n,r,"TestLoadImage: error",!1,t),r.onabort=Tl(Il,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tl(Il,n,r,"TestLoadImage: timeout",!1,t),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Il(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ba(e){this.l=e.ec||null,this.j=e.ob||!1}ot(Ba,am);Ba.prototype.g=function(){return new Dc(this.l,this.j)};Ba.prototype.i=function(e){return function(){return e}}({});function Dc(e,t){it.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=hm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Dc,it);var hm=0;O=Dc.prototype;O.open=function(e,t){if(this.readyState!=hm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ta(this)};O.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Y).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=hm};O.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_E(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function _E(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}O.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?za(this):Ta(this),this.readyState==3&&_E(this)}};O.Za=function(e){this.g&&(this.response=this.responseText=e,za(this))};O.Ya=function(e){this.g&&(this.response=e,za(this))};O.ka=function(){this.g&&za(this)};function za(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ta(e)}O.setRequestHeader=function(e,t){this.v.append(e,t)};O.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var kk=Y.JSON.parse;function Me(e){it.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wE,this.L=this.M=!1}ot(Me,it);var wE="",Dk=/^https?$/i,Nk=["POST","PUT"];O=Me.prototype;O.Oa=function(e){this.M=e};O.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pf.g(),this.C=this.u?y0(this.u):y0(pf),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){w0(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Y.FormData&&e instanceof Y.FormData,!(0<=Mw(Nk,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SE(this),0<this.B&&((this.L=Vk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=sm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){w0(this,o)}};function Vk(e){return Do&&typeof e.timeout=="number"&&e.ontimeout!==void 0}O.ua=function(){typeof Qp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function w0(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,EE(e),Nc(e)}function EE(e){e.F||(e.F=!0,gt(e,"complete"),gt(e,"error"))}O.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gt(this,"complete"),gt(this,"abort"),Nc(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nc(this,!0)),Me.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?TE(this):this.kb())};O.kb=function(){TE(this)};function TE(e){if(e.h&&typeof Qp<"u"&&(!e.C[1]||On(e)!=4||e.da()!=2)){if(e.v&&On(e)==4)sm(e.La,0,e);else if(gt(e,"readystatechange"),On(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(cE)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!Dk.test(i?i.toLowerCase():"")}n=r}if(n)gt(e,"complete"),gt(e,"success");else{e.m=6;try{var o=2<On(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",EE(e)}}finally{Nc(e)}}}}function Nc(e,t){if(e.g){SE(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||gt(e,"ready");try{n.onreadystatechange=r}catch{}}}function SE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Y.clearTimeout(e.A),e.A=null)}O.isActive=function(){return!!this.g};function On(e){return e.g?e.g.readyState:0}O.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),kk(t)}};function E0(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case wE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Lk(e){const t={};e=(e.g&&2<=On(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ma(e[r]))continue;var n=ok(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}Jx(t,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function IE(e){let t="";return Jp(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function dm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Te(e,t,n))}function ms(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function RE(e){this.Ga=0,this.j=[],this.l=new Rc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ms("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ms("baseRetryDelayMs",5e3,e),this.hb=ms("retryDelaySeedMs",1e4,e),this.eb=ms("forwardChannelMaxRetries",2,e),this.xa=ms("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new pE(e&&e.concurrentRequestLimit),this.Ja=new Ak,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=RE.prototype;O.ra=8;O.H=1;function fm(e){if(CE(e),e.H==3){var t=e.W++,n=or(e.I);if(Te(n,"SID",e.K),Te(n,"RID",t),Te(n,"TYPE","terminate"),Ha(e,n),t=new Ua(e,e.l,t),t.L=2,t.A=kc(or(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=t.A,n=!0),n||(t.g=LE(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ja(t)}NE(e)}function Vc(e){e.g&&(mm(e),e.g.cancel(),e.g=null)}function CE(e){Vc(e),e.u&&(Y.clearTimeout(e.u),e.u=null),Lu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Y.clearTimeout(e.m),e.m=null)}function Lc(e){if(!mE(e.i)&&!e.m){e.m=!0;var t=e.Na;ya||Gw(),va||(ya(),va=!0),im.add(t,e),e.C=0}}function Ok(e,t){return gE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=$a(Ct(e.Na,e,t),DE(e,e.C)),e.C++,!0)}O.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ua(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Uw(o),jw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=AE(this,i,t),n=or(this.I),Te(n,"RID",e),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),Ha(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(IE(o)))+"&"+t:this.o&&dm(n,this.o,o)),cm(this.i,i),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",t),Te(n,"SID","null"),i.aa=!0,gf(i,n,null)):gf(i,n,t),this.H=2}}else this.H==3&&(e?T0(this,e):this.j.length==0||mE(this.i)||T0(this))};function T0(e,t){var n;t?n=t.m:n=e.W++;const r=or(e.I);Te(r,"SID",e.K),Te(r,"RID",n),Te(r,"AID",e.V),Ha(e,r),e.o&&e.s&&dm(r,e.o,e.s),n=new Ua(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=AE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),cm(e.i,n),gf(n,r,t)}function Ha(e,t){e.na&&Jp(e.na,function(n,r){Te(t,r,n)}),e.h&&uE({},function(n,r){Te(t,r,n)})}function AE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ct(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Pk(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function PE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ya||Gw(),va||(ya(),va=!0),im.add(t,e),e.A=0}}function pm(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=$a(Ct(e.Ma,e),DE(e,e.A)),e.A++,!0)}O.Ma=function(){if(this.u=null,xE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=$a(Ct(this.jb,this),e)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vt(10),Vc(this),xE(this))};function mm(e){e.B!=null&&(Y.clearTimeout(e.B),e.B=null)}function xE(e){e.g=new Ua(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=or(e.wa);Te(t,"RID","rpc"),Te(t,"SID",e.K),Te(t,"AID",e.V),Te(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Te(t,"TO",e.qa),Te(t,"TYPE","xmlhttp"),Ha(e,t),e.o&&e.s&&dm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=kc(or(t)),n.u=null,n.S=!0,oE(n,e)}O.ib=function(){this.v!=null&&(this.v=null,Vc(this),pm(this),Vt(19))};function Lu(e){e.v!=null&&(Y.clearTimeout(e.v),e.v=null)}function kE(e,t){var n=null;if(e.g==t){Lu(e),mm(e),e.g=null;var r=2}else if(vf(e.i,t))n=t.F,yE(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=Cc(),gt(r,new eE(r,n)),Lc(e)}else PE(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&Ok(e,t)||r==2&&pm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ai(e,5);break;case 4:ai(e,10);break;case 3:ai(e,6);break;default:ai(e,2)}}}function DE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ai(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ct(e.pb,e);n||(n=new di("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Nu(n,"https"),kc(n)),xk(n.toString(),r)}else Vt(2);e.H=0,e.h&&e.h.za(t),NE(e),CE(e)}O.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Vt(2)):(this.l.info("Failed to ping google.com"),Vt(1))};function NE(e){if(e.H=0,e.ma=[],e.h){const t=vE(e.i);(t.length!=0||e.j.length!=0)&&(d0(e.ma,t),d0(e.ma,e.j),e.i.i.length=0,Yp(e.j),e.j.length=0),e.h.ya()}}function VE(e,t,n){var r=n instanceof di?or(n):new di(n);if(r.g!="")t&&(r.g=t+"."+r.g),Vu(r,r.m);else{var i=Y.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new di(null);r&&Nu(o,r),t&&(o.g=t),i&&Vu(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Te(r,n,t),Te(r,"VER",e.ra),Ha(e,r),r}function LE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Me(new Ba({ob:n})):new Me(e.va),t.Oa(e.J),t}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function OE(){}O=OE.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Ou(){if(Do&&!(10<=Number(Gx)))throw Error("Environmental error: no available transport.")}Ou.prototype.g=function(e,t){return new Jt(e,t)};function Jt(e,t){it.call(this),this.g=new RE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ma(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ma(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ko(this)}ot(Jt,it);Jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Vt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=VE(e,null,e.Y),Lc(e)};Jt.prototype.close=function(){fm(this.g)};Jt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=rm(e),e=n);t.j.push(new Ik(t.fb++,e)),t.H==3&&Lc(t)};Jt.prototype.N=function(){this.g.h=null,delete this.j,fm(this.g),delete this.g,Jt.$.N.call(this)};function ME(e){lm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ot(ME,lm);function bE(){um.call(this),this.status=1}ot(bE,um);function Ko(e){this.g=e}ot(Ko,OE);Ko.prototype.Ba=function(){gt(this.g,"a")};Ko.prototype.Aa=function(e){gt(this.g,new ME(e))};Ko.prototype.za=function(e){gt(this.g,new bE)};Ko.prototype.ya=function(){gt(this.g,"b")};function Mk(){this.blockSize=-1}function An(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(An,Mk);An.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Bh(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}An.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)Bh(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Bh(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Bh(this,r),i=0;break}}this.h=i,this.i+=t};An.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ge(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var bk={};function gm(e){return-128<=e&&128>e?qx(e,function(t){return new ge([t|0],0>t?-1:0)}):new ge([e|0],0>e?-1:0)}function Mn(e){if(isNaN(e)||!isFinite(e))return fo;if(0>e)return ft(Mn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_f;return new ge(t,0)}function $E(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ft($E(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(t,8)),r=fo,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Mn(Math.pow(t,o)),r=r.R(o).add(Mn(s))):(r=r.R(n),r=r.add(Mn(s)))}return r}var _f=4294967296,fo=gm(0),wf=gm(1),S0=gm(16777216);O=ge.prototype;O.ea=function(){if(ln(this))return-ft(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_f+r)*t,t*=_f}return e};O.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Jn(this))return"0";if(ln(this))return"-"+ft(this).toString(e);for(var t=Mn(Math.pow(e,6)),n=this,r="";;){var i=bu(n,t).g;n=Mu(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Jn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};O.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Jn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ln(e){return e.h==-1}O.X=function(e){return e=Mu(this,e),ln(e)?-1:Jn(e)?0:1};function ft(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ge(n,~e.h).add(wf)}O.abs=function(){return ln(this)?ft(this):this};O.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function Mu(e,t){return e.add(ft(t))}O.R=function(e){if(Jn(this)||Jn(e))return fo;if(ln(this))return ln(e)?ft(this).R(ft(e)):ft(ft(this).R(e));if(ln(e))return ft(this.R(ft(e)));if(0>this.X(S0)&&0>e.X(S0))return Mn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,Rl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Rl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Rl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Rl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ge(n,0)};function Rl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function gs(e,t){this.g=e,this.h=t}function bu(e,t){if(Jn(t))throw Error("division by zero");if(Jn(e))return new gs(fo,fo);if(ln(e))return t=bu(ft(e),t),new gs(ft(t.g),ft(t.h));if(ln(t))return t=bu(e,ft(t)),new gs(ft(t.g),t.h);if(30<e.g.length){if(ln(e)||ln(t))throw Error("slowDivide_ only works with positive integers.");for(var n=wf,r=t;0>=r.X(e);)n=I0(n),r=I0(r);var i=ji(n,1),o=ji(r,1);for(r=ji(r,2),n=ji(n,2);!Jn(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=ji(r,1),n=ji(n,1)}return t=Mu(e,i.R(t)),new gs(i,t)}for(i=fo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Mn(n),s=o.R(t);ln(s)||0<s.X(e);)n-=r,o=Mn(n),s=o.R(t);Jn(o)&&(o=wf),i=i.add(o),e=Mu(e,s)}return new gs(i,e)}O.gb=function(e){return bu(this,e).h};O.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ge(n,this.h&e.h)};O.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ge(n,this.h|e.h)};O.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ge(n,this.h^e.h)};function I0(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ge(n,e.h)}function ji(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ge(i,e.h)}Ou.prototype.createWebChannel=Ou.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Ac.NO_ERROR=0;Ac.TIMEOUT=8;Ac.HTTP_ERROR=6;tE.COMPLETE="complete";nE.EventType=Fa;Fa.OPEN="a";Fa.CLOSE="b";Fa.ERROR="c";Fa.MESSAGE="d";it.prototype.listen=it.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;An.prototype.digest=An.prototype.l;An.prototype.reset=An.prototype.reset;An.prototype.update=An.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=Mn;ge.fromString=$E;var $k=function(){return new Ou},Fk=function(){return Cc()},zh=Ac,Uk=tE,jk=Di,R0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bk=Ba,Cl=nE,zk=Me,Hk=An,po=ge;const C0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Aw("@firebase/firestore");function ys(){return Ti.logLevel}function U(e,...t){if(Ti.logLevel<=he.DEBUG){const n=t.map(ym);Ti.debug(`Firestore (${Go}): ${e}`,...n)}}function sr(e,...t){if(Ti.logLevel<=he.ERROR){const n=t.map(ym);Ti.error(`Firestore (${Go}): ${e}`,...n)}}function No(e,...t){if(Ti.logLevel<=he.WARN){const n=t.map(ym);Ti.warn(`Firestore (${Go}): ${e}`,...n)}}function ym(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+e;throw sr(t),new Error(t)}function ve(e,t){e||Q()}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class Wk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kk{constructor(t){this.t=t,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mr,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mr)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new FE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string"),new Tt(t)}}class Gk{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Qk{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gk(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yk{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xk{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new Yk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Jk(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function fe(e,t){return e<t?-1:e>t?1:0}function Vo(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.timestamp=t}static fromTimestamp(t){return new J(t)}static min(){return new J(new Xe(0,0))}static max(){return new J(new Xe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Sa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Sa?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ae extends Sa{construct(t,n,r){return new Ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new H(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const Zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Sa{construct(t,n,r){return new pt(t,n,r)}static isValidIdentifier(t){return Zk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new H(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.path=t}static fromPath(t){return new W(Ae.fromString(t))}static fromName(t){return new W(Ae.fromString(t).popFirst(5))}static empty(){return new W(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new W(new Ae(t.slice()))}}function eD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Ur(i,W.empty(),t)}function tD(e){return new Ur(e.readTime,e.key,-1)}class Ur{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(J.min(),W.empty(),-1)}static max(){return new Ur(J.max(),W.empty(),-1)}}function nD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=W.comparator(e.documentKey,t.documentKey),n!==0?n:fe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==rD)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,r)=>{n(t)})}static reject(t){return new k((n,r)=>{r(t)})}static waitFor(t){return new k((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=k.resolve(!1);for(const r of t)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new k((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new k((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function oD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}vm.oe=-1;function Oc(e){return e==null}function $u(e){return e===0&&1/e==-1/0}function sD(e){return typeof e=="number"&&Number.isInteger(e)&&!$u(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ni(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){this.comparator=t,this.root=n||dt.EMPTY}insert(t,n){return new Ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Al(this.root,t,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Al(this.root,t,this.comparator,!0)}}class Al{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=o??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new dt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,r,i,o){return this}insert(t,n,r){return new dt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(t){return new P0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof yt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new yt(this.comparator);return n.data=t,n}}class P0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.fields=t,t.sort(pt.comparator)}static empty(){return new Gt([])}unionWith(t){let n=new yt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Gt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BE("Invalid base64 string: "+o):o}}(t);return new xt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new xt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const aD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(e){if(ve(!!e),typeof e=="string"){let t=0;const n=aD.exec(e);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:He(e.seconds),nanos:He(e.nanos)}}function He(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Si(e){return typeof e=="string"?xt.fromBase64String(e):xt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wm(e){const t=e.mapValue.fields.__previous_value__;return _m(t)?wm(t):t}function Ia(e){const t=jr(e.mapValue.fields.__local_write_time__.timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ra{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ra&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_m(e)?4:uD(e)?9007199254740991:10:Q()}function Bn(e,t){if(e===t)return!0;const n=Ii(e);if(n!==Ii(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ia(e).isEqual(Ia(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=jr(i.timestampValue),a=jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Si(i.bytesValue).isEqual(Si(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),a=He(o.doubleValue);return s===a?$u(s)===$u(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Vo(e.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(A0(s)!==A0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Bn(s[l],a[l])))return!1;return!0}(e,t);default:return Q()}}function Ca(e,t){return(e.values||[]).find(n=>Bn(n,t))!==void 0}function Lo(e,t){if(e===t)return 0;const n=Ii(e),r=Ii(t);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=He(o.integerValue||o.doubleValue),l=He(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return x0(e.timestampValue,t.timestampValue);case 4:return x0(Ia(e),Ia(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Si(o),l=Si(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=fe(a[u],l[u]);if(c!==0)return c}return fe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=fe(He(o.latitude),He(s.latitude));return a!==0?a:fe(He(o.longitude),He(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Lo(a[u],l[u]);if(c)return c}return fe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Pl.mapValue&&s===Pl.mapValue)return 0;if(o===Pl.mapValue)return 1;if(s===Pl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=fe(l[h],c[h]);if(d!==0)return d;const p=Lo(a[l[h]],u[c[h]]);if(p!==0)return p}return fe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Q()}}function x0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);const n=jr(e),r=jr(t),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function Oo(e){return Ef(e)}function Ef(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Si(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return W.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ef(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ef(n.fields[s])}`;return i+"}"}(e.mapValue):Q()}function Tf(e){return!!e&&"integerValue"in e}function Em(e){return!!e&&"arrayValue"in e}function k0(e){return!!e&&"nullValue"in e}function D0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xl(e){return!!e&&"mapValue"in e}function Us(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ni(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Us(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Us(e.arrayValue.values[n]);return t}return Object.assign({},e)}function uD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.value=t}static empty(){return new Ft({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Xl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Us(n)}setAll(t){let n=pt.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Us(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Xl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ni(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Ft(Us(this.value))}}function zE(e){const t=[];return Ni(e.fields,(n,r)=>{const i=new pt([n]);if(Xl(r)){const o=zE(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Gt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new It(t,0,J.min(),J.min(),J.min(),Ft.empty(),0)}static newFoundDocument(t,n,r,i){return new It(t,1,n,J.min(),r,i,0)}static newNoDocument(t,n){return new It(t,2,n,J.min(),J.min(),Ft.empty(),0)}static newUnknownDocument(t,n){return new It(t,3,n,J.min(),J.min(),Ft.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof It&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n){this.position=t,this.inclusive=n}}function N0(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Lo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,n="asc"){this.field=t,this.dir=n}}function cD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class Qe extends HE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new dD(t,n,r):n==="array-contains"?new mD(t,r):n==="in"?new gD(t,r):n==="not-in"?new yD(t,r):n==="array-contains-any"?new vD(t,r):new Qe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new fD(t,r):new pD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lo(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends HE{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new zn(t,n)}matches(t){return qE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qE(e){return e.op==="and"}function WE(e){return hD(e)&&qE(e)}function hD(e){for(const t of e.filters)if(t instanceof zn)return!1;return!0}function Sf(e){if(e instanceof Qe)return e.field.canonicalString()+e.op.toString()+Oo(e.value);if(WE(e))return e.filters.map(t=>Sf(t)).join(",");{const t=e.filters.map(n=>Sf(n)).join(",");return`${e.op}(${t})`}}function KE(e,t){return e instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(e,t):e instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&KE(s,i.filters[a]),!0):!1}(e,t):void Q()}function GE(e){return e instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(e):e instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(GE).join(" ,")+"}"}(e):"Filter"}class dD extends Qe{constructor(t,n,r){super(t,n,r),this.key=W.fromName(r.referenceValue)}matches(t){const n=W.comparator(t.key,this.key);return this.matchesComparison(n)}}class fD extends Qe{constructor(t,n){super(t,"in",n),this.keys=QE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class pD extends Qe{constructor(t,n){super(t,"not-in",n),this.keys=QE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function QE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class mD extends Qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Em(n)&&Ca(n.arrayValue,this.value)}}class gD extends Qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ca(this.value.arrayValue,n)}}class yD extends Qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ca(this.value.arrayValue,n)}}class vD extends Qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function L0(e,t=null,n=[],r=[],i=null,o=null,s=null){return new _D(e,t,n,r,i,o,s)}function Tm(e){const t=Z(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Oc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Oo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Oo(r)).join(",")),t.ue=n}return t.ue}function Sm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!cD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!KE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!V0(e.startAt,t.startAt)&&V0(e.endAt,t.endAt)}function If(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wD(e,t,n,r,i,o,s,a){return new Mc(e,t,n,r,i,o,s,a)}function YE(e){return new Mc(e)}function O0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ED(e){return e.collectionGroup!==null}function js(e){const t=Z(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(pt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Uu(o,r))}),n.has(pt.keyField().canonicalString())||t.ce.push(new Uu(pt.keyField(),r))}return t.ce}function Un(e){const t=Z(e);return t.le||(t.le=TD(t,js(e))),t.le}function TD(e,t){if(e.limitType==="F")return L0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Uu(i.field,o)});const n=e.endAt?new Fu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fu(e.startAt.position,e.startAt.inclusive):null;return L0(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Rf(e,t,n){return new Mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bc(e,t){return Sm(Un(e),Un(t))&&e.limitType===t.limitType}function XE(e){return`${Tm(Un(e))}|lt:${e.limitType}`}function Bi(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GE(i)).join(", ")}]`),Oc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`}(Un(e))}; limitType=${e.limitType})`}function $c(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of js(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=N0(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,js(r),i)||r.endAt&&!function(s,a,l){const u=N0(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,js(r),i))}(e,t)}function SD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JE(e){return(t,n)=>{let r=!1;for(const i of js(e)){const o=ID(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ID(e,t,n){const r=e.field.isKeyField()?W.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Lo(l,u):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ni(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new Ve(W.comparator);function ar(){return RD}const ZE=new Ve(W.comparator);function Cs(...e){let t=ZE;for(const n of e)t=t.insert(n.key,n);return t}function eT(e){let t=ZE;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function li(){return Bs()}function tT(){return Bs()}function Bs(){return new Qo(e=>e.toString(),(e,t)=>e.isEqual(t))}const CD=new Ve(W.comparator),AD=new yt(W.comparator);function se(...e){let t=AD;for(const n of e)t=t.add(n);return t}const PD=new yt(fe);function xD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(t)?"-0":t}}function rT(e){return{integerValue:""+e}}function kD(e,t){return sD(t)?rT(t):nT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function DD(e,t,n){return e instanceof ju?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_m(o)&&(o=wm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Aa?oT(e,t):e instanceof Pa?sT(e,t):function(i,o){const s=iT(i,o),a=M0(s)+M0(i.Pe);return Tf(s)&&Tf(i.Pe)?rT(a):nT(i.serializer,a)}(e,t)}function ND(e,t,n){return e instanceof Aa?oT(e,t):e instanceof Pa?sT(e,t):n}function iT(e,t){return e instanceof Bu?function(r){return Tf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class ju extends Fc{}class Aa extends Fc{constructor(t){super(),this.elements=t}}function oT(e,t){const n=aT(t);for(const r of e.elements)n.some(i=>Bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pa extends Fc{constructor(t){super(),this.elements=t}}function sT(e,t){let n=aT(t);for(const r of e.elements)n=n.filter(i=>!Bn(i,r));return{arrayValue:{values:n}}}class Bu extends Fc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function M0(e){return He(e.integerValue||e.doubleValue)}function aT(e){return Em(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function VD(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Aa&&i instanceof Aa||r instanceof Pa&&i instanceof Pa?Vo(r.elements,i.elements,Bn):r instanceof Bu&&i instanceof Bu?Bn(r.Pe,i.Pe):r instanceof ju&&i instanceof ju}(e.transform,t.transform)}class LD{constructor(t,n){this.version=t,this.transformResults=n}}class Rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Uc{}function lT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Im(e.key,Rn.none()):new Ka(e.key,e.data,Rn.none());{const n=e.data,r=Ft.empty();let i=new yt(pt.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qr(e.key,r,new Gt(i.toArray()),Rn.none())}}function OD(e,t,n){e instanceof Ka?function(i,o,s){const a=i.value.clone(),l=$0(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Qr?function(i,o,s){if(!Jl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=$0(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(uT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function zs(e,t,n,r){return e instanceof Ka?function(o,s,a,l){if(!Jl(o.precondition,s))return a;const u=o.value.clone(),c=F0(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qr?function(o,s,a,l){if(!Jl(o.precondition,s))return a;const u=F0(o.fieldTransforms,l,s),c=s.data;return c.setAll(uT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(o,s,a){return Jl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function MD(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=iT(r.transform,i||null);o!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,o))}return n||null}function b0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(o,s)=>VD(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ka extends Uc{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qr extends Uc{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $0(e,t,n){const r=new Map;ve(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ND(s,a,n[i]))}return r}function F0(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,DD(o,s,t))}return r}class Im extends Uc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bD extends Uc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&OD(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=zs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=zs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=tT();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=lT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),se())}isEqual(t){return this.batchId===t.batchId&&Vo(this.mutations,t.mutations,(n,r)=>b0(n,r))&&Vo(this.baseMutations,t.baseMutations,(n,r)=>b0(n,r))}}class Rm{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ve(t.mutations.length===r.length);let i=function(){return CD}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Rm(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ce;function jD(e){switch(e){default:return Q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function cT(e){if(e===void 0)return sr("GRPC error has no .code"),x.UNKNOWN;switch(e){case ze.OK:return x.OK;case ze.CANCELLED:return x.CANCELLED;case ze.UNKNOWN:return x.UNKNOWN;case ze.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ze.INTERNAL:return x.INTERNAL;case ze.UNAVAILABLE:return x.UNAVAILABLE;case ze.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ze.NOT_FOUND:return x.NOT_FOUND;case ze.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ze.ABORTED:return x.ABORTED;case ze.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ze.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(ce=ze||(ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new po([4294967295,4294967295],0);function U0(e){const t=BD().encode(e),n=new Hk;return n.update(t),new Uint8Array(n.digest())}function j0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new po([n,r],0),new po([i,o],0)]}class Cm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new As(`Invalid padding: ${n}`);if(r<0)throw new As(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new As(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new As(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=po.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(po.fromNumber(r)));return i.compare(zD)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=U0(t),[r,i]=j0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Cm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;const n=U0(t),[r,i]=j0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class As extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ga.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new jc(J.min(),i,new Ve(fe),ar(),se())}}class Ga{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ga(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class hT{constructor(t,n){this.targetId=t,this.me=n}}class dT{constructor(t,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class B0{constructor(){this.fe=0,this.ge=H0(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=se(),n=se(),r=se();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ga(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=H0()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HD{constructor(t){this.Le=t,this.Be=new Map,this.ke=ar(),this.qe=z0(),this.Qe=new Ve(fe)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(If(o))if(r===0){const s=new W(o.path);this.Ue(n,s,It.newNoDocument(s,J.min()))}else ve(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Si(r).toUint8Array()}catch(l){if(l instanceof BE)return No("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cm(s,i,o)}catch(l){return No(l instanceof As?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&If(a.target)){const l=new W(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,It.newNoDocument(l,t))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=se();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const i=new jc(t,n,this.Qe,this.ke,r);return this.ke=ar(),this.qe=z0(),this.Qe=new Ve(fe),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new B0,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new yt(fe),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new B0),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function z0(){return new Ve(W.comparator)}function H0(){return new Ve(W.comparator)}const qD={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class GD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Cf(e,t){return e.useProto3Json||Oc(t)?t:{value:t}}function zu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function QD(e,t){return zu(e,t.toTimestamp())}function jn(e){return ve(!!e),J.fromTimestamp(function(n){const r=jr(n);return new Xe(r.seconds,r.nanos)}(e))}function Am(e,t){return Af(e,t).canonicalString()}function Af(e,t){const n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function pT(e){const t=Ae.fromString(e);return ve(_T(t)),t}function Pf(e,t){return Am(e.databaseId,t.path)}function Hh(e,t){const n=pT(t);if(n.get(1)!==e.databaseId.projectId)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(gT(n))}function mT(e,t){return Am(e.databaseId,t)}function YD(e){const t=pT(e);return t.length===4?Ae.emptyPath():gT(t)}function xf(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gT(e){return ve(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function q0(e,t,n){return{name:Pf(e,t),fields:n.value.mapValue.fields}}function XD(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ve(c===void 0||typeof c=="string"),xt.fromBase64String(c||"")):(ve(c===void 0||c instanceof Buffer||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?x.UNKNOWN:cT(u.code);return new H(c,u.message||"")}(s);n=new dT(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hh(e,r.document.name),o=jn(r.document.updateTime),s=r.document.createTime?jn(r.document.createTime):J.min(),a=new Ft({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Zl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hh(e,r.document),o=r.readTime?jn(r.readTime):J.min(),s=It.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Zl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hh(e,r.document),o=r.removedTargetIds||[];n=new Zl([],o,i,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new UD(i,o),a=r.targetId;n=new hT(a,s)}}return n}function JD(e,t){let n;if(t instanceof Ka)n={update:q0(e,t.key,t.value)};else if(t instanceof Im)n={delete:Pf(e,t.key)};else if(t instanceof Qr)n={update:q0(e,t.key,t.data),updateMask:a4(t.fieldMask)};else{if(!(t instanceof bD))return Q();n={verify:Pf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ju)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:QD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(e,t.precondition)),n}function ZD(e,t){return e&&e.length>0?(ve(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?jn(i.updateTime):jn(o);return s.isEqual(J.min())&&(s=jn(o)),new LD(s,i.transformResults||[])}(n,t))):[]}function e4(e,t){return{documents:[mT(e,t.path)]}}function t4(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mT(e,i);const o=function(u){if(u.length!==0)return vT(zn.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:zi(d.field),direction:i4(d.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Cf(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function n4(e){let t=YD(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=yT(h);return d instanceof zn&&WE(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(g){return new Uu(Hi(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Oc(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Fu(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new Fu(p,d)}(n.endAt)),wD(t,i,s,o,a,"F",l,u)}function r4(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hi(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hi(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hi(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hi(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return Qe.create(Hi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>yT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function i4(e){return qD[e]}function o4(e){return WD[e]}function s4(e){return KD[e]}function zi(e){return{fieldPath:e.canonicalString()}}function Hi(e){return pt.fromServerFormat(e.fieldPath)}function vT(e){return e instanceof Qe?function(n){if(n.op==="=="){if(D0(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NAN"}};if(k0(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D0(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NAN"}};if(k0(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(n.field),op:o4(n.op),value:n.value}}}(e):e instanceof zn?function(n){const r=n.getFilters().map(i=>vT(i));return r.length===1?r[0]:{compositeFilter:{op:s4(n.op),filters:r}}}(e):Q()}function a4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function _T(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,r,i,o=J.min(),s=J.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t){this.ut=t}}function u4(e){const t=n4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Rf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.on=new h4}addToCollectionParentIndex(t,n){return this.on.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Ur.min())}updateCollectionGroup(t,n,r){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class h4{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new yt(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new yt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Mo(0)}static Nn(){return new Mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.changes=new Qo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,It.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&zs(r.mutation,i,Gt.empty(),Xe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,se()).next(()=>r))}getLocalViewOfDocuments(t,n,r=se()){const i=li();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Cs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=li();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,se()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=ar();const s=Bs(),a=function(){return Bs()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),zs(c.mutation,u,c.mutation.getFieldMask(),Xe.now())):s.set(u.key,Gt.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new f4(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Bs();let i=new Ve((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=tT();c.forEach(d=>{if(!o.has(d)){const p=lT(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,h))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ED(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):k.resolve(li());let a=-1,l=o;return s.next(u=>k.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?k.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,se())).next(c=>({batchId:a,changes:eT(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new W(n)).next(r=>{let i=Cs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Cs();return this.indexManager.getCollectionParents(t,o).next(a=>k.forEach(a,l=>{const u=function(h,d){return new Mc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,It.newInvalidDocument(c)))});let a=Cs();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&zs(c.mutation,u,Gt.empty(),Xe.now()),$c(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:u4(i.bundledQuery),readTime:jn(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.overlays=new Ve(W.comparator),this.lr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const r=li();return k.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.lt(t,n,o)}),k.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(t,n,r){const i=li(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Ve((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=li(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=li(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new FD(n,r));let o=this.lr.get(n);o===void 0&&(o=se(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.hr=new yt(et.Pr),this.Ir=new yt(et.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new et(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new et(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new W(new Ae([])),r=new et(n,t),i=new et(n,t+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new W(new Ae([])),r=new et(n,t),i=new et(n,t+1);let o=se();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new et(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class et{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return W.comparator(t.key,n.key)||fe(t.gr,n.gr)}static Tr(t,n){return fe(t.gr,n.gr)||W.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new yt(et.Pr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $D(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(t,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new yt(fe);return n.forEach(i=>{const o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new et(new W(o),0);let a=new yt(fe);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),k.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ve(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return k.forEach(n.mutations,i=>{const o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new et(n,0),i=this.yr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t){this.Cr=t,this.docs=function(){return new Ve(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(t,n){let r=ar();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():It.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=ar();const s=n.path,a=new W(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||nD(tD(c),r)<=0||(i.has(c.key)||$c(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Q()}vr(t,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new _4(this)}getSize(t){return k.resolve(this.size)}}class _4 extends d4{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),k.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t){this.persistence=t,this.Fr=new Qo(n=>Tm(n),Sm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Pm,this.targetCount=0,this.Nr=Mo.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),k.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Mo(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.kn(n),k.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return k.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),k.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return k.resolve(r)}containsKey(t,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t,n){this.Lr={},this.overlays={},this.Br=new vm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new w4(this),this.indexManager=new c4,this.remoteDocumentCache=function(i){return new v4(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new l4(n),this.Kr=new m4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new g4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new y4(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new T4(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(t,n){return k.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class T4 extends iD{constructor(t){super(),this.currentSequenceNumber=t}}class xm{constructor(t){this.persistence=t,this.Gr=new Pm,this.zr=null}static jr(t){return new xm(t)}get Hr(){if(this.zr)return this.zr;throw Q()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),k.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const i=W.fromPath(r);return this.Jr(t,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=se(),i=se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new km(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return RP()?8:oD(SP())>0?6:4}()}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.zi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new S4;return this.Hi(t,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,n,s,a.size)})}).next(()=>o.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(ys()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(ys()<=he.DEBUG&&U("QueryEngine","Query:",Bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ys()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Un(n))):k.resolve())}zi(t,n){if(O0(n))return k.resolve(null);let r=Un(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rf(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=se(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(t,Rf(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return O0(n)||i.isEqual(J.min())?k.resolve(null):this.Gi.getDocuments(t,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?k.resolve(null):(ys()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bi(n)),this.Xi(t,s,n,eD(i,-1)).next(a=>a))})}Yi(t,n){let r=new yt(JE(t));return n.forEach((i,o)=>{$c(t,o)&&(r=r.add(o))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(t,n,r){return ys()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Bi(n)),this.Gi.getDocumentsMatchingQuery(t,n,Ur.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ve(fe),this.ns=new Qo(o=>Tm(o),Sm),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function C4(e,t,n,r){return new R4(e,t,n,r)}async function wT(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function A4(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=k.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const E=u.docVersions.get(g);ve(E!==null),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function ET(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function P4(e,t){const n=Z(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(xt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,E,m){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,c)&&a.push(n.qr.updateTargetData(o,p))});let l=ar(),u=se();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(x4(o,s,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(J.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(h=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function x4(e,t,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=ar();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function k4(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function D4(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(o=>o?(i=o,k.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Sr(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function kf(e,t,n){const r=Z(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wa(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function W0(e,t,n){const r=Z(e);let i=J.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=Z(l),d=h.ns.get(c);return d!==void 0?k.resolve(h.ts.get(d)):h.qr.getTargetData(u,c)}(r,s,Un(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,t,n?i:J.min(),n?o:se())).next(a=>(N4(r,SD(t),a),{documents:a,ls:o})))}function N4(e,t,n){let r=e.rs.get(t)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.rs.set(t,r)}class K0{constructor(){this.activeTargetIds=xD()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V4{constructor(){this.eo=new K0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new K0,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function qh(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.lo()}send(t){this.co(t)}Vo(){this.Po()}mo(){this.To()}fo(t){this.Ao(t)}po(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class b4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=qh(),l=this.Co(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,o,s),this.Fo(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw No("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=O4[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Fo(t,n,r,i){const o=qh();return new Promise((s,a)=>{const l=new zk;l.setWithCredentials(!0),l.listenOnce(Uk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zh.NO_ERROR:const c=l.getResponseJson();U(Et,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case zh.TIMEOUT:U(Et,`RPC '${t}' ${o} timed out`),a(new H(x.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const h=l.getStatus();if(U(Et,`RPC '${t}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(m)>=0?m:x.UNKNOWN}(p.status);a(new H(g,p.message))}else a(new H(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(Et,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);U(Et,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(t,n,r){const i=qh(),o=[this.yo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=$k(),a=Fk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Bk({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(Et,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,p=!1;const g=new M4({co:E=>{p?U(Et,`Not sending because RPC '${t}' stream ${i} is closed:`,E):(d||(U(Et,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),U(Et,`RPC '${t}' stream ${i} sending:`,E),h.send(E))},lo:()=>h.close()}),_=(E,m,f)=>{E.listen(m,y=>{try{f(y)}catch(T){setTimeout(()=>{throw T},0)}})};return _(h,Cl.EventType.OPEN,()=>{p||(U(Et,`RPC '${t}' stream ${i} transport opened.`),g.Vo())}),_(h,Cl.EventType.CLOSE,()=>{p||(p=!0,U(Et,`RPC '${t}' stream ${i} transport closed`),g.fo())}),_(h,Cl.EventType.ERROR,E=>{p||(p=!0,No(Et,`RPC '${t}' stream ${i} transport errored:`,E),g.fo(new H(x.UNAVAILABLE,"The operation could not be completed")))}),_(h,Cl.EventType.MESSAGE,E=>{var m;if(!p){const f=E.data[0];ve(!!f);const y=f,T=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(T){U(Et,`RPC '${t}' stream ${i} received error:`,T);const C=T.status;let A=function(j){const M=ze[j];if(M!==void 0)return cT(M)}(C),v=T.message;A===void 0&&(A=x.INTERNAL,v="Unknown error status: "+C+" with message "+T.message),p=!0,g.fo(new H(A,v)),h.close()}else U(Et,`RPC '${t}' stream ${i} received:`,f),g.po(f)}}),_(a,jk.STAT_EVENT,E=>{E.stat===R0.PROXY?U(Et,`RPC '${t}' stream ${i} detected buffering proxy`):E.stat===R0.NOPROXY&&U(Et,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.mo()},0),g}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e){return new GD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n,r=1e3,i=1.5,o=6e4){this.si=t,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(t){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),t())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,r,i,o,s,a,l){this.si=t,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new TT(t,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(t){this.i_(),this.stream.send(t)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(t,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,t!==4?this.Jo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const t=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{t(()=>{const i=new H(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(t,n){const r=this.__(this.zo);this.stream=this.c_(t,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}__(t){return n=>{this.si.enqueueAndForget(()=>this.zo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $4 extends ST{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(t,n){return this.connection.xo("Listen",t,n)}onMessage(t){this.Jo.reset();const n=XD(this.serializer,t),r=function(o){if(!("targetChange"in o))return J.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?jn(s.readTime):J.min()}(t);return this.listener.l_(n,r)}h_(t){const n={};n.database=xf(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=If(l)?{documents:e4(o,l)}:{query:t4(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fT(o,s.resumeToken);const u=Cf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=zu(o,s.snapshotVersion.toTimestamp());const u=Cf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=r4(this.serializer,t);r&&(n.labels=r),this.r_(n)}P_(t){const n={};n.database=xf(this.serializer),n.removeTarget=t,this.r_(n)}}class F4 extends ST{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(t,n){return this.connection.xo("Write",t,n)}onMessage(t){if(ve(!!t.streamToken),this.lastStreamToken=t.streamToken,this.I_){this.Jo.reset();const n=ZD(t.writeResults,t.commitTime),r=jn(t.commitTime);return this.listener.d_(r,n)}return ve(!t.writeResults||t.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const t={};t.database=xf(this.serializer),this.r_(t)}E_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>JD(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}Do(t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(t,Af(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(x.UNKNOWN,o.toString())})}Mo(t,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,Af(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(x.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class j4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(sr(n),this.y_=!1):U("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{Vi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Z(l);u.M_.add(4),await Qa(u),u.N_.set("Unknown"),u.M_.delete(4),await zc(u)}(this))})}),this.N_=new j4(r,i)}}async function zc(e){if(Vi(e))for(const t of e.x_)await t(!0)}async function Qa(e){for(const t of e.x_)await t(!1)}function IT(e,t){const n=Z(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Lm(n)?Vm(n):Yo(n).Zo()&&Nm(n,t))}function Dm(e,t){const n=Z(e),r=Yo(n);n.F_.delete(t),r.Zo()&&RT(n,t),n.F_.size===0&&(r.Zo()?r.t_():Vi(n)&&n.N_.set("Unknown"))}function Nm(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yo(e).h_(t)}function RT(e,t){e.L_.xe(t),Yo(e).P_(t)}function Vm(e){e.L_=new HD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Yo(e).start(),e.N_.w_()}function Lm(e){return Vi(e)&&!Yo(e).Yo()&&e.F_.size>0}function Vi(e){return Z(e).M_.size===0}function CT(e){e.L_=void 0}async function z4(e){e.N_.set("Online")}async function H4(e){e.F_.forEach((t,n)=>{Nm(e,t)})}async function q4(e,t){CT(e),Lm(e)?(e.N_.D_(t),Vm(e)):e.N_.set("Unknown")}async function W4(e,t,n){if(e.N_.set("Online"),t instanceof dT&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Hu(e,r)}else if(t instanceof Zl?e.L_.Ke(t):t instanceof hT?e.L_.He(t):e.L_.We(t),!n.isEqual(J.min()))try{const r=await ET(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.F_.get(u);c&&o.F_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.F_.get(l);if(!c)return;o.F_.set(l,c.withResumeToken(xt.EMPTY_BYTE_STRING,c.snapshotVersion)),RT(o,l);const h=new Sr(c.target,l,u,c.sequenceNumber);Nm(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await Hu(e,r)}}async function Hu(e,t,n){if(!Wa(t))throw t;e.M_.add(1),await Qa(e),e.N_.set("Offline"),n||(n=()=>ET(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await zc(e)})}function AT(e,t){return t().catch(n=>Hu(e,n,t))}async function Hc(e){const t=Z(e),n=Br(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;K4(t);)try{const i=await k4(t.localStore,r);if(i===null){t.v_.length===0&&n.t_();break}r=i.batchId,G4(t,i)}catch(i){await Hu(t,i)}PT(t)&&xT(t)}function K4(e){return Vi(e)&&e.v_.length<10}function G4(e,t){e.v_.push(t);const n=Br(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function PT(e){return Vi(e)&&!Br(e).Yo()&&e.v_.length>0}function xT(e){Br(e).start()}async function Q4(e){Br(e).R_()}async function Y4(e){const t=Br(e);for(const n of e.v_)t.E_(n.mutations)}async function X4(e,t,n){const r=e.v_.shift(),i=Rm.from(r,t,n);await AT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Hc(e)}async function J4(e,t){t&&Br(e).T_&&await async function(r,i){if(function(s){return jD(s)&&s!==x.ABORTED}(i.code)){const o=r.v_.shift();Br(r).e_(),await AT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hc(r)}}(e,t),PT(e)&&xT(e)}async function Q0(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Vi(n);n.M_.add(3),await Qa(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await zc(n)}async function Z4(e,t){const n=Z(e);t?(n.M_.delete(2),await zc(n)):t||(n.M_.add(2),await Qa(n),n.N_.set("Unknown"))}function Yo(e){return e.B_||(e.B_=function(n,r,i){const o=Z(n);return o.m_(),new $4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:z4.bind(null,e),Io:H4.bind(null,e),Eo:q4.bind(null,e),l_:W4.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.e_(),Lm(e)?Vm(e):e.N_.set("Unknown")):(await e.B_.stop(),CT(e))})),e.B_}function Br(e){return e.k_||(e.k_=function(n,r,i){const o=Z(n);return o.m_(),new F4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:Q4.bind(null,e),Eo:J4.bind(null,e),A_:Y4.bind(null,e),d_:X4.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.e_(),await Hc(e)):(await e.k_.stop(),e.v_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Om(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(e,t){if(sr("AsyncQueue",`${t}: ${e}`),Wa(e))return new H(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Cs(),this.sortedSet=new Ve(this.comparator)}static emptySet(t){return new mo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.q_=new Ve(W.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):Q():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class bo{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new bo(t,n,mo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class tN{constructor(){this.queries=new Qo(t=>XE(t),bc),this.onlineState="Unknown",this.z_=new Set}}async function nN(e,t){const n=Z(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new eN,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Mm(s,`Initialization of query '${Bi(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&bm(n)}async function rN(e,t){const n=Z(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iN(e,t){const n=Z(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&bm(n)}function oN(e,t,n){const r=Z(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function bm(e){e.z_.forEach(t=>{t.next()})}var Df,X0;(X0=Df||(Df={})).J_="default",X0.Cache="cache";class sN{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t){this.key=t}}class DT{constructor(t){this.key=t}}class aN{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=se(),this.mutatedKeys=se(),this.Ia=JE(t),this.Ta=new mo(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new Y0,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const d=i.get(c),p=$c(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),E=!0):this.Ra(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(p?(s=s.add(p),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort((c,h)=>function(p,g){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return _(p)-_(g)}(c.type,h.type)||this.Ia(c.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new bo(this.query,t.Ta,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Y0,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=se(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new DT(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new kT(r))}),n}pa(t){this.la=t.ls,this.Pa=se();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return bo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class lN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class uN{constructor(t){this.key=t,this.wa=!1}}class cN{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Qo(a=>XE(a),bc),this.Da=new Map,this.Ca=new Set,this.va=new Ve(W.comparator),this.Fa=new Map,this.Ma=new Pm,this.xa={},this.Oa=new Map,this.Na=Mo.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function hN(e,t,n=!0){const r=bT(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await NT(r,t,n,!0),i}async function dN(e,t){const n=bT(e);await NT(n,t,!0,!1)}async function NT(e,t,n,r){const i=await D4(e.localStore,Un(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await fN(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&IT(e.remoteStore,i),a}async function fN(e,t,n,r,i){e.Ba=(h,d,p)=>async function(_,E,m,f){let y=E.view.da(m);y.Zi&&(y=await W0(_.localStore,E.query,!1).then(({documents:v})=>E.view.da(v,y)));const T=f&&f.targetChanges.get(E.targetId),C=f&&f.targetMismatches.get(E.targetId)!=null,A=E.view.applyChanges(y,_.isPrimaryClient,T,C);return Z0(_,E.targetId,A.fa),A.snapshot}(e,h,d,p);const o=await W0(e.localStore,t,!0),s=new aN(t,o.ls),a=s.da(o.documents),l=Ga.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);Z0(e,n,u.fa);const c=new lN(t,n,s);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function pN(e,t,n){const r=Z(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!bc(s,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dm(r.remoteStore,i.targetId),Nf(r,i.targetId)}).catch(qa)):(Nf(r,i.targetId),await kf(r.localStore,i.targetId,!0))}async function mN(e,t){const n=Z(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dm(n.remoteStore,r.targetId))}async function gN(e,t,n){const r=SN(e);try{const i=await function(s,a){const l=Z(s),u=Xe.now(),c=a.reduce((p,g)=>p.add(g.key),se());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ar(),_=se();return l.ss.getEntries(p,c).next(E=>{g=E,g.forEach((m,f)=>{f.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const m=[];for(const f of a){const y=MD(f,h.get(f.key).overlayedDocument);y!=null&&m.push(new Qr(f.key,y,zE(y.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(E=>{d=E;const m=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,E.batchId,m)})}).then(()=>({batchId:d.batchId,changes:eT(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Ve(fe)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ya(r,i.changes),await Hc(r.remoteStore)}catch(i){const o=Mm(i,"Failed to persist write");n.reject(o)}}async function VT(e,t){const n=Z(e);try{const r=await P4(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?ve(s.wa):i.removedDocuments.size>0&&(ve(s.wa),s.wa=!1))}),await Ya(n,r,t)}catch(r){await qa(r)}}function J0(e,t,n){const r=Z(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Z(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.U_)d.j_(a)&&(u=!0)}),u&&bm(l)}(r.eventManager,t),i.length&&r.Sa.l_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yN(e,t,n){const r=Z(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let s=new Ve(W.comparator);s=s.insert(o,It.newNoDocument(o,J.min()));const a=se().add(o),l=new jc(J.min(),new Map,new Ve(fe),s,a);await VT(r,l),r.va=r.va.remove(o),r.Fa.delete(t),$m(r)}else await kf(r.localStore,t,!1).then(()=>Nf(r,t,n)).catch(qa)}async function vN(e,t){const n=Z(e),r=t.batch.batchId;try{const i=await A4(n.localStore,t);OT(n,r,null),LT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ya(n,i)}catch(i){await qa(i)}}async function _N(e,t,n){const r=Z(e);try{const i=await function(s,a){const l=Z(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ve(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);OT(r,t,n),LT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ya(r,i)}catch(i){await qa(i)}}function LT(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function OT(e,t,n){const r=Z(e);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Nf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach(r=>{e.Ma.containsKey(r)||MT(e,r)})}function MT(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(Dm(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),$m(e))}function Z0(e,t,n){for(const r of n)r instanceof kT?(e.Ma.addReference(r.key,t),wN(e,r)):r instanceof DT?(U("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||MT(e,r.key)):Q()}function wN(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(U("SyncEngine","New document in limbo: "+n),e.Ca.add(r),$m(e))}function $m(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new W(Ae.fromString(t)),r=e.Na.next();e.Fa.set(r,new uN(n)),e.va=e.va.insert(n,r),IT(e.remoteStore,new Sr(Un(YE(n.path)),r,"TargetPurposeLimboResolution",vm.oe))}}async function Ya(e,t,n){const r=Z(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=km.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,u){const c=Z(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>k.forEach(u,d=>k.forEach(d.ki,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>k.forEach(d.qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Wa(h))throw h;U("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ts.get(d),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ts=c.ts.insert(d,_)}}}(r.localStore,o))}async function EN(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await wT(n.localStore,t);n.currentUser=t,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new H(x.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ya(n,r._s)}}function TN(e,t){const n=Z(e),r=n.Fa.get(t);if(r&&r.wa)return se().add(r.key);{let i=se();const o=n.Da.get(t);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function bT(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yN.bind(null,t),t.Sa.l_=iN.bind(null,t.eventManager),t.Sa.ka=oN.bind(null,t.eventManager),t}function SN(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_N.bind(null,t),t}class ev{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Bc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return C4(this.persistence,new I4,t.initialUser,this.serializer)}createPersistence(t){return new E4(xm.jr,this.serializer)}createSharedClientState(t){return new V4}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>J0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EN.bind(null,this.syncEngine),await Z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tN}()}createDatastore(t){const n=Bc(t.databaseInfo.databaseId),r=function(o){return new b4(o)}(t.databaseInfo);return function(o,s,a,l){return new U4(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new B4(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>J0(this.syncEngine,n,0),function(){return G0.D()?new G0:new L4}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const h=new cN(i,o,s,a,l,u);return c&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=Z(r);U("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Qa(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=UE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Mm(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Kh(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function tv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await PN(e);U("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Q0(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Q0(t.remoteStore,i)),e._onlineComponents=t}function AN(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function PN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!AN(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Kh(e,new ev)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Kh(e,new ev);return e._offlineComponents}async function $T(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await tv(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await tv(e,new IN))),e._onlineComponents}function xN(e){return $T(e).then(t=>t.syncEngine)}async function kN(e){const t=await $T(e),n=t.eventManager;return n.onListen=hN.bind(null,t.syncEngine),n.onUnlisten=pN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mN.bind(null,t.syncEngine),n}function DN(e,t,n={}){const r=new Mr;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new RN({next:d=>{s.enqueueAndForget(()=>rN(o,h)),d.fromCache&&l.source==="server"?u.reject(new H(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new sN(a,c,{includeMetadataChanges:!0,ra:!0});return nN(o,h)}(await kN(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e,t,n){if(!n)throw new H(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function NN(e,t,n,r){if(t===!0&&r===!0)throw new H(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function rv(e){if(!W.isDocumentKey(e))throw new H(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iv(e){if(W.isDocumentKey(e))throw new H(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function Ri(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fm(e);throw new H(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new H(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qc{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qk;switch(r.type){case"firstParty":return new Qk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nv.get(n);r&&(U("ComponentProvider","Removing Datastore"),nv.delete(n),r.terminate())}(this),Promise.resolve()}}function VN(e,t,n,r={}){var i;const o=(e=Ri(e,qc))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tt.MOCK_USER;else{a=Rw(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new H(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tt(u)}e._authCredentials=new Wk(new FE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Wc(this.firestore,t,this._query)}}class dn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class br extends Wc{constructor(t,n,r){super(t,n,YE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new W(t))}withConverter(t){return new br(this.firestore,t,this._path)}}function qu(e,t,...n){if(e=gn(e),UT("collection","path",t),e instanceof qc){const r=Ae.fromString(t,...n);return iv(r),new br(e,null,r)}{if(!(e instanceof dn||e instanceof br))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ae.fromString(t,...n));return iv(r),new br(e.firestore,null,r)}}function Ci(e,t,...n){if(e=gn(e),arguments.length===1&&(t=UE.newId()),UT("doc","path",t),e instanceof qc){const r=Ae.fromString(t,...n);return rv(r),new dn(e,null,new W(r))}{if(!(e instanceof dn||e instanceof br))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ae.fromString(t,...n));return rv(r),new dn(e.firestore,e instanceof br?e.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new TT(this,"async_queue_retry"),this.hu=()=>{const n=Wh();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const t=Wh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=Wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Mr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(t){if(!Wa(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=Om.createAndSchedule(this,t,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class Xa extends qc{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new LN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BT(this),this._firestoreClient.terminate()}}function ON(e,t){const n=typeof e=="object"?e:Vw(),r=typeof e=="string"?e:t||"(default)",i=kw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Sw("firestore");o&&VN(i,...o)}return i}function jT(e){return e._firestoreClient||BT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function BT(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new lD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FT(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new CN(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $o(xt.fromBase64String(t))}catch(n){throw new H(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $o(xt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return fe(this._lat,t._lat)||fe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^__.*__$/;class bN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ka(t,this.data,n,this.fieldTransforms)}}class zT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function HT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Bm{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Bm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Wu(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(HT(this.fu)&&MN.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class $N{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Bc(t)}Fu(t,n,r,i=!1){return new Bm({fu:t,methodName:n,vu:r,path:pt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qT(e){const t=e._freezeSettings(),n=Bc(e._databaseId);return new $N(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FN(e,t,n,r,i,o={}){const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);zm("Data must be an object, but it was:",s,r);const a=WT(r,s);let l,u;if(o.merge)l=new Gt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Vf(t,h,n);if(!s.contains(d))throw new H(x.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);GT(c,d)||c.push(d)}l=new Gt(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new bN(new Ft(a),l,u)}class Gc extends Um{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gc}}function UN(e,t,n,r){const i=e.Fu(1,t,n);zm("Data must be an object, but it was:",i,r);const o=[],s=Ft.empty();Ni(r,(l,u)=>{const c=Hm(t,l,n);u=gn(u);const h=i.Su(c);if(u instanceof Gc)o.push(c);else{const d=Qc(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new Gt(o);return new zT(s,a,i.fieldTransforms)}function jN(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[Vf(t,r,n)],l=[i];if(o.length%2!=0)throw new H(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Vf(t,o[d])),l.push(o[d+1]);const u=[],c=Ft.empty();for(let d=a.length-1;d>=0;--d)if(!GT(u,a[d])){const p=a[d];let g=l[d];g=gn(g);const _=s.Su(p);if(g instanceof Gc)u.push(p);else{const E=Qc(g,_);E!=null&&(u.push(p),c.set(p,E))}}const h=new Gt(u);return new zT(c,h,s.fieldTransforms)}function Qc(e,t){if(KT(e=gn(e)))return zm("Unsupported field value:",t,e),WT(e,t);if(e instanceof Um)return function(r,i){if(!HT(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Qc(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Xe.fromDate(r);return{timestampValue:zu(i.serializer,o)}}if(r instanceof Xe){const o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zu(i.serializer,o)}}if(r instanceof jm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:fT(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Am(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Fm(r)}`)}(e,t)}function WT(e,t){const n={};return jE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ni(e,(r,i)=>{const o=Qc(i,t.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function KT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xe||e instanceof jm||e instanceof $o||e instanceof dn||e instanceof Um)}function zm(e,t,n){if(!KT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fm(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Vf(e,t,n){if((t=gn(t))instanceof Kc)return t._internalPath;if(typeof t=="string")return Hm(e,t);throw Wu("Field path arguments must be of type string or ",e,!1,void 0,n)}const BN=new RegExp("[~\\*/\\[\\]]");function Hm(e,t,n){if(t.search(BN)>=0)throw Wu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Kc(...t.split("."))._internalPath}catch{throw Wu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wu(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(x.INVALID_ARGUMENT,a+e+l)}function GT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(YT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zN extends QT{data(){return super.data()}}function YT(e,t){return typeof t=="string"?Hm(e,t):t instanceof Kc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qN{convertValue(t,n="none"){switch(Ii(t)){case 0:return null;case 1:return t.booleanValue;case 2:return He(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Si(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ni(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new jm(He(t.latitude),He(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=wm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ia(t));default:return null}}convertTimestamp(t){const n=jr(t);return new Xe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ae.fromString(t);ve(_T(r));const i=new Ra(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class KN extends QT{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(YT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class eu extends KN{data(t={}){return super.data(t)}}class GN{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new eu(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new eu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new eu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:QN(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class YN extends qN{constructor(t){super(),this.firestore=t}convertBytes(t){return new $o(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function Lf(e){e=Ri(e,Wc);const t=Ri(e.firestore,Xa),n=jT(t),r=new YN(t);return HN(e._query),DN(n,e._query).then(i=>new GN(t,r,e,i))}function XN(e,t,n,...r){e=Ri(e,dn);const i=Ri(e.firestore,Xa),o=qT(i);let s;return s=typeof(t=gn(t))=="string"||t instanceof Kc?jN(o,"updateDoc",e._key,t,n,r):UN(o,"updateDoc",e._key,t),qm(i,[s.toMutation(e._key,Rn.exists(!0))])}function JN(e){return qm(Ri(e.firestore,Xa),[new Im(e._key,Rn.none())])}function ZN(e,t){const n=Ri(e.firestore,Xa),r=Ci(e),i=WN(e.converter,t);return qm(n,[FN(qT(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function qm(e,t){return function(r,i){const o=new Mr;return r.asyncQueue.enqueueAndForget(async()=>gN(await xN(r),i,o)),o.promise}(jT(e),t)}(function(t,n=!0){(function(i){Go=i})(Dw),fa(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xa(new Kk(r.getProvider("auth-internal")),new Xk(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Or(C0,"4.6.1",t),Or(C0,"4.6.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebasestorage.googleapis.com",JT="storageBucket",eV=2*60*1e3,tV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends ki{constructor(t,n,r=0){super(Gh(t),`Firebase Storage: ${n} (${Gh(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Gh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var be;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(be||(be={}));function Gh(e){return"storage/"+e}function Wm(){const e="An unknown error occurred, please check the error payload for server response.";return new $e(be.UNKNOWN,e)}function nV(e){return new $e(be.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function rV(e){return new $e(be.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iV(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(be.UNAUTHENTICATED,e)}function oV(){return new $e(be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sV(e){return new $e(be.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function aV(){return new $e(be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lV(){return new $e(be.CANCELED,"User canceled the upload/download.")}function uV(e){return new $e(be.INVALID_URL,"Invalid URL '"+e+"'.")}function cV(e){return new $e(be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function hV(){return new $e(be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}function dV(){return new $e(be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fV(){return new $e(be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pV(e){return new $e(be.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Of(e){return new $e(be.INVALID_ARGUMENT,e)}function ZT(){return new $e(be.APP_DELETED,"The Firebase app was deleted.")}function mV(e){return new $e(be.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hs(e,t){return new $e(be.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vs(e){throw new $e(be.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Qt.makeFromUrl(t,n)}catch{return new Qt(t,"")}if(r.path==="")return r;throw cV(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},_=n===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",m=new RegExp(`^https?://${_}/${i}/${E}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<y.length;T++){const C=y[T],A=C.regex.exec(t);if(A){const v=A[C.indices.bucket];let V=A[C.indices.path];V||(V=""),r=new Qt(v,V),C.postModify(r);break}}if(r==null)throw uV(t);return r}}class gV{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,t.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,e(p,l())},E)}function d(){o&&clearTimeout(o)}function p(E,...m){if(u){d();return}if(E){d(),c.call(null,E,...m);return}if(l()||s){d(),c.call(null,E,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let g=!1;function _(E){g||(g=!0,d(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function vV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(e){return e!==void 0}function wV(e){return typeof e=="object"&&!Array.isArray(e)}function Km(e){return typeof e=="string"||e instanceof String}function sv(e){return Gm()&&e instanceof Blob}function Gm(){return typeof Blob<"u"}function av(e,t,n,r){if(r<t)throw Of(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Of(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function eS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(fi||(fi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,n,r,i,o,s,a,l,u,c,h,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Dl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===fi.NO_ERROR,l=o.getStatus();if(!a||EV(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===fi.ABORT;r(!1,new Dl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Dl(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_V(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Wm();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?ZT():lV();s(l)}else{const l=aV();s(l)}};this.canceled_?n(!1,new Dl(!1,null,!0)):this.backoffId_=yV(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&vV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dl{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function SV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function IV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function RV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function CV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function AV(e,t,n,r,i,o,s=!0){const a=eS(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return RV(u,t),SV(u,n),IV(u,o),CV(u,r),new TV(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xV(...e){const t=PV();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Gm())return new Blob(e);throw new $e(be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(e){if(typeof atob>"u")throw pV("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qh{constructor(t,n){this.data=t,this.contentType=n||null}}function NV(e,t){switch(e){case bn.RAW:return new Qh(tS(t));case bn.BASE64:case bn.BASE64URL:return new Qh(nS(e,t));case bn.DATA_URL:return new Qh(LV(t),OV(t))}throw Wm()}function tS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function VV(e){let t;try{t=decodeURIComponent(e)}catch{throw Hs(bn.DATA_URL,"Malformed data URL.")}return tS(t)}function nS(e,t){switch(e){case bn.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw Hs(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bn.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw Hs(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DV(t)}catch(i){throw i.message.includes("polyfill")?i:Hs(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class rS{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Hs(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function LV(e){const t=new rS(e);return t.base64?nS(bn.BASE64,t.rest):VV(t.rest)}function OV(e){return new rS(e).contentType}function MV(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){let r=0,i="";sv(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(sv(this.data_)){const r=this.data_,i=kV(r,t,n);return i===null?null:new wr(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new wr(r,!0)}}static getBlob(...t){if(Gm()){const n=t.map(r=>r instanceof wr?r.data_:r);return new wr(xV.apply(null,n))}else{const n=t.map(s=>Km(s)?NV(bn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new wr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e){let t;try{t=JSON.parse(e)}catch{return null}return wV(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function $V(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function oS(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(e,t){return t}class Dt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||FV}}let Nl=null;function UV(e){return!Km(e)||e.length<2?e:oS(e)}function sS(){if(Nl)return Nl;const e=[];e.push(new Dt("bucket")),e.push(new Dt("generation")),e.push(new Dt("metageneration")),e.push(new Dt("name","fullPath",!0));function t(o,s){return UV(s)}const n=new Dt("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Dt("size");return i.xform=r,e.push(i),e.push(new Dt("timeCreated")),e.push(new Dt("updated")),e.push(new Dt("md5Hash",null,!0)),e.push(new Dt("cacheControl",null,!0)),e.push(new Dt("contentDisposition",null,!0)),e.push(new Dt("contentEncoding",null,!0)),e.push(new Dt("contentLanguage",null,!0)),e.push(new Dt("contentType",null,!0)),e.push(new Dt("metadata","customMetadata",!0)),Nl=e,Nl}function jV(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Qt(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function BV(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return jV(r,e),r}function aS(e,t,n){const r=iS(t);return r===null?null:BV(e,r,n)}function zV(e,t,n,r){const i=iS(t);if(i===null||!Km(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,h=e.fullPath,d="/b/"+s(c)+"/o/"+s(h),p=Qm(d,n,r),g=eS({alt:"media",token:u});return p+g})[0]}function HV(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class lS{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(e){if(!e)throw Wm()}function qV(e,t){function n(r,i){const o=aS(e,i,t);return uS(o!==null),o}return n}function WV(e,t){function n(r,i){const o=aS(e,i,t);return uS(o!==null),zV(o,i,e.host,e._protocol)}return n}function cS(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oV():i=iV():n.getStatus()===402?i=rV(e.bucket):n.getStatus()===403?i=sV(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function KV(e){const t=cS(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=nV(e.path)),o.serverResponse=i.serverResponse,o}return n}function GV(e,t,n){const r=t.fullServerUrl(),i=Qm(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new lS(i,o,WV(e,n),s);return a.errorHandler=KV(t),a}function QV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function YV(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=QV(null,t)),r}function XV(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let T=0;T<2;T++)y=y+Math.random().toString().slice(2);return y}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=YV(t,r,i),c=HV(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=wr.getBlob(h,r,d);if(p===null)throw dV();const g={name:u.fullPath},_=Qm(o,e.host,e._protocol),E="POST",m=e.maxUploadRetryTime,f=new lS(_,E,qV(e,n),m);return f.urlParams=g,f.headers=s,f.body=p.uploadData(),f.errorHandler=cS(t),f}class JV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw vs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class ZV extends JV{initXhr(){this.xhr_.responseType="text"}}function hS(){return new ZV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,n){this._service=t,n instanceof Qt?this._location=n:this._location=Qt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ai(t,n)}get root(){const t=new Qt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oS(this._location.path)}get storage(){return this._service}get parent(){const t=bV(this._location.path);if(t===null)return null;const n=new Qt(this._location.bucket,t);return new Ai(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw mV(t)}}function e3(e,t,n){e._throwIfRoot("uploadBytes");const r=XV(e.storage,e._location,sS(),new wr(t,!0),n);return e.storage.makeRequestWithTokens(r,hS).then(i=>({metadata:i,ref:e}))}function t3(e){e._throwIfRoot("getDownloadURL");const t=GV(e.storage,e._location,sS());return e.storage.makeRequestWithTokens(t,hS).then(n=>{if(n===null)throw fV();return n})}function n3(e,t){const n=$V(e._location.path,t),r=new Qt(e._location.bucket,n);return new Ai(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(e){return/^[A-Za-z]+:\/\//.test(e)}function i3(e,t){return new Ai(e,t)}function dS(e,t){if(e instanceof Ym){const n=e;if(n._bucket==null)throw hV();const r=new Ai(n,n._bucket);return t!=null?dS(r,t):r}else return t!==void 0?n3(e,t):e}function o3(e,t){if(t&&r3(t)){if(e instanceof Ym)return i3(e,t);throw Of("To use ref(service, url), the first argument must be a Storage instance.")}else return dS(e,t)}function lv(e,t){const n=t==null?void 0:t[JT];return n==null?null:Qt.makeFromBucketSpec(n,e)}function s3(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Rw(i,e.app.options.projectId))}class Ym{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eV,this._maxUploadRetryTime=tV,this._requests=new Set,i!=null?this._bucket=Qt.makeFromBucketSpec(i,this._host):this._bucket=lv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qt.makeFromBucketSpec(this._url,t):this._bucket=lv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){av("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){av("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ai(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new gV(ZT());{const s=AV(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const uv="@firebase/storage",cv="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="storage";function a3(e,t,n){return e=gn(e),e3(e,t,n)}function pS(e){return e=gn(e),t3(e)}function Xm(e,t){return e=gn(e),o3(e,t)}function Jm(e=Vw(),t){e=gn(e);const r=kw(e,fS).getImmediate({identifier:t}),i=Sw("storage");return i&&l3(r,...i),r}function l3(e,t,n,r={}){s3(e,t,n,r)}function u3(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ym(n,r,i,t,Dw)}function c3(){fa(new ko(fS,u3,"PUBLIC").setMultipleInstances(!0)),Or(uv,cv,""),Or(uv,cv,"esm2017")}c3();const h3={apiKey:"AIzaSyDPP2anqpTwkwpORI3FOoI2qGpBxz4Tsww",authDomain:"at-the-beach-2697c.firebaseapp.com",projectId:"at-the-beach-2697c",storageBucket:"at-the-beach-2697c.appspot.com",messagingSenderId:"489618262303",appId:"1:489618262303:web:40f6cc3dbd1aab9496c82a",measurementId:"G-VJFDLFN9Z4"},mS=Nw(h3),Fo=ON(mS),d3=Jm(mS);async function f3(){try{const e=Jm(),t=qu(Fo,"store"),n=await Lf(t);return await Promise.all(n.docs.map(async i=>{const o=qu(Fo,`store/${i.id}/products`),s=await Lf(o);let a="";if(!s.empty){const u=s.docs[0].data();if(u.imgUrl){const c=u.imgUrl.substring(u.imgUrl.indexOf("/",5)),h=Xm(e,c);a=await pS(h)}}const l=s.docs.map(u=>({id:u.id,...u.data()}));return{id:i.id,category:i.id,products:l,imageUrl:a}}))}catch(e){console.error("Error fetching categories: ",e)}}async function p3(e){try{if(!e){console.error("No imgUrl");return}const t=Jm(),n=e.substring(e.indexOf("/",5)),r=Xm(t,n);return await pS(r)}catch(t){console.error("Error getting download URL: ",t)}}async function m3(e,t){const n=Ci(Fo,"store",e),r=qu(n,"products");try{const o=new URL(t.imgUrl).pathname;t.imgUrl=o,console.log("product.imgUrl:",t.imgUrl);const s=await ZN(r,t);return console.log("Document written with ID: ",s.id),s}catch(i){console.error("Error adding document: ",i)}}async function g3(e){const t=Ci(Fo,"store",e),n=qu(t,"products");try{return(await Lf(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(r){console.error("Error getting documents: ",r)}}async function y3(e,t,n){const r=Ci(Fo,"store",e),i=Ci(r,"products",t);try{await XN(i,n),console.log("Product updated successfully.")}catch(o){console.error("Error updating product: ",o)}}async function v3(e,t){if(typeof e!="string"||typeof t!="string")throw new Error("categoryId and productId must be strings");const n=Ci(Fo,"store",e),r=Ci(n,"products",t);try{await JN(r),console.log("Product deleted successfully.")}catch(i){console.error("Error deleting product: ",i)}}const Be=dP(e=>({categories:[],products:[],cart:[],isLoggedIn:!1,cartModalIsOpen:!1,setCartModalIsOpen:t=>e({cartModalIsOpen:t}),setCategories:t=>e(()=>({categories:t})),setProducts:t=>e(()=>({products:t})),setFile:t=>e(()=>({file:t})),logIn:()=>e(()=>({isLoggedIn:!0})),logOut:()=>e(()=>({isLoggedIn:!1})),addToCart:t=>e(n=>n.cart.find(i=>i.id===t.id)?{cart:n.cart.map(i=>i.id===t.id?{...i,quantity:i.quantity+1}:i)}:{cart:[...n.cart,{...t,quantity:1}]}),removeFromCart:t=>e(n=>{const r=n.cart.find(i=>i.id===t);return r&&r.quantity>1?{cart:n.cart.map(i=>i.id===t?{...i,quantity:i.quantity-1}:i)}:{cart:n.cart.filter(i=>i.id!==t)}}),fetchCategories:async()=>{const t=await f3();e({categories:t})},addProduct:async(t,n,r)=>{const i=Xm(d3,`${t}/${r.name}`);await a3(i,r);const o=`gs://${i.bucket}/${i.fullPath}`;n.imgUrl=o,console.log("set to",n.imgUrl);const s=await m3(t,n);n.id=s.id,e(a=>({products:[...a.products,n]}))},updateProduct:async(t,n,r)=>{console.log("categoryId:",t),console.log("productId:",n),console.log("updatedProduct:",r),e(i=>({products:i.products.map(s=>s.id===n?{...s,...r}:s)})),await y3(t,n,r)},deleteProduct:async(t,n)=>{await v3(t,n).then(()=>{e(r=>({products:r.products.filter(o=>o.id!==n)}))})},fetchProducts:async t=>{let n=await g3(t);n=n.map(r=>({...r,categoryId:t})),n=await Promise.all(n.map(async r=>{const i=await p3(r.imgUrl);return{...r,imageUrl:i}})),e({products:n})}})),_3=B.div`
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	font-size: 1.5rem;
	gap: 1rem;
	justify-content: center;
	align-items: center;
	max-width: 1200px;
	margin-bottom: 2rem;
	padding-top: 8rem;
`,Zm=()=>{const e=Be(n=>n.categories),t=Be(n=>n.fetchCategories);return P.useEffect(()=>{t()},[]),I.jsx(_3,{children:e.map(n=>I.jsx(da,{to:`/category/${n.category}#products`,children:I.jsx(FA,{cat:n,children:n.category})},n.id))})},w3=B.button`
	position: fixed;
	bottom: 120px;
	right: 20px;
	font-size: 1.25rem;
	background: #118ab0;
	border: none;
	border-radius: 50%;
	width: 80px;
	height: 80px;
	cursor: pointer;
	color: #e7d5ba;
	display: ${e=>e.$visible?"block":"none"};
`,gS=()=>{const[e,t]=P.useState(!1),n=()=>{const i=document.body.scrollTop||document.documentElement.scrollTop;t(i>200)},r=()=>{document.body.scrollTo({top:0,behavior:"smooth"})};return P.useEffect(()=>(document.body.addEventListener("scroll",n),()=>document.body.removeEventListener("scroll",n)),[]),I.jsx(w3,{onClick:r,$visible:e,children:"Back to Top"})},E3=B.div`
	background: #fcfcfd;
	// width: 100vw;
	// position: relative;
`,T3=B.p`
	position: absolute;
	padding-left: 3rem;
	margin-top: 14rem;
	font-size: 4rem;
	transform: rotate(-1.07deg);
	color: #118ab0;
`,S3=B.img`
	width: 216vw;
	transform: translateY(5rem) scale(1.1) rotate(3deg);
`,I3=B.img`
	width: 260vw;
`,R3=B.div`
	background: #118ab0;
	padding-block: 1rem;
	width: 100%;
`,C3=B.div`
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin: 0 auto;
	width: 100%;
	max-width: 1600px;
	position: relative;
	// top: 7rem;
	padding-bottom: 2rem;
`,A3=B.p`
	position: relative;
	z-index: 100;
	padding-right: 4rem;
	font-size: 3rem;
	transform: rotate(-1.07deg);
	color: #edddc8;
	text-align: end;
	background: #118ab0;
	top: 0;
	margin: 0;
`,P3=B.div`
	width: 100%;
	padding-top: 6rem;
	pointer-events: none;
`,hv=B.p`
	padding: 1rem;
	font-size: clamp(2rem, 2vw, 2.5rem);
	color: #118ab0;
`,Mf=()=>I.jsxs(E3,{children:[I.jsx(C3,{className:"LeftTextContainer",children:I.jsx(T3,{className:"Text",children:"Badass Beach Day Essentials"})}),I.jsxs(P3,{children:[I.jsx(S3,{src:oC}),I.jsx(R3,{children:I.jsx(A3,{children:"with a twist of the classics"})}),I.jsx(I3,{src:iC})]}),I.jsx(Zm,{className:"Categories"}),I.jsx(hv,{children:"Here At the Beach we believe that style marries function. Yes, we do have the classic beach stuff here, but seriously, they are so dang cool looking though."}),I.jsx(hv,{children:"You've probably had a pair of flip flops before, but we gaurantee you that you've never had a pair of flip flops like ours. You've probably had water guns before, but holycrap, have you seen our water guns? They're so cool."}),I.jsx(gS,{})]}),x3=""+new URL("logo-CRC5MJZq.png",import.meta.url).href,k3=B.div`
	position: sticky;
	top: 0;
	display: flex;
	flex-direction: column;
	justify-content: center;
	background-image: url(${x3});
	background-repeat: no-repeat;
	background-position: center;
	width: 100vw;
	height: 268px;
	z-index: 10;
	opacity: 0.95;
	cursor: pointer;

	@media (max-width: 568px) {
		background-size: 50%;
	}
`,D3=({onClick:e})=>I.jsx(k3,{onClick:e}),N3="data:image/svg+xml,%3csvg%20width='620'%20height='161'%20viewBox='0%200%20620%20161'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='44'%20width='620'%20height='39'%20fill='%23FCFCFD'/%3e%3crect%20y='83'%20width='620'%20height='78'%20fill='url(%23paint0_linear_83_5)'/%3e%3cpath%20d='M0%2066.5259V0H620V66.5259C376.321%2088.2696%20240.196%2091.3296%200%2066.5259Z'%20fill='%23BFDEE6'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_83_5'%20x1='310'%20y1='83'%20x2='310'%20y2='161'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.46'%20stop-color='%23FCFCFD'/%3e%3cstop%20offset='1'%20stop-color='%23FCFCFD'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",V3=B.img`
	width: 100vw;
	position: absolute;
	top: 0;

	@media (max-width: 568px) {
		scale: 170%;
`,L3=()=>I.jsx(V3,{src:N3,alt:"wave"}),O3=B.header`
	position: sticky;
	top: -10px;
	display: flex;
	flex-direction: column;
	justify-content: center;
	width: 100vw;
	height: 210px;
	z-index: 10000;
	opacity: 0.95;
	@media (max-width: 568px) {
		height: 158px;
	}
`,M3=()=>{const e=Wp(),t=()=>{e("/")};return I.jsxs(O3,{children:[I.jsx(L3,{}),I.jsx(D3,{onClick:t})]})},b3="data:image/svg+xml,%3csvg%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200%20120'%20preserveAspectRatio='none'%20%3e%3cpath%20d='M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z'%20class='shape-fill'%20fill='%23118AB0'%20fill-opacity='1'%3e%3c/path%3e%3c/svg%3e",$3=B.img`
	transform: translateY(-2.25rem);
	width: 290vw;
`,F3=()=>I.jsx($3,{src:b3,alt:"wave"}),U3=B.div`
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, 0.5);
	display: flex;
	justify-content: center;
	align-items: center;
	z-index: 100000000;
`,j3=B.div`
	background-color: white;
	padding: 20px;
	margin-top: 12rem;
	border-radius: 10px;
	width: 80vw;
	height: 67vh;
	font-size: 1, 5rem;
	overflow-y: auto;
	overflow-x: hidden;
`,B3=B.button`
	background: #118ab0;
	width: 80px;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	font-size: 1rem;
`,z3=B.button`
	background: #ff0000;
	width: 80px;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	cursor: pointer;
	font-size: 1rem;
`,H3=B.button`
	background: #ff0000;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	cursor: pointer;
	font-size: 1.5rem;
	font-family: "Monomaniac One", sans-serif;
	letter-spacing: 1px;
	width: 8rem;
	border: 1px solid rgb(40 129 168);
	box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.2);
`,q3=B.button`
	font-size: 1.5rem;
	background: #54ff29;
	color: #1a1a1a;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	cursor: pointer;
	font-family: "Monomaniac One", sans-serif;
	letter-spacing: 1px;
	width: 8rem;
	border: 1px solid rgb(40 129 168);
	box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.2);
`,W3=B.div`
	display: flex;
	flex-direction: row;
	gap: 1.65rem;
	justify-content: center;
	margin: 0 auto;
	padding-bottom: 2rem;
`,K3=B.div`
	position: absolute;
	display: flex;
	flex-direction: row;
	gap: 1.65rem;
	bottom: 0;
	left: 0;
	justify-content: space-evenly;
	width: 100%;
	padding-bottom: 2rem;
`,G3=B.img`
	max-width: 180px;
	max-height: 180px;
	border-radius: 10px;
	border: 1px solid rgb(40 129 168);
	margin: 0 auto;
	@media (max-width: 720px) {
		max-width: 180px;
		max-height: 180px;
	}
`,Vl=B.p`
	font-size: 1.5rem;
	font-family: "Monomaniac One", sans-serif;
	letter-spacing: 1px;
	width: 100%;
	text-align: center;
	color: #2881a8;
`,Q3=B.div`
	display: flex;
	flex-direction: row;
	gap: 1rem;

	@media (max-width: 568px) {
		flex-direction: column;
	}
`,Y3=()=>{const e=Be(s=>s.cart),t=Be(s=>s.removeFromCart),n=Be(s=>s.addToCart),r=Be(s=>s.setCartModalIsOpen),i=()=>{r(!1),console.log("trying to close modal")},o=()=>{r(!1)};return I.jsx(U3,{children:I.jsxs(j3,{children:[e&&e.length>0?e.map(s=>I.jsxs("div",{children:[I.jsxs(Vl,{children:[s.name," - ",s.price]}),I.jsxs(Q3,{children:[I.jsx(G3,{src:s.imageUrl,alt:s.name}),I.jsxs(Vl,{children:[s.desc," "]})]}),I.jsxs(Vl,{children:["Quantity: ",s.quantity]}),I.jsxs(W3,{children:[I.jsx(z3,{onClick:()=>t(s.id),children:"-"}),I.jsx(B3,{onClick:()=>n(s),children:"+"})]})]},s.id)):I.jsx(Vl,{children:"Your cart is empty."}),I.jsxs(K3,{children:[I.jsx(H3,{onClick:i,children:"Close"}),I.jsx(da,{to:"/checkout",onClick:o,children:I.jsx(q3,{children:"Checkout"})})]})]})})},yS="data:image/svg+xml,%3csvg%20width='88'%20height='88'%20viewBox='0%200%2088%2088'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_25_2927)'%3e%3ccircle%20cx='44.0001'%20cy='40'%20r='32.5'%20fill='%232781A8'%20stroke='black'/%3e%3cg%20clip-path='url(%23clip0_25_2927)'%3e%3cpath%20d='M58.5628%2032.1921C57.9852%2031.4865%2057.087%2031.0577%2056.1574%2031.0577H36.6267L36.0179%2028.7887C35.6646%2027.4697%2034.4469%2026.5497%2033.035%2026.5497H29.7641C29.2191%2026.5497%2028.7693%2026.9785%2028.7693%2027.5009C28.7693%2028.022%2029.2178%2028.4521%2029.7641%2028.4521H33.035C33.5161%2028.4521%2033.9333%2028.7588%2034.061%2029.2188L37.9734%2044.1242C38.3267%2045.4431%2039.5444%2046.3632%2040.9563%2046.3632H53.752C55.1627%2046.3632%2056.4142%2045.4431%2056.7349%2044.1242L59.1403%2034.678C59.3645%2033.8179%2059.1728%2032.8978%2058.5627%2032.1922L58.5628%2032.1921ZM57.1847%2034.2467L54.7794%2043.6928C54.6516%2044.1528%2054.2344%2044.4595%2053.7534%2044.4595H40.9563C40.4752%2044.4595%2040.0581%2044.1528%2039.9303%2043.6928L37.1403%2032.9902H56.1589C56.4796%2032.9902%2056.8003%2033.1435%2056.9933%2033.3891C57.1849%2033.6335%2057.2801%2033.9402%2057.1849%2034.2469L57.1847%2034.2467Z'%20fill='%23E8D5BA'/%3e%3cpath%20d='M41.6308%2047.5873C39.803%2047.5873%2038.296%2049.0285%2038.296%2050.7762C38.296%2052.5239%2039.8031%2053.9651%2041.6308%2053.9651C43.4586%2053.9663%2044.9655%2052.5251%2044.9655%2050.7771C44.9655%2049.0291%2043.4585%2047.587%2041.6308%2047.587V47.5873ZM41.6308%2052.0342C40.8929%2052.0342%2040.3154%2051.482%2040.3154%2050.7763C40.3154%2050.0707%2040.8929%2049.5185%2041.6308%2049.5185C42.3687%2049.5185%2042.9462%2050.0707%2042.9462%2050.7763C42.945%2051.452%2042.3361%2052.0342%2041.6308%2052.0342Z'%20fill='%23E8D5BA'/%3e%3cpath%20d='M52.6627%2047.5873C50.8349%2047.5873%2049.3279%2049.0284%2049.3279%2050.7762C49.3279%2052.5239%2050.835%2053.965%2052.6627%2053.965C54.4904%2053.965%2055.9975%2052.5239%2055.9975%2050.7762C55.9661%2049.0295%2054.4904%2047.5873%2052.6627%2047.5873ZM52.6627%2052.0342C51.9248%2052.0342%2051.3473%2051.4819%2051.3473%2050.7763C51.3473%2050.0707%2051.9248%2049.5184%2052.6627%2049.5184C53.4006%2049.5184%2053.9781%2050.0707%2053.9781%2050.7763C53.9781%2051.4519%2053.368%2052.0342%2052.6627%2052.0342Z'%20fill='%23E8D5BA'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_25_2927'%20x='0.00012207'%20y='0'%20width='88'%20height='88'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4'/%3e%3cfeGaussianBlur%20stdDeviation='5.5'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.113725%200%200%200%200%200.121569%200%200%200%200%200.133333%200%200%200%200.1%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_25_2927'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_25_2927'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_25_2927'%3e%3crect%20width='30.4615'%20height='30.4615'%20fill='white'%20transform='translate(28.7693%2024.7693)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",X3=B.img`
	width: 80px;
	height: 80px;
	cursor: pointer;
	transform: translateY(0.5rem);
`,J3=B.button`
	background: none;
	border: none;
	cursor: pointer;
	padding: 0;
`,Z3=B.footer`
	color: black;
	position: fixed;
	left: 0;
	bottom: 0;
	width: 100%;
	height: 80px;
	z-index: 10;
`,eL=B.div`
	background: #118ab0
	height: 100%;
`,Yh=B(da)`
	color: #e7d5ba;
	font-size: 1.25rem;
	text-decoration: none;
	padding: 1rem;
`,tL=B.div`
	position: absolute;
	bottom: 0px;
	width: 100vw;
	display: flex;
	justify-content: space-between;
	flex-direction: row;
	align-items: flex-end;
`,nL=B.div`
	width: 1.65rem;
	height: 1.65rem;
	border-radius: 50%;
	border: 2px solid #e7d5ba;
	background: #ff0000;
	position: absolute;
	color: #e7d5ba;
	font-size: 1.5rem;
	bottom: 3rem;
	left: 3rem;
`,rL=B.div`
	position: relative;
	display: inline-block;
`,iL=()=>{const e=Be(l=>l.isLoggedIn),t=Be(l=>l.logOut),n=Be(l=>l.setCartModalIsOpen),r=Be(l=>l.cartModalIsOpen),i=Be(l=>l.cart),o=()=>{t()},s=()=>{n(!0)},a=i.reduce((l,u)=>l+u.quantity,0);return I.jsxs(Z3,{children:[I.jsx(F3,{}),I.jsx(eL,{children:I.jsxs(tL,{children:[I.jsx(Yh,{to:"/",children:"Home"}),I.jsx(J3,{onClick:s,children:I.jsxs(rL,{children:[I.jsx(X3,{src:yS,alt:"Cart"}),a>0&&I.jsx(nL,{children:a})]})}),e?I.jsx(Yh,{to:"/",onClick:o,children:"Logout"}):I.jsx(Yh,{to:"/beachboys",children:"Login"})]})}),r&&I.jsx(Y3,{})]})},oL=B.form`
	display: flex;
	flex-direction: column;
	gap: 1rem;
	margin: 0 auto;
	padding-bottom: 2rem;
	max-width: 480px;
`,sL=B.button`
	background: #118ab0;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
`,vS=()=>{const{setFile:e,addProduct:t,file:n}=Be(),[r,i]=P.useState({name:"",desc:"",price:"",category:""});function o(a){a.target.name==="file"?e(a.target.files[0]):i({...r,[a.target.name]:a.target.value})}async function s(a){if(a.preventDefault(),!n){console.log("No file selected");return}const l=r.category;if(!l){console.log("No category selected");return}await t(l,r,n),console.log("File uploaded")}return I.jsxs(oL,{onSubmit:s,children:[I.jsx("h3",{children:"Add Product"}),I.jsx("input",{type:"file",name:"file",onChange:o}),I.jsx("input",{type:"text",name:"name",placeholder:"Product name",onChange:o,required:!0}),I.jsx("input",{type:"text",name:"desc",placeholder:"Product description",onChange:o,required:!0}),I.jsx("input",{type:"text",name:"price",placeholder:"Product price",onChange:o,required:!0}),I.jsx("input",{type:"text",name:"category",placeholder:"Product category",onChange:o,required:!0}),I.jsx(sL,{type:"submit",children:"Save"})]})},aL=B.div`
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, 0.5);
	display: flex;
	justify-content: center;
	align-items: center;
`,lL=B.div`
	background-color: white;
	padding: 20px;
	border-radius: 10px;
`,uL=B.form`
	display: flex;
	flex-direction: column;
	gap: 1rem;
`,cL=B.button`
	background: #118ab0;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
`,hL=B.button`
	background: #ff0000;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	cursor: pointer;
`,dL=({product:e,onClose:t})=>{const{setFile:n,updateProduct:r}=Be(),{category:i}=hw(),[o,s]=P.useState({name:"",desc:"",price:"",category:""});P.useEffect(()=>{s({name:e.name,desc:e.desc,price:e.price,category:e.category})},[e]);function a(u){u.target.name==="file"?n(u.target.files[0]):s({...o,[u.target.name]:u.target.value})}async function l(u){u.preventDefault();const c={...o,category:i};await r(i,e.id,c)}return I.jsx(aL,{children:I.jsxs(lL,{children:[I.jsxs(uL,{onSubmit:l,children:[I.jsx("h3",{children:o.name}),I.jsx("input",{type:"text",name:"name",placeholder:"Product name",onChange:a,value:o.name}),I.jsx("input",{type:"text",name:"desc",placeholder:"Product description",onChange:a,value:o.desc}),I.jsx("input",{type:"text",name:"price",placeholder:"Product price",onChange:a,value:o.price}),I.jsx("input",{type:"text",name:"category",placeholder:"Product category",onChange:a,value:i}),I.jsx(cL,{type:"submit",children:"Save"})]}),I.jsx(hL,{onClick:t,children:"Close"})]})})},fL=J1`
  0% {
    filter: brightness(100%);
  }
  50% {
    filter: sepia() saturate(10000%) hue-rotate(90deg) brightness(50%);
  }
  100% {
    filter: brightness(100%);
  }
`,pL=J1`
  0% { transform: translate(1px, 1px) rotate(0deg); }
  10% { transform: translate(-1px, -2px) rotate(-1deg); }
  20% { transform: translate(-3px, 0px) rotate(1deg); }
  30% { transform: translate(3px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-1px, 2px) rotate(-1deg); }
  60% { transform: translate(-3px, 1px) rotate(0deg); }
  70% { transform: translate(3px, 1px) rotate(-1deg); }
  80% { transform: translate(-1px, -1px) rotate(1deg); }
  90% { transform: translate(1px, 2px) rotate(0deg); }
  100% { transform: translate(1px, -2px) rotate(-1deg); }
`,mL=B.img`
	width: 80px;
	height: 80px;
	cursor: pointer;
	transform: translateY(-0.5rem);

	&:active {
		animation: ${fL} 0.75s ease-in-out;
		animation: ${pL} 0.5s linear;
	}
`,gL=B.button`
	background: none;
	border: none;
	cursor: pointer;
	padding: 0;
`,yL=B.div`
	background: #fcfcfd;
	width: 100vw;
	height: fit-content;
	position: relative;
	overflow: hidden;
`,vL=B.div`
	padding: 1rem;
	font-size: 3rem;
	margin: 0 auto;
	padding-bottom: 10rem;
	color: #118ab0;
	display: flex;
	flex-wrap: wrap;
	gap: 0.65rem;
`,dv=B.div`
	font-size: 2rem;
	padding: 1rem;
	display: flex;
	gap: 1rem;
	flex-direction: column;
`,_L=B.div`
	display: flex;
	flex-direction: row;
	gap: 1rem;

	@media (max-width: 568px) {
		flex-direction: column;
	}
`,wL=B.img`
	max-width: 380px;
	max-height: 380px;
	border-radius: 10px;
	border: 1px solid rgb(40 129 168);

	@media (max-width: 720px) {
		max-width: 180px;
		max-height: 180px;
	}
`,EL=B.button`
	background: #ff0000;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	cursor: pointer;
`,TL=B.div`
	display: flex;
	flex-direciton: row;
	gap: 2rem;
`,SL=()=>{const{category:e}=hw(),t=Be(g=>g.products),n=Be(g=>g.fetchProducts),r=Be(g=>g.deleteProduct),i=Be(g=>g.addProduct),o=Be(g=>g.isLoggedIn),[s,a]=P.useState(null),l=Be(g=>g.addToCart);function u(g){a(g)}function c(){a(null)}P.useEffect(()=>{e&&n(e)},[e,n]);const h=async g=>{g&&(await r(g.categoryId,g.id),await n(e))},d=async(g,_,E)=>{await i(g,_,E),await n(e)},p=g=>{l(g)};return I.jsxs(yL,{children:[I.jsx(Zm,{}),I.jsxs(vL,{id:"products",children:[o&&I.jsx(vS,{onAddProduct:d}),t.map(g=>I.jsxs(_L,{children:[I.jsxs(dv,{children:[g.name,I.jsx(wL,{src:g.imageUrl,alt:g.name}),I.jsxs(TL,{children:[g.price,I.jsx(gL,{onClick:()=>p(g),children:I.jsx(mL,{src:yS,alt:"Add Product to Cart"})})]}),o&&I.jsxs(I.Fragment,{children:[I.jsx(EL,{type:"button",onClick:()=>h(g),children:"Delete"}),I.jsx("button",{type:"button",onClick:()=>u(g),children:"Edit"})]})]}),I.jsx(dv,{children:g.desc})]},g.id)),s&&I.jsx(dL,{product:s,onClose:c})]}),I.jsx(gS,{})]})},IL=B.div`
	background: #fcfcfd;
	width: 100vw;
	height: fit-content;
	position: relative;
	overflow: hidden;
`,RL=()=>I.jsxs(IL,{children:[I.jsx(vS,{}),I.jsx(Zm,{})]}),CL=()=>{const[e,t]=P.useState(""),[n,r]=P.useState(""),[i,o]=P.useState(""),s=Be(u=>u.isLoggedIn),a=Be(u=>u.logIn),l=()=>{e==="admin"&&n==="password"?(console.log("Login successful"),a()):o("Invalid username or password")};return s?I.jsx(mA,{to:"/beachboys-admin"}):I.jsxs("div",{children:[I.jsx("h1",{children:"Login"}),I.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:u=>t(u.target.value)}),I.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:u=>r(u.target.value)}),I.jsx("button",{onClick:l,children:"Login"}),i&&I.jsx("p",{children:i})]})},AL=B.form`
	display: flex;
	flex-direction: column;
	gap: 1rem;
	padding-bottom: 2rem;
	padding-top: 10rem;
	max-width: 480px;
	font-family: "Monomaniac One", sans-serif;
	letter-spacing: 1px;
	font-size: 1.5rem;
	margin: 0 auto;
	overflow-y: hidden;
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
`,PL=B.button`
	background: #118ab0;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	font-family: "Monomaniac One", sans-serif;
	letter-spacing: 1px;
	font-size: 1.5rem;
`,xL=B.button`
	background: #ff0000;

	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	font-family: "Monomaniac One", sans-serif;
	letter-spacing: 1px;
	font-size: 1.5rem;
`,kL=()=>{const[e,t]=P.useState({}),n=i=>{const o={},s=i.target.elements;return s.name.value||(o.name="Name is required"),s.Address.value||(o.Address="Address is required"),s.email.value||(o.email="Email is required"),s.phone.value||(o.phone="Phone number is required"),t(o),Object.keys(o).length===0},r=async i=>{i.preventDefault(),n(i)&&console.log("checkout complete")};return I.jsxs(AL,{onSubmit:r,children:[I.jsxs("label",{children:["Your Name",I.jsx("input",{type:"text",name:"name",placeholder:"Your Name",required:!0}),e.name&&I.jsx("p",{children:e.name})]}),I.jsxs("label",{children:["Address",I.jsx("input",{type:"text",name:"Address",placeholder:"Address",required:!0}),e.Address&&I.jsx("p",{children:e.Address})]}),I.jsxs("label",{children:["Email Address",I.jsx("input",{type:"email",name:"email",placeholder:"Email Address",required:!0,pattern:"[a-z0-9._%+\\-]+@[a-z0-9.\\-]+\\.[a-z]{2,}$"}),e.email&&I.jsx("p",{children:e.email})]}),I.jsxs("label",{children:["Phone Number",I.jsx("input",{type:"tel",name:"phone",placeholder:"Phone (xxx-xxx-xxx)",required:!0,pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",onInvalid:i=>{i.target.setCustomValidity("Please enter a phone number in the format XXX-XXX-XXXX")},onChange:i=>{i.target.setCustomValidity("")}})]}),I.jsx(da,{to:"/",children:I.jsx(PL,{type:"submit",children:"Checkout"})}),I.jsx(da,{to:"/",children:I.jsx(xL,{children:"Cancel"})})]})},DL=rC`

	html, body {
		font-family: "Monomaniac One", sans-serif;
  font-weight: 400;
  font-style: normal;
		margin: 0;
		padding: 0;
		height: 97vh;
		overflow-x: hidden;
		
	}

	a {
		text-decoration: none;
	}
	footer {
		position: absolute;
		bottom: 0px;
		}
	}
`,NL=B.div`
	display: flex;
	flex-direction: column;
	min-height: 100vh;
	background: #fcfcfd;
	color: #1a1a1a;
`;function VL(){const e=rA([{path:"/main",element:I.jsx(Mf,{})},{path:"beachboys-admin",element:I.jsx(RL,{})},{path:"/beachboys",element:I.jsx(CL,{})},{path:"/",element:I.jsx(Mf,{})},{path:"checkout",element:I.jsx(kL,{})},{path:"/category/:category",element:I.jsx(SL,{})}]);return I.jsxs(I.Fragment,{children:[I.jsx(DL,{}),I.jsxs(NL,{children:[I.jsx(M3,{}),e,I.jsx(iL,{})]})]})}const LL=SA([{path:"/*",element:I.jsx(VL,{}),children:[{index:!0,element:I.jsx(Mf,{})}]}]);Xh.createRoot(document.getElementById("root")).render(I.jsx(un.StrictMode,{children:I.jsx(NA,{router:LL})}));
