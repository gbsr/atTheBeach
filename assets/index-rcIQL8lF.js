function l_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u_={exports:{}},Hu={},c_={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),IS=Symbol.for("react.portal"),RS=Symbol.for("react.fragment"),AS=Symbol.for("react.strict_mode"),CS=Symbol.for("react.profiler"),PS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),xS=Symbol.for("react.forward_ref"),DS=Symbol.for("react.suspense"),NS=Symbol.for("react.memo"),VS=Symbol.for("react.lazy"),sg=Symbol.iterator;function LS(e){return e===null||typeof e!="object"?null:(e=sg&&e[sg]||e["@@iterator"],typeof e=="function"?e:null)}var h_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,f_={};function bo(e,t,n){this.props=e,this.context=t,this.refs=f_,this.updater=n||h_}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p_(){}p_.prototype=bo.prototype;function Mf(e,t,n){this.props=e,this.context=t,this.refs=f_,this.updater=n||h_}var Ff=Mf.prototype=new p_;Ff.constructor=Mf;d_(Ff,bo.prototype);Ff.isPureReactComponent=!0;var ag=Array.isArray,m_=Object.prototype.hasOwnProperty,$f={current:null},g_={key:!0,ref:!0,__self:!0,__source:!0};function y_(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)m_.call(t,r)&&!g_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pa,type:e,key:o,ref:s,props:i,_owner:$f.current}}function OS(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function MS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lg=/\/+/g;function Qc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MS(""+e.key):t.toString(36)}function Nl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Pa:case IS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Qc(s,0):r,ag(i)?(n="",e!=null&&(n=e.replace(lg,"$&/")+"/"),Nl(i,t,n,"",function(u){return u})):i!=null&&(bf(i)&&(i=OS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ag(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Qc(o,a);s+=Nl(o,t,n,l,i)}else if(l=LS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Qc(o,a++),s+=Nl(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nl(e,t,n){if(e==null)return e;var r=[],i=0;return Nl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function FS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},Vl={transition:null},$S={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:$f};se.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=bo;se.Fragment=RS;se.Profiler=CS;se.PureComponent=Mf;se.StrictMode=AS;se.Suspense=DS;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$S;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=d_({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=$f.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)m_.call(t,l)&&!g_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pa,type:e.type,key:i,ref:o,props:r,_owner:s}};se.createContext=function(e){return e={$$typeof:kS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:PS,_context:e},e.Consumer=e};se.createElement=y_;se.createFactory=function(e){var t=y_.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:xS,render:e}};se.isValidElement=bf;se.lazy=function(e){return{$$typeof:VS,_payload:{_status:-1,_result:e},_init:FS}};se.memo=function(e,t){return{$$typeof:NS,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Vl.transition;Vl.transition={};try{e()}finally{Vl.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return Lt.current.useCallback(e,t)};se.useContext=function(e){return Lt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};se.useEffect=function(e,t){return Lt.current.useEffect(e,t)};se.useId=function(){return Lt.current.useId()};se.useImperativeHandle=function(e,t,n){return Lt.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Lt.current.useMemo(e,t)};se.useReducer=function(e,t,n){return Lt.current.useReducer(e,t,n)};se.useRef=function(e){return Lt.current.useRef(e)};se.useState=function(e){return Lt.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return Lt.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Lt.current.useTransition()};se.version="18.2.0";c_.exports=se;var C=c_.exports;const ln=Of(C),bS=l_({__proto__:null,default:ln},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US=C,jS=Symbol.for("react.element"),BS=Symbol.for("react.fragment"),zS=Object.prototype.hasOwnProperty,HS=US.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WS={key:!0,ref:!0,__self:!0,__source:!0};function v_(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)zS.call(t,r)&&!WS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jS,type:e,key:o,ref:s,props:i,_owner:HS.current}}Hu.Fragment=BS;Hu.jsx=v_;Hu.jsxs=v_;u_.exports=Hu;var O=u_.exports,Gh={},__={exports:{}},Jt={},w_={exports:{}},E_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,B){var q=D.length;D.push(B);e:for(;0<q;){var ae=q-1>>>1,re=D[ae];if(0<i(re,B))D[ae]=B,D[q]=re,q=ae;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],q=D.pop();if(q!==B){D[0]=q;e:for(var ae=0,re=D.length,Mt=re>>>1;ae<Mt;){var ot=2*(ae+1)-1,Xe=D[ot],be=ot+1,st=D[be];if(0>i(Xe,q))be<re&&0>i(st,Xe)?(D[ae]=st,D[be]=q,ae=be):(D[ae]=Xe,D[ot]=q,ae=ot);else if(be<re&&0>i(st,q))D[ae]=st,D[be]=q,ae=be;else break e}}return B}function i(D,B){var q=D.sortIndex-B.sortIndex;return q!==0?q:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,v=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function T(D){if(_=!1,g(D),!v)if(n(l)!==null)v=!0,Pn(R);else{var B=n(u);B!==null&&en(T,B.startTime-D)}}function R(D,B){v=!1,_&&(_=!1,m(N),N=-1),p=!0;var q=d;try{for(g(B),h=n(l);h!==null&&(!(h.expirationTime>B)||D&&!ie());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,d=h.priorityLevel;var re=ae(h.expirationTime<=B);B=e.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),g(B)}else r(l);h=n(l)}if(h!==null)var Mt=!0;else{var ot=n(u);ot!==null&&en(T,ot.startTime-B),Mt=!1}return Mt}finally{h=null,d=q,p=!1}}var A=!1,y=null,N=-1,j=5,M=-1;function ie(){return!(e.unstable_now()-M<j)}function Pe(){if(y!==null){var D=e.unstable_now();M=D;var B=!0;try{B=y(!0,D)}finally{B?_e():(A=!1,y=null)}}else A=!1}var _e;if(typeof f=="function")_e=function(){f(Pe)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,zt=qe.port2;qe.port1.onmessage=Pe,_e=function(){zt.postMessage(null)}}else _e=function(){E(Pe,0)};function Pn(D){y=D,A||(A=!0,_e())}function en(D,B){N=E(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,Pn(R))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var q=d;d=B;try{return D()}finally{d=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=d;d=D;try{return B()}finally{d=q}},e.unstable_scheduleCallback=function(D,B,q){var ae=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ae+q:ae):q=ae,D){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=q+re,D={id:c++,callback:B,priorityLevel:D,startTime:q,expirationTime:re,sortIndex:-1},q>ae?(D.sortIndex=q,t(u,D),n(l)===null&&D===n(u)&&(_?(m(N),N=-1):_=!0,en(T,q-ae))):(D.sortIndex=re,t(l,D),v||p||(v=!0,Pn(R))),D},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(D){var B=d;return function(){var q=d;d=B;try{return D.apply(this,arguments)}finally{d=q}}}})(E_);w_.exports=E_;var qS=w_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_=C,Yt=qS;function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,Hs={};function Pi(e,t){go(e,t),go(e+"Capture",t)}function go(e,t){for(Hs[e]=t,e=0;e<t.length;e++)S_.add(t[e])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=Object.prototype.hasOwnProperty,KS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ug={},cg={};function GS(e){return Qh.call(cg,e)?!0:Qh.call(ug,e)?!1:KS.test(e)?cg[e]=!0:(ug[e]=!0,!1)}function QS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YS(e,t,n,r){if(t===null||typeof t>"u"||QS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uf=/[\-:]([a-z])/g;function jf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uf,jf);yt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uf,jf);yt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uf,jf);yt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bf(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YS(t,n,i,r)&&(n=null),r||i===null?GS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lr=T_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),R_=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Jh=Symbol.for("react.suspense_list"),Wf=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),hg=Symbol.iterator;function rs(e){return e===null||typeof e!="object"?null:(e=hg&&e[hg]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Yc;function vs(e){if(Yc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yc=t&&t[1]||""}return`
`+Yc+e}var Xc=!1;function Jc(e,t){if(!e||Xc)return"";Xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Xc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vs(e):""}function XS(e){switch(e.tag){case 5:return vs(e.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return e=Jc(e.type,!1),e;case 11:return e=Jc(e.type.render,!1),e;case 1:return e=Jc(e.type,!0),e;default:return""}}function Zh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Wi:return"Portal";case Yh:return"Profiler";case zf:return"StrictMode";case Xh:return"Suspense";case Jh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R_:return(e.displayName||"Context")+".Consumer";case I_:return(e._context.displayName||"Context")+".Provider";case Hf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wf:return t=e.displayName||null,t!==null?t:Zh(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return Zh(e(t))}catch{}}return null}function JS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zh(t);case 8:return t===zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZS(e){var t=C_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=ZS(e))}function P_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=C_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ed(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$r(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k_(e,t){t=t.checked,t!=null&&Bf(e,"checked",t,!1)}function td(e,t){k_(e,t);var n=$r(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nd(e,t.type,n):t.hasOwnProperty("defaultValue")&&nd(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nd(e,t,n){(t!=="number"||Zl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function so(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$r(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(_s(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$r(n)}}function x_(e,t){var n=$r(t.value),r=$r(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function id(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ol,N_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(Cs).forEach(function(e){eI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cs[t]=Cs[e]})});function V_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cs.hasOwnProperty(e)&&Cs[e]?(""+t).trim():t+"px"}function L_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var tI=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(e,t){if(t){if(tI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function sd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=null;function qf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ld=null,ao=null,lo=null;function gg(e){if(e=Da(e)){if(typeof ld!="function")throw Error(x(280));var t=e.stateNode;t&&(t=Qu(t),ld(e.stateNode,e.type,t))}}function O_(e){ao?lo?lo.push(e):lo=[e]:ao=e}function M_(){if(ao){var e=ao,t=lo;if(lo=ao=null,gg(e),t)for(e=0;e<t.length;e++)gg(t[e])}}function F_(e,t){return e(t)}function $_(){}var Zc=!1;function b_(e,t,n){if(Zc)return e(t,n);Zc=!0;try{return F_(e,t,n)}finally{Zc=!1,(ao!==null||lo!==null)&&($_(),M_())}}function qs(e,t){var n=e.stateNode;if(n===null)return null;var r=Qu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var ud=!1;if(tr)try{var is={};Object.defineProperty(is,"passive",{get:function(){ud=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{ud=!1}function nI(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ps=!1,eu=null,tu=!1,cd=null,rI={onError:function(e){Ps=!0,eu=e}};function iI(e,t,n,r,i,o,s,a,l){Ps=!1,eu=null,nI.apply(rI,arguments)}function oI(e,t,n,r,i,o,s,a,l){if(iI.apply(this,arguments),Ps){if(Ps){var u=eu;Ps=!1,eu=null}else throw Error(x(198));tu||(tu=!0,cd=u)}}function ki(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function U_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yg(e){if(ki(e)!==e)throw Error(x(188))}function sI(e){var t=e.alternate;if(!t){if(t=ki(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yg(i),e;if(o===r)return yg(i),t;o=o.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function j_(e){return e=sI(e),e!==null?B_(e):null}function B_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B_(e);if(t!==null)return t;e=e.sibling}return null}var z_=Yt.unstable_scheduleCallback,vg=Yt.unstable_cancelCallback,aI=Yt.unstable_shouldYield,lI=Yt.unstable_requestPaint,je=Yt.unstable_now,uI=Yt.unstable_getCurrentPriorityLevel,Kf=Yt.unstable_ImmediatePriority,H_=Yt.unstable_UserBlockingPriority,nu=Yt.unstable_NormalPriority,cI=Yt.unstable_LowPriority,W_=Yt.unstable_IdlePriority,Wu=null,$n=null;function hI(e){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:pI,dI=Math.log,fI=Math.LN2;function pI(e){return e>>>=0,e===0?32:31-(dI(e)/fI|0)|0}var sl=64,al=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ws(a):(o&=s,o!==0&&(r=ws(o)))}else s=n&~i,s!==0?r=ws(s):o!==0&&(r=ws(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),i=1<<n,r|=e[n],t&=~i;return r}function mI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Tn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=mI(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function hd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q_(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function eh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function yI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function K_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var G_,Qf,Q_,Y_,X_,dd=!1,ll=[],Ir=null,Rr=null,Ar=null,Ks=new Map,Gs=new Map,vr=[],vI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(e,t){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function os(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Da(t),t!==null&&Qf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _I(e,t,n,r,i){switch(t){case"focusin":return Ir=os(Ir,e,t,n,r,i),!0;case"dragenter":return Rr=os(Rr,e,t,n,r,i),!0;case"mouseover":return Ar=os(Ar,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ks.set(o,os(Ks.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gs.set(o,os(Gs.get(o)||null,e,t,n,r,i)),!0}return!1}function J_(e){var t=ei(e.target);if(t!==null){var n=ki(t);if(n!==null){if(t=n.tag,t===13){if(t=U_(n),t!==null){e.blockedOn=t,X_(e.priority,function(){Q_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ad=r,n.target.dispatchEvent(r),ad=null}else return t=Da(n),t!==null&&Qf(t),e.blockedOn=n,!1;t.shift()}return!0}function wg(e,t,n){Ll(e)&&n.delete(t)}function wI(){dd=!1,Ir!==null&&Ll(Ir)&&(Ir=null),Rr!==null&&Ll(Rr)&&(Rr=null),Ar!==null&&Ll(Ar)&&(Ar=null),Ks.forEach(wg),Gs.forEach(wg)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,dd||(dd=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,wI)))}function Qs(e){function t(i){return ss(i,e)}if(0<ll.length){ss(ll[0],e);for(var n=1;n<ll.length;n++){var r=ll[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ir!==null&&ss(Ir,e),Rr!==null&&ss(Rr,e),Ar!==null&&ss(Ar,e),Ks.forEach(t),Gs.forEach(t),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)J_(n),n.blockedOn===null&&vr.shift()}var uo=lr.ReactCurrentBatchConfig,iu=!0;function EI(e,t,n,r){var i=me,o=uo.transition;uo.transition=null;try{me=1,Yf(e,t,n,r)}finally{me=i,uo.transition=o}}function TI(e,t,n,r){var i=me,o=uo.transition;uo.transition=null;try{me=4,Yf(e,t,n,r)}finally{me=i,uo.transition=o}}function Yf(e,t,n,r){if(iu){var i=fd(e,t,n,r);if(i===null)ch(e,t,r,ou,n),_g(e,r);else if(_I(i,e,t,n,r))r.stopPropagation();else if(_g(e,r),t&4&&-1<vI.indexOf(e)){for(;i!==null;){var o=Da(i);if(o!==null&&G_(o),o=fd(e,t,n,r),o===null&&ch(e,t,r,ou,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ch(e,t,r,null,n)}}var ou=null;function fd(e,t,n,r){if(ou=null,e=qf(r),e=ei(e),e!==null)if(t=ki(e),t===null)e=null;else if(n=t.tag,n===13){if(e=U_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ou=e,null}function Z_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uI()){case Kf:return 1;case H_:return 4;case nu:case cI:return 16;case W_:return 536870912;default:return 16}default:return 16}}var Er=null,Xf=null,Ol=null;function e0(){if(Ol)return Ol;var e,t=Xf,n=t.length,r,i="value"in Er?Er.value:Er.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ol=i.slice(e,1<r?1-r:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function Eg(){return!1}function Zt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ul:Eg,this.isPropagationStopped=Eg,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Zt(Uo),xa=Ne({},Uo,{view:0,detail:0}),SI=Zt(xa),th,nh,as,qu=Ne({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(th=e.screenX-as.screenX,nh=e.screenY-as.screenY):nh=th=0,as=e),th)},movementY:function(e){return"movementY"in e?e.movementY:nh}}),Tg=Zt(qu),II=Ne({},qu,{dataTransfer:0}),RI=Zt(II),AI=Ne({},xa,{relatedTarget:0}),rh=Zt(AI),CI=Ne({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),PI=Zt(CI),kI=Ne({},Uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xI=Zt(kI),DI=Ne({},Uo,{data:0}),Sg=Zt(DI),NI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LI[e])?!!t[e]:!1}function Zf(){return OI}var MI=Ne({},xa,{key:function(e){if(e.key){var t=NI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FI=Zt(MI),$I=Ne({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=Zt($I),bI=Ne({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),UI=Zt(bI),jI=Ne({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),BI=Zt(jI),zI=Ne({},qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HI=Zt(zI),WI=[9,13,27,32],ep=tr&&"CompositionEvent"in window,ks=null;tr&&"documentMode"in document&&(ks=document.documentMode);var qI=tr&&"TextEvent"in window&&!ks,t0=tr&&(!ep||ks&&8<ks&&11>=ks),Rg=" ",Ag=!1;function n0(e,t){switch(e){case"keyup":return WI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function KI(e,t){switch(e){case"compositionend":return r0(t);case"keypress":return t.which!==32?null:(Ag=!0,Rg);case"textInput":return e=t.data,e===Rg&&Ag?null:e;default:return null}}function GI(e,t){if(Ki)return e==="compositionend"||!ep&&n0(e,t)?(e=e0(),Ol=Xf=Er=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t0&&t.locale!=="ko"?null:t.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QI[e.type]:t==="textarea"}function i0(e,t,n,r){O_(r),t=su(t,"onChange"),0<t.length&&(n=new Jf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,Ys=null;function YI(e){m0(e,0)}function Ku(e){var t=Yi(e);if(P_(t))return e}function XI(e,t){if(e==="change")return t}var o0=!1;if(tr){var ih;if(tr){var oh="oninput"in document;if(!oh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),oh=typeof Pg.oninput=="function"}ih=oh}else ih=!1;o0=ih&&(!document.documentMode||9<document.documentMode)}function kg(){xs&&(xs.detachEvent("onpropertychange",s0),Ys=xs=null)}function s0(e){if(e.propertyName==="value"&&Ku(Ys)){var t=[];i0(t,Ys,e,qf(e)),b_(YI,t)}}function JI(e,t,n){e==="focusin"?(kg(),xs=t,Ys=n,xs.attachEvent("onpropertychange",s0)):e==="focusout"&&kg()}function ZI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(Ys)}function eR(e,t){if(e==="click")return Ku(t)}function tR(e,t){if(e==="input"||e==="change")return Ku(t)}function nR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var An=typeof Object.is=="function"?Object.is:nR;function Xs(e,t){if(An(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qh.call(t,i)||!An(e[i],t[i]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,t){var n=xg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xg(n)}}function a0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l0(){for(var e=window,t=Zl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zl(e.document)}return t}function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rR(e){var t=l0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a0(n.ownerDocument.documentElement,n)){if(r!==null&&tp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Dg(n,o);var s=Dg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iR=tr&&"documentMode"in document&&11>=document.documentMode,Gi=null,pd=null,Ds=null,md=!1;function Ng(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;md||Gi==null||Gi!==Zl(r)||(r=Gi,"selectionStart"in r&&tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ds&&Xs(Ds,r)||(Ds=r,r=su(pd,"onSelect"),0<r.length&&(t=new Jf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gi)))}function cl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qi={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},sh={},u0={};tr&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Gu(e){if(sh[e])return sh[e];if(!Qi[e])return e;var t=Qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u0)return sh[e]=t[n];return e}var c0=Gu("animationend"),h0=Gu("animationiteration"),d0=Gu("animationstart"),f0=Gu("transitionend"),p0=new Map,Vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){p0.set(e,t),Pi(t,[e])}for(var ah=0;ah<Vg.length;ah++){var lh=Vg[ah],oR=lh.toLowerCase(),sR=lh[0].toUpperCase()+lh.slice(1);zr(oR,"on"+sR)}zr(c0,"onAnimationEnd");zr(h0,"onAnimationIteration");zr(d0,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(f0,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function Lg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oI(r,t,void 0,e),e.currentTarget=null}function m0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Lg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Lg(i,a,u),o=l}}}if(tu)throw e=cd,tu=!1,cd=null,e}function we(e,t){var n=t[wd];n===void 0&&(n=t[wd]=new Set);var r=e+"__bubble";n.has(r)||(g0(t,e,2,!1),n.add(r))}function uh(e,t,n){var r=0;t&&(r|=4),g0(n,e,r,t)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[hl]){e[hl]=!0,S_.forEach(function(n){n!=="selectionchange"&&(aR.has(n)||uh(n,!1,e),uh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hl]||(t[hl]=!0,uh("selectionchange",!1,t))}}function g0(e,t,n,r){switch(Z_(t)){case 1:var i=EI;break;case 4:i=TI;break;default:i=Yf}n=i.bind(null,t,n,e),i=void 0,!ud||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ch(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ei(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}b_(function(){var u=o,c=qf(n),h=[];e:{var d=p0.get(e);if(d!==void 0){var p=Jf,v=e;switch(e){case"keypress":if(Ml(n)===0)break e;case"keydown":case"keyup":p=FI;break;case"focusin":v="focus",p=rh;break;case"focusout":v="blur",p=rh;break;case"beforeblur":case"afterblur":p=rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UI;break;case c0:case h0:case d0:p=PI;break;case f0:p=BI;break;case"scroll":p=SI;break;case"wheel":p=HI;break;case"copy":case"cut":case"paste":p=xI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ig}var _=(t&4)!==0,E=!_&&e==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,g;f!==null;){g=f;var T=g.stateNode;if(g.tag===5&&T!==null&&(g=T,m!==null&&(T=qs(f,m),T!=null&&_.push(Zs(f,T,g)))),E)break;f=f.return}0<_.length&&(d=new p(d,v,null,n,c),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==ad&&(v=n.relatedTarget||n.fromElement)&&(ei(v)||v[nr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?ei(v):null,v!==null&&(E=ki(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(_=Tg,T="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(_=Ig,T="onPointerLeave",m="onPointerEnter",f="pointer"),E=p==null?d:Yi(p),g=v==null?d:Yi(v),d=new _(T,f+"leave",p,n,c),d.target=E,d.relatedTarget=g,T=null,ei(c)===u&&(_=new _(m,f+"enter",v,n,c),_.target=g,_.relatedTarget=E,T=_),E=T,p&&v)t:{for(_=p,m=v,f=0,g=_;g;g=$i(g))f++;for(g=0,T=m;T;T=$i(T))g++;for(;0<f-g;)_=$i(_),f--;for(;0<g-f;)m=$i(m),g--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=$i(_),m=$i(m)}_=null}else _=null;p!==null&&Og(h,d,p,_,!1),v!==null&&E!==null&&Og(h,E,v,_,!0)}}e:{if(d=u?Yi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var R=XI;else if(Cg(d))if(o0)R=tR;else{R=ZI;var A=JI}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=eR);if(R&&(R=R(e,u))){i0(h,R,n,c);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&nd(d,"number",d.value)}switch(A=u?Yi(u):window,e){case"focusin":(Cg(A)||A.contentEditable==="true")&&(Gi=A,pd=u,Ds=null);break;case"focusout":Ds=pd=Gi=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Ng(h,n,c);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":Ng(h,n,c)}var y;if(ep)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ki?n0(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(t0&&n.locale!=="ko"&&(Ki||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ki&&(y=e0()):(Er=c,Xf="value"in Er?Er.value:Er.textContent,Ki=!0)),A=su(u,N),0<A.length&&(N=new Sg(N,e,null,n,c),h.push({event:N,listeners:A}),y?N.data=y:(y=r0(n),y!==null&&(N.data=y)))),(y=qI?KI(e,n):GI(e,n))&&(u=su(u,"onBeforeInput"),0<u.length&&(c=new Sg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=y))}m0(h,t)})}function Zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function su(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qs(e,n),o!=null&&r.unshift(Zs(e,o,i)),o=qs(e,t),o!=null&&r.push(Zs(e,o,i))),e=e.return}return r}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Og(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qs(n,o),l!=null&&s.unshift(Zs(n,l,a))):i||(l=qs(n,o),l!=null&&s.push(Zs(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var lR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function Mg(e){return(typeof e=="string"?e:""+e).replace(lR,`
`).replace(uR,"")}function dl(e,t,n){if(t=Mg(t),Mg(e)!==t&&n)throw Error(x(425))}function au(){}var gd=null,yd=null;function vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(e){return Fg.resolve(null).then(e).catch(dR)}:_d;function dR(e){setTimeout(function(){throw e})}function hh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qs(t)}function Cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+jo,ea="__reactProps$"+jo,nr="__reactContainer$"+jo,wd="__reactEvents$"+jo,fR="__reactListeners$"+jo,pR="__reactHandles$"+jo;function ei(e){var t=e[Vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nr]||n[Vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$g(e);e!==null;){if(n=e[Vn])return n;e=$g(e)}return t}e=n,n=e.parentNode}return null}function Da(e){return e=e[Vn]||e[nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function Qu(e){return e[ea]||null}var Ed=[],Xi=-1;function Hr(e){return{current:e}}function Se(e){0>Xi||(e.current=Ed[Xi],Ed[Xi]=null,Xi--)}function ye(e,t){Xi++,Ed[Xi]=e.current,e.current=t}var br={},Ct=Hr(br),Ut=Hr(!1),pi=br;function yo(e,t){var n=e.type.contextTypes;if(!n)return br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jt(e){return e=e.childContextTypes,e!=null}function lu(){Se(Ut),Se(Ct)}function bg(e,t,n){if(Ct.current!==br)throw Error(x(168));ye(Ct,t),ye(Ut,n)}function y0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(x(108,JS(e)||"Unknown",i));return Ne({},n,r)}function uu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,pi=Ct.current,ye(Ct,e),ye(Ut,Ut.current),!0}function Ug(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=y0(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,Se(Ut),Se(Ct),ye(Ct,e)):Se(Ut),ye(Ut,n)}var Qn=null,Yu=!1,dh=!1;function v0(e){Qn===null?Qn=[e]:Qn.push(e)}function mR(e){Yu=!0,v0(e)}function Wr(){if(!dh&&Qn!==null){dh=!0;var e=0,t=me;try{var n=Qn;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qn=null,Yu=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(e+1)),z_(Kf,Wr),i}finally{me=t,dh=!1}}return null}var Ji=[],Zi=0,cu=null,hu=0,rn=[],on=0,mi=null,Yn=1,Xn="";function Xr(e,t){Ji[Zi++]=hu,Ji[Zi++]=cu,cu=e,hu=t}function _0(e,t,n){rn[on++]=Yn,rn[on++]=Xn,rn[on++]=mi,mi=e;var r=Yn;e=Xn;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var o=32-Tn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yn=1<<32-Tn(t)+i|n<<i|r,Xn=o+e}else Yn=1<<o|n<<i|r,Xn=e}function np(e){e.return!==null&&(Xr(e,1),_0(e,1,0))}function rp(e){for(;e===cu;)cu=Ji[--Zi],Ji[Zi]=null,hu=Ji[--Zi],Ji[Zi]=null;for(;e===mi;)mi=rn[--on],rn[on]=null,Xn=rn[--on],rn[on]=null,Yn=rn[--on],rn[on]=null}var Qt=null,qt=null,Ae=!1,wn=null;function w0(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,qt=Cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Yn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,qt=null,!0):!1;default:return!1}}function Td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sd(e){if(Ae){var t=qt;if(t){var n=t;if(!jg(e,t)){if(Td(e))throw Error(x(418));t=Cr(n.nextSibling);var r=Qt;t&&jg(e,t)?w0(r,n):(e.flags=e.flags&-4097|2,Ae=!1,Qt=e)}}else{if(Td(e))throw Error(x(418));e.flags=e.flags&-4097|2,Ae=!1,Qt=e}}}function Bg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function fl(e){if(e!==Qt)return!1;if(!Ae)return Bg(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vd(e.type,e.memoizedProps)),t&&(t=qt)){if(Td(e))throw E0(),Error(x(418));for(;t;)w0(e,t),t=Cr(t.nextSibling)}if(Bg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qt=Cr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Qt?Cr(e.stateNode.nextSibling):null;return!0}function E0(){for(var e=qt;e;)e=Cr(e.nextSibling)}function vo(){qt=Qt=null,Ae=!1}function ip(e){wn===null?wn=[e]:wn.push(e)}var gR=lr.ReactCurrentBatchConfig;function yn(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var du=Hr(null),fu=null,eo=null,op=null;function sp(){op=eo=fu=null}function ap(e){var t=du.current;Se(du),e._currentValue=t}function Id(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function co(e,t){fu=e,op=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(op!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(fu===null)throw Error(x(308));eo=e,fu.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var ti=null;function lp(e){ti===null?ti=[e]:ti.push(e)}function T0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,lp(t)):(n.next=i.next,i.next=n),t.interleaved=n,rr(e,r)}function rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yr=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,rr(e,n)}return i=r.interleaved,i===null?(t.next=t,lp(r)):(t.next=i.next,i.next=t),r.interleaved=t,rr(e,n)}function Fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}function zg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pu(e,t,n,r){var i=e.updateQueue;yr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,_=a;switch(d=t,p=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,d=typeof v=="function"?v.call(p,h,d):v,d==null)break e;h=Ne({},h,d);break e;case 2:yr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);yi|=s,e.lanes=s,e.memoizedState=h}}function Hg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var I0=new T_.Component().refs;function Rd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xu={isMounted:function(e){return(e=e._reactInternals)?ki(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vt(),i=xr(e),o=Zn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Pr(e,o,i),t!==null&&(Sn(t,e,i,r),Fl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vt(),i=xr(e),o=Zn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pr(e,o,i),t!==null&&(Sn(t,e,i,r),Fl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vt(),r=xr(e),i=Zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pr(e,i,r),t!==null&&(Sn(t,e,r,n),Fl(t,e,r))}};function Wg(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Xs(n,r)||!Xs(i,o):!0}function R0(e,t,n){var r=!1,i=br,o=t.contextType;return typeof o=="object"&&o!==null?o=dn(o):(i=jt(t)?pi:Ct.current,r=t.contextTypes,o=(r=r!=null)?yo(e,i):br),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function Ad(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=I0,up(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=dn(o):(o=jt(t)?pi:Ct.current,i.context=yo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Rd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xu.enqueueReplaceState(i,i.state,null),pu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===I0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function pl(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kg(e){var t=e._init;return t(e._payload)}function A0(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Dr(m,f),m.index=0,m.sibling=null,m}function o(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,T){return f===null||f.tag!==6?(f=_h(g,m.mode,T),f.return=m,f):(f=i(f,g),f.return=m,f)}function l(m,f,g,T){var R=g.type;return R===qi?c(m,f,g.props.children,T,g.key):f!==null&&(f.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gr&&Kg(R)===f.type)?(T=i(f,g.props),T.ref=ls(m,f,g),T.return=m,T):(T=zl(g.type,g.key,g.props,null,m.mode,T),T.ref=ls(m,f,g),T.return=m,T)}function u(m,f,g,T){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=wh(g,m.mode,T),f.return=m,f):(f=i(f,g.children||[]),f.return=m,f)}function c(m,f,g,T,R){return f===null||f.tag!==7?(f=ci(g,m.mode,T,R),f.return=m,f):(f=i(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=_h(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case rl:return g=zl(f.type,f.key,f.props,null,m.mode,g),g.ref=ls(m,null,f),g.return=m,g;case Wi:return f=wh(f,m.mode,g),f.return=m,f;case gr:var T=f._init;return h(m,T(f._payload),g)}if(_s(f)||rs(f))return f=ci(f,m.mode,g,null),f.return=m,f;pl(m,f)}return null}function d(m,f,g,T){var R=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return R!==null?null:a(m,f,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:return g.key===R?l(m,f,g,T):null;case Wi:return g.key===R?u(m,f,g,T):null;case gr:return R=g._init,d(m,f,R(g._payload),T)}if(_s(g)||rs(g))return R!==null?null:c(m,f,g,T,null);pl(m,g)}return null}function p(m,f,g,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(g)||null,a(f,m,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rl:return m=m.get(T.key===null?g:T.key)||null,l(f,m,T,R);case Wi:return m=m.get(T.key===null?g:T.key)||null,u(f,m,T,R);case gr:var A=T._init;return p(m,f,g,A(T._payload),R)}if(_s(T)||rs(T))return m=m.get(g)||null,c(f,m,T,R,null);pl(f,T)}return null}function v(m,f,g,T){for(var R=null,A=null,y=f,N=f=0,j=null;y!==null&&N<g.length;N++){y.index>N?(j=y,y=null):j=y.sibling;var M=d(m,y,g[N],T);if(M===null){y===null&&(y=j);break}e&&y&&M.alternate===null&&t(m,y),f=o(M,f,N),A===null?R=M:A.sibling=M,A=M,y=j}if(N===g.length)return n(m,y),Ae&&Xr(m,N),R;if(y===null){for(;N<g.length;N++)y=h(m,g[N],T),y!==null&&(f=o(y,f,N),A===null?R=y:A.sibling=y,A=y);return Ae&&Xr(m,N),R}for(y=r(m,y);N<g.length;N++)j=p(y,m,N,g[N],T),j!==null&&(e&&j.alternate!==null&&y.delete(j.key===null?N:j.key),f=o(j,f,N),A===null?R=j:A.sibling=j,A=j);return e&&y.forEach(function(ie){return t(m,ie)}),Ae&&Xr(m,N),R}function _(m,f,g,T){var R=rs(g);if(typeof R!="function")throw Error(x(150));if(g=R.call(g),g==null)throw Error(x(151));for(var A=R=null,y=f,N=f=0,j=null,M=g.next();y!==null&&!M.done;N++,M=g.next()){y.index>N?(j=y,y=null):j=y.sibling;var ie=d(m,y,M.value,T);if(ie===null){y===null&&(y=j);break}e&&y&&ie.alternate===null&&t(m,y),f=o(ie,f,N),A===null?R=ie:A.sibling=ie,A=ie,y=j}if(M.done)return n(m,y),Ae&&Xr(m,N),R;if(y===null){for(;!M.done;N++,M=g.next())M=h(m,M.value,T),M!==null&&(f=o(M,f,N),A===null?R=M:A.sibling=M,A=M);return Ae&&Xr(m,N),R}for(y=r(m,y);!M.done;N++,M=g.next())M=p(y,m,N,M.value,T),M!==null&&(e&&M.alternate!==null&&y.delete(M.key===null?N:M.key),f=o(M,f,N),A===null?R=M:A.sibling=M,A=M);return e&&y.forEach(function(Pe){return t(m,Pe)}),Ae&&Xr(m,N),R}function E(m,f,g,T){if(typeof g=="object"&&g!==null&&g.type===qi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rl:e:{for(var R=g.key,A=f;A!==null;){if(A.key===R){if(R=g.type,R===qi){if(A.tag===7){n(m,A.sibling),f=i(A,g.props.children),f.return=m,m=f;break e}}else if(A.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gr&&Kg(R)===A.type){n(m,A.sibling),f=i(A,g.props),f.ref=ls(m,A,g),f.return=m,m=f;break e}n(m,A);break}else t(m,A);A=A.sibling}g.type===qi?(f=ci(g.props.children,m.mode,T,g.key),f.return=m,m=f):(T=zl(g.type,g.key,g.props,null,m.mode,T),T.ref=ls(m,f,g),T.return=m,m=T)}return s(m);case Wi:e:{for(A=g.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=i(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=wh(g,m.mode,T),f.return=m,m=f}return s(m);case gr:return A=g._init,E(m,f,A(g._payload),T)}if(_s(g))return v(m,f,g,T);if(rs(g))return _(m,f,g,T);pl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,g),f.return=m,m=f):(n(m,f),f=_h(g,m.mode,T),f.return=m,m=f),s(m)):n(m,f)}return E}var _o=A0(!0),C0=A0(!1),Na={},bn=Hr(Na),ta=Hr(Na),na=Hr(Na);function ni(e){if(e===Na)throw Error(x(174));return e}function cp(e,t){switch(ye(na,t),ye(ta,e),ye(bn,Na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:id(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=id(t,e)}Se(bn),ye(bn,t)}function wo(){Se(bn),Se(ta),Se(na)}function P0(e){ni(na.current);var t=ni(bn.current),n=id(t,e.type);t!==n&&(ye(ta,e),ye(bn,n))}function hp(e){ta.current===e&&(Se(bn),Se(ta))}var xe=Hr(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fh=[];function dp(){for(var e=0;e<fh.length;e++)fh[e]._workInProgressVersionPrimary=null;fh.length=0}var $l=lr.ReactCurrentDispatcher,ph=lr.ReactCurrentBatchConfig,gi=0,De=null,Ke=null,et=null,gu=!1,Ns=!1,ra=0,yR=0;function vt(){throw Error(x(321))}function fp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!An(e[n],t[n]))return!1;return!0}function pp(e,t,n,r,i,o){if(gi=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?ER:TR,e=n(r,i),Ns){o=0;do{if(Ns=!1,ra=0,25<=o)throw Error(x(301));o+=1,et=Ke=null,t.updateQueue=null,$l.current=SR,e=n(r,i)}while(Ns)}if($l.current=yu,t=Ke!==null&&Ke.next!==null,gi=0,et=Ke=De=null,gu=!1,t)throw Error(x(300));return e}function mp(){var e=ra!==0;return ra=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=e:et=et.next=e,et}function fn(){if(Ke===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=et===null?De.memoizedState:et.next;if(t!==null)et=t,Ke=e;else{if(e===null)throw Error(x(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},et===null?De.memoizedState=et=e:et=et.next=e}return et}function ia(e,t){return typeof t=="function"?t(e):t}function mh(e){var t=fn(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=Ke,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((gi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,De.lanes|=c,yi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,An(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,De.lanes|=o,yi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gh(e){var t=fn(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);An(o,t.memoizedState)||(bt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function k0(){}function x0(e,t){var n=De,r=fn(),i=t(),o=!An(r.memoizedState,i);if(o&&(r.memoizedState=i,bt=!0),r=r.queue,gp(V0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,oa(9,N0.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(x(349));gi&30||D0(n,t,i)}return i}function D0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function N0(e,t,n,r){t.value=n,t.getSnapshot=r,L0(t)&&O0(e)}function V0(e,t,n){return n(function(){L0(t)&&O0(e)})}function L0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!An(e,n)}catch{return!0}}function O0(e){var t=rr(e,1);t!==null&&Sn(t,e,1,-1)}function Gg(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=wR.bind(null,De,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function M0(){return fn().memoizedState}function bl(e,t,n,r){var i=Dn();De.flags|=e,i.memoizedState=oa(1|t,n,void 0,r===void 0?null:r)}function Ju(e,t,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var s=Ke.memoizedState;if(o=s.destroy,r!==null&&fp(r,s.deps)){i.memoizedState=oa(t,n,o,r);return}}De.flags|=e,i.memoizedState=oa(1|t,n,o,r)}function Qg(e,t){return bl(8390656,8,e,t)}function gp(e,t){return Ju(2048,8,e,t)}function F0(e,t){return Ju(4,2,e,t)}function $0(e,t){return Ju(4,4,e,t)}function b0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U0(e,t,n){return n=n!=null?n.concat([e]):null,Ju(4,4,b0.bind(null,t,e),n)}function yp(){}function j0(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function B0(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function z0(e,t,n){return gi&21?(An(n,t)||(n=q_(),De.lanes|=n,yi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function vR(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=ph.transition;ph.transition={};try{e(!1),t()}finally{me=n,ph.transition=r}}function H0(){return fn().memoizedState}function _R(e,t,n){var r=xr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W0(e))q0(t,n);else if(n=T0(e,t,n,r),n!==null){var i=Vt();Sn(n,e,r,i),K0(n,t,r)}}function wR(e,t,n){var r=xr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W0(e))q0(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,An(a,s)){var l=t.interleaved;l===null?(i.next=i,lp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=T0(e,t,i,r),n!==null&&(i=Vt(),Sn(n,e,r,i),K0(n,t,r))}}function W0(e){var t=e.alternate;return e===De||t!==null&&t===De}function q0(e,t){Ns=gu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function K0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}var yu={readContext:dn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},ER={readContext:dn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Qg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bl(4194308,4,b0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return bl(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_R.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:Gg,useDebugValue:yp,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=Gg(!1),t=e[0];return e=vR.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,i=Dn();if(Ae){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),nt===null)throw Error(x(349));gi&30||D0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Qg(V0.bind(null,r,o,e),[e]),r.flags|=2048,oa(9,N0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dn(),t=nt.identifierPrefix;if(Ae){var n=Xn,r=Yn;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ra++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TR={readContext:dn,useCallback:j0,useContext:dn,useEffect:gp,useImperativeHandle:U0,useInsertionEffect:F0,useLayoutEffect:$0,useMemo:B0,useReducer:mh,useRef:M0,useState:function(){return mh(ia)},useDebugValue:yp,useDeferredValue:function(e){var t=fn();return z0(t,Ke.memoizedState,e)},useTransition:function(){var e=mh(ia)[0],t=fn().memoizedState;return[e,t]},useMutableSource:k0,useSyncExternalStore:x0,useId:H0,unstable_isNewReconciler:!1},SR={readContext:dn,useCallback:j0,useContext:dn,useEffect:gp,useImperativeHandle:U0,useInsertionEffect:F0,useLayoutEffect:$0,useMemo:B0,useReducer:gh,useRef:M0,useState:function(){return gh(ia)},useDebugValue:yp,useDeferredValue:function(e){var t=fn();return Ke===null?t.memoizedState=e:z0(t,Ke.memoizedState,e)},useTransition:function(){var e=gh(ia)[0],t=fn().memoizedState;return[e,t]},useMutableSource:k0,useSyncExternalStore:x0,useId:H0,unstable_isNewReconciler:!1};function Eo(e,t){try{var n="",r=t;do n+=XS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function yh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function G0(e,t,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_u||(_u=!0,Fd=r),Cd(e,t)},n}function Q0(e,t,n){n=Zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Cd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cd(e,t),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Yg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new IR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$R.bind(null,e,t,n),t.then(e,e))}function Xg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zn(-1,1),t.tag=2,Pr(n,t,1))),n.lanes|=1),e)}var RR=lr.ReactCurrentOwner,bt=!1;function Dt(e,t,n,r){t.child=e===null?C0(t,null,n,r):_o(t,e.child,n,r)}function Zg(e,t,n,r,i){n=n.render;var o=t.ref;return co(t,i),r=pp(e,t,n,r,o,i),n=mp(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ir(e,t,i)):(Ae&&n&&np(t),t.flags|=1,Dt(e,t,r,i),t.child)}function ey(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Rp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Y0(e,t,o,r,i)):(e=zl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xs,n(s,r)&&e.ref===t.ref)return ir(e,t,i)}return t.flags|=1,e=Dr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Y0(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Xs(o,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,ir(e,t,i)}return Pd(e,t,n,r,i)}function X0(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(no,Wt),Wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(no,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(no,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(no,Wt),Wt|=r;return Dt(e,t,i,n),t.child}function J0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pd(e,t,n,r,i){var o=jt(n)?pi:Ct.current;return o=yo(t,o),co(t,i),n=pp(e,t,n,r,o,i),r=mp(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ir(e,t,i)):(Ae&&r&&np(t),t.flags|=1,Dt(e,t,n,i),t.child)}function ty(e,t,n,r,i){if(jt(n)){var o=!0;uu(t)}else o=!1;if(co(t,i),t.stateNode===null)Ul(e,t),R0(t,n,r),Ad(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=jt(n)?pi:Ct.current,u=yo(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qg(t,s,r,u),yr=!1;var d=t.memoizedState;s.state=d,pu(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ut.current||yr?(typeof c=="function"&&(Rd(t,n,c,r),l=t.memoizedState),(a=yr||Wg(t,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,S0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yn(t.type,a),s.props=u,h=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=jt(n)?pi:Ct.current,l=yo(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&qg(t,s,r,l),yr=!1,d=t.memoizedState,s.state=d,pu(t,r,s,i);var v=t.memoizedState;a!==h||d!==v||Ut.current||yr?(typeof p=="function"&&(Rd(t,n,p,r),v=t.memoizedState),(u=yr||Wg(t,n,u,r,d,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return kd(e,t,n,r,o,i)}function kd(e,t,n,r,i,o){J0(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ug(t,n,!1),ir(e,t,o);r=t.stateNode,RR.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):Dt(e,t,a,o),t.memoizedState=r.state,i&&Ug(t,n,!0),t.child}function Z0(e){var t=e.stateNode;t.pendingContext?bg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bg(e,t.context,!1),cp(e,t.containerInfo)}function ny(e,t,n,r,i){return vo(),ip(i),t.flags|=256,Dt(e,t,n,r),t.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function Dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function e1(e,t,n){var r=t.pendingProps,i=xe.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(xe,i&1),e===null)return Sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=tc(s,r,0,null),e=ci(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dd(n),t.memoizedState=xd,e):vp(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AR(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Dr(a,o):(o=ci(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Dd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=xd,r}return o=e.child,e=o.sibling,r=Dr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vp(e,t){return t=tc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&ip(r),_o(t,e.child,null,n),e=vp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AR(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=yh(Error(x(422))),ml(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=tc({mode:"visible",children:r.children},i,0,null),o=ci(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&_o(t,e.child,null,s),t.child.memoizedState=Dd(s),t.memoizedState=xd,o);if(!(t.mode&1))return ml(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(x(419)),r=yh(o,r,void 0),ml(e,t,s,r)}if(a=(s&e.childLanes)!==0,bt||a){if(r=nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rr(e,i),Sn(r,e,i,-1))}return Ip(),r=yh(Error(x(421))),ml(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qt=Cr(i.nextSibling),Qt=t,Ae=!0,wn=null,e!==null&&(rn[on++]=Yn,rn[on++]=Xn,rn[on++]=mi,Yn=e.id,Xn=e.overflow,mi=t),t=vp(t,r.children),t.flags|=4096,t)}function ry(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Id(e.return,t,n)}function vh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function t1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Dt(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,n,t);else if(e.tag===19)ry(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(xe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&mu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}vh(t,!0,n,null,o);break;case"together":vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CR(e,t,n){switch(t.tag){case 3:Z0(t),vo();break;case 5:P0(t);break;case 1:jt(t.type)&&uu(t);break;case 4:cp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ye(du,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?e1(e,t,n):(ye(xe,xe.current&1),e=ir(e,t,n),e!==null?e.sibling:null);ye(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return t1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,X0(e,t,n)}return ir(e,t,n)}var n1,Nd,r1,i1;n1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nd=function(){};r1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ni(bn.current);var o=null;switch(n){case"input":i=ed(e,i),r=ed(e,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=rd(e,i),r=rd(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=au)}od(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};i1=function(e,t,n,r){n!==r&&(t.flags|=4)};function us(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PR(e,t,n){var r=t.pendingProps;switch(rp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return jt(t.type)&&lu(),_t(t),null;case 3:return r=t.stateNode,wo(),Se(Ut),Se(Ct),dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(Ud(wn),wn=null))),Nd(e,t),_t(t),null;case 5:hp(t);var i=ni(na.current);if(n=t.type,e!==null&&t.stateNode!=null)r1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return _t(t),null}if(e=ni(bn.current),fl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Vn]=t,r[ea]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Es.length;i++)we(Es[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":dg(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":pg(r,o),we("invalid",r)}od(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,a,e),i=["children",""+a]):Hs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":il(r),fg(r,o,!0);break;case"textarea":il(r),mg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=au)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Vn]=t,e[ea]=r,n1(e,t,!1,!1),t.stateNode=e;e:{switch(s=sd(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Es.length;i++)we(Es[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":dg(e,r),i=ed(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),we("invalid",e);break;case"textarea":pg(e,r),i=rd(e,r),we("invalid",e);break;default:i=r}od(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?L_(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N_(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ws(e,l):typeof l=="number"&&Ws(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&we("scroll",e):l!=null&&Bf(e,o,l,s))}switch(n){case"input":il(e),fg(e,r,!1);break;case"textarea":il(e),mg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$r(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?so(e,!!r.multiple,o,!1):r.defaultValue!=null&&so(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)i1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=ni(na.current),ni(bn.current),fl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vn]=t,(o=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=t,t.stateNode=r}return _t(t),null;case 13:if(Se(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&qt!==null&&t.mode&1&&!(t.flags&128))E0(),vo(),t.flags|=98560,o=!1;else if(o=fl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(x(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(x(317));o[Vn]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else wn!==null&&(Ud(wn),wn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Qe===0&&(Qe=3):Ip())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return wo(),Nd(e,t),e===null&&Js(t.stateNode.containerInfo),_t(t),null;case 10:return ap(t.type._context),_t(t),null;case 17:return jt(t.type)&&lu(),_t(t),null;case 19:if(Se(xe),o=t.memoizedState,o===null)return _t(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)us(o,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=mu(e),s!==null){for(t.flags|=128,us(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(xe,xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&je()>To&&(t.flags|=128,r=!0,us(o,!1),t.lanes=4194304)}else{if(!r)if(e=mu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ae)return _t(t),null}else 2*je()-o.renderingStartTime>To&&n!==1073741824&&(t.flags|=128,r=!0,us(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=je(),t.sibling=null,n=xe.current,ye(xe,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return Sp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function kR(e,t){switch(rp(t),t.tag){case 1:return jt(t.type)&&lu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wo(),Se(Ut),Se(Ct),dp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hp(t),null;case 13:if(Se(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(xe),null;case 4:return wo(),null;case 10:return ap(t.type._context),null;case 22:case 23:return Sp(),null;case 24:return null;default:return null}}var gl=!1,Tt=!1,xR=typeof WeakSet=="function"?WeakSet:Set,F=null;function to(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Vd(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var iy=!1;function DR(e,t){if(gd=iu,e=l0(),tp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},iu=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,E=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:yn(t.type,_),E);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(T){Oe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return v=iy,iy=!1,v}function Vs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vd(t,n,o)}i=i.next}while(i!==r)}}function Zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ld(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function o1(e){var t=e.alternate;t!==null&&(e.alternate=null,o1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vn],delete t[ea],delete t[wd],delete t[fR],delete t[pR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s1(e){return e.tag===5||e.tag===3||e.tag===4}function oy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=au));else if(r!==4&&(e=e.child,e!==null))for(Od(e,t,n),e=e.sibling;e!==null;)Od(e,t,n),e=e.sibling}function Md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Md(e,t,n),e=e.sibling;e!==null;)Md(e,t,n),e=e.sibling}var ct=null,vn=!1;function fr(e,t,n){for(n=n.child;n!==null;)a1(e,t,n),n=n.sibling}function a1(e,t,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 5:Tt||to(n,t);case 6:var r=ct,i=vn;ct=null,fr(e,t,n),ct=r,vn=i,ct!==null&&(vn?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(vn?(e=ct,n=n.stateNode,e.nodeType===8?hh(e.parentNode,n):e.nodeType===1&&hh(e,n),Qs(e)):hh(ct,n.stateNode));break;case 4:r=ct,i=vn,ct=n.stateNode.containerInfo,vn=!0,fr(e,t,n),ct=r,vn=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vd(n,t,s),i=i.next}while(i!==r)}fr(e,t,n);break;case 1:if(!Tt&&(to(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,t,a)}fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,fr(e,t,n),Tt=r):fr(e,t,n);break;default:fr(e,t,n)}}function sy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xR),t.forEach(function(r){var i=UR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,vn=!1;break e;case 3:ct=a.stateNode.containerInfo,vn=!0;break e;case 4:ct=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(ct===null)throw Error(x(160));a1(o,s,i),ct=null,vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l1(t,e),t=t.sibling}function l1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),xn(e),r&4){try{Vs(3,e,e.return),Zu(3,e)}catch(_){Oe(e,e.return,_)}try{Vs(5,e,e.return)}catch(_){Oe(e,e.return,_)}}break;case 1:gn(t,e),xn(e),r&512&&n!==null&&to(n,n.return);break;case 5:if(gn(t,e),xn(e),r&512&&n!==null&&to(n,n.return),e.flags&32){var i=e.stateNode;try{Ws(i,"")}catch(_){Oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&k_(i,o),sd(a,s);var u=sd(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?L_(i,h):c==="dangerouslySetInnerHTML"?N_(i,h):c==="children"?Ws(i,h):Bf(i,c,h,u)}switch(a){case"input":td(i,o);break;case"textarea":x_(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?so(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?so(i,!!o.multiple,o.defaultValue,!0):so(i,!!o.multiple,o.multiple?[]:"",!1))}i[ea]=o}catch(_){Oe(e,e.return,_)}}break;case 6:if(gn(t,e),xn(e),r&4){if(e.stateNode===null)throw Error(x(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Oe(e,e.return,_)}}break;case 3:if(gn(t,e),xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(t.containerInfo)}catch(_){Oe(e,e.return,_)}break;case 4:gn(t,e),xn(e);break;case 13:gn(t,e),xn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ep=je())),r&4&&sy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||c,gn(t,e),Tt=u):gn(t,e),xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(h=F=c;F!==null;){switch(d=F,p=d.child,d.tag){case 0:case 11:case 14:case 15:Vs(4,d,d.return);break;case 1:to(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:to(d,d.return);break;case 22:if(d.memoizedState!==null){ly(h);continue}}p!==null?(p.return=d,F=p):ly(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V_("display",s))}catch(_){Oe(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gn(t,e),xn(e),r&4&&sy(e);break;case 21:break;default:gn(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s1(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ws(i,""),r.flags&=-33);var o=oy(e);Md(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=oy(e);Od(e,a,s);break;default:throw Error(x(161))}}catch(l){Oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NR(e,t,n){F=e,u1(e)}function u1(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=gl;var u=Tt;if(gl=s,(Tt=l)&&!u)for(F=i;F!==null;)s=F,l=s.child,s.tag===22&&s.memoizedState!==null?uy(i):l!==null?(l.return=s,F=l):uy(i);for(;o!==null;)F=o,u1(o),o=o.sibling;F=i,gl=a,Tt=u}ay(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):ay(e)}}function ay(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||Zu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hg(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hg(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}Tt||t.flags&512&&Ld(t)}catch(d){Oe(t,t.return,d)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function ly(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function uy(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zu(4,t)}catch(l){Oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Oe(t,i,l)}}var o=t.return;try{Ld(t)}catch(l){Oe(t,o,l)}break;case 5:var s=t.return;try{Ld(t)}catch(l){Oe(t,s,l)}}}catch(l){Oe(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var VR=Math.ceil,vu=lr.ReactCurrentDispatcher,_p=lr.ReactCurrentOwner,cn=lr.ReactCurrentBatchConfig,he=0,nt=null,We=null,pt=0,Wt=0,no=Hr(0),Qe=0,sa=null,yi=0,ec=0,wp=0,Ls=null,Ft=null,Ep=0,To=1/0,Kn=null,_u=!1,Fd=null,kr=null,yl=!1,Tr=null,wu=0,Os=0,$d=null,jl=-1,Bl=0;function Vt(){return he&6?je():jl!==-1?jl:jl=je()}function xr(e){return e.mode&1?he&2&&pt!==0?pt&-pt:gR.transition!==null?(Bl===0&&(Bl=q_()),Bl):(e=me,e!==0||(e=window.event,e=e===void 0?16:Z_(e.type)),e):1}function Sn(e,t,n,r){if(50<Os)throw Os=0,$d=null,Error(x(185));ka(e,n,r),(!(he&2)||e!==nt)&&(e===nt&&(!(he&2)&&(ec|=n),Qe===4&&_r(e,pt)),Bt(e,r),n===1&&he===0&&!(t.mode&1)&&(To=je()+500,Yu&&Wr()))}function Bt(e,t){var n=e.callbackNode;gI(e,t);var r=ru(e,e===nt?pt:0);if(r===0)n!==null&&vg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vg(n),t===1)e.tag===0?mR(cy.bind(null,e)):v0(cy.bind(null,e)),hR(function(){!(he&6)&&Wr()}),n=null;else{switch(K_(r)){case 1:n=Kf;break;case 4:n=H_;break;case 16:n=nu;break;case 536870912:n=W_;break;default:n=nu}n=y1(n,c1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function c1(e,t){if(jl=-1,Bl=0,he&6)throw Error(x(327));var n=e.callbackNode;if(ho()&&e.callbackNode!==n)return null;var r=ru(e,e===nt?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Eu(e,r);else{t=r;var i=he;he|=2;var o=d1();(nt!==e||pt!==t)&&(Kn=null,To=je()+500,ui(e,t));do try{MR();break}catch(a){h1(e,a)}while(!0);sp(),vu.current=o,he=i,We!==null?t=0:(nt=null,pt=0,t=Qe)}if(t!==0){if(t===2&&(i=hd(e),i!==0&&(r=i,t=bd(e,i))),t===1)throw n=sa,ui(e,0),_r(e,r),Bt(e,je()),n;if(t===6)_r(e,r);else{if(i=e.current.alternate,!(r&30)&&!LR(i)&&(t=Eu(e,r),t===2&&(o=hd(e),o!==0&&(r=o,t=bd(e,o))),t===1))throw n=sa,ui(e,0),_r(e,r),Bt(e,je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:Jr(e,Ft,Kn);break;case 3:if(_r(e,r),(r&130023424)===r&&(t=Ep+500-je(),10<t)){if(ru(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_d(Jr.bind(null,e,Ft,Kn),t);break}Jr(e,Ft,Kn);break;case 4:if(_r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Tn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VR(r/1960))-r,10<r){e.timeoutHandle=_d(Jr.bind(null,e,Ft,Kn),r);break}Jr(e,Ft,Kn);break;case 5:Jr(e,Ft,Kn);break;default:throw Error(x(329))}}}return Bt(e,je()),e.callbackNode===n?c1.bind(null,e):null}function bd(e,t){var n=Ls;return e.current.memoizedState.isDehydrated&&(ui(e,t).flags|=256),e=Eu(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&Ud(t)),e}function Ud(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function LR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!An(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~wp,t&=~ec,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function cy(e){if(he&6)throw Error(x(327));ho();var t=ru(e,0);if(!(t&1))return Bt(e,je()),null;var n=Eu(e,t);if(e.tag!==0&&n===2){var r=hd(e);r!==0&&(t=r,n=bd(e,r))}if(n===1)throw n=sa,ui(e,0),_r(e,t),Bt(e,je()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,Ft,Kn),Bt(e,je()),null}function Tp(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(To=je()+500,Yu&&Wr())}}function vi(e){Tr!==null&&Tr.tag===0&&!(he&6)&&ho();var t=he;he|=1;var n=cn.transition,r=me;try{if(cn.transition=null,me=1,e)return e()}finally{me=r,cn.transition=n,he=t,!(he&6)&&Wr()}}function Sp(){Wt=no.current,Se(no)}function ui(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cR(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:wo(),Se(Ut),Se(Ct),dp();break;case 5:hp(r);break;case 4:wo();break;case 13:Se(xe);break;case 19:Se(xe);break;case 10:ap(r.type._context);break;case 22:case 23:Sp()}n=n.return}if(nt=e,We=e=Dr(e.current,null),pt=Wt=t,Qe=0,sa=null,wp=ec=yi=0,Ft=Ls=null,ti!==null){for(t=0;t<ti.length;t++)if(n=ti[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ti=null}return e}function h1(e,t){do{var n=We;try{if(sp(),$l.current=yu,gu){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gu=!1}if(gi=0,et=Ke=De=null,Ns=!1,ra=0,_p.current=null,n===null||n.return===null){Qe=1,sa=t,We=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Xg(s);if(p!==null){p.flags&=-257,Jg(p,s,a,o,t),p.mode&1&&Yg(o,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break e}else{if(!(t&1)){Yg(o,u,t),Ip();break e}l=Error(x(426))}}else if(Ae&&a.mode&1){var E=Xg(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Jg(E,s,a,o,t),ip(Eo(l,a));break e}}o=l=Eo(l,a),Qe!==4&&(Qe=2),Ls===null?Ls=[o]:Ls.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=G0(o,l,t);zg(o,m);break e;case 1:a=l;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(kr===null||!kr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=Q0(o,a,t);zg(o,T);break e}}o=o.return}while(o!==null)}p1(n)}catch(R){t=R,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function d1(){var e=vu.current;return vu.current=yu,e===null?yu:e}function Ip(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(yi&268435455)&&!(ec&268435455)||_r(nt,pt)}function Eu(e,t){var n=he;he|=2;var r=d1();(nt!==e||pt!==t)&&(Kn=null,ui(e,t));do try{OR();break}catch(i){h1(e,i)}while(!0);if(sp(),he=n,vu.current=r,We!==null)throw Error(x(261));return nt=null,pt=0,Qe}function OR(){for(;We!==null;)f1(We)}function MR(){for(;We!==null&&!aI();)f1(We)}function f1(e){var t=g1(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?p1(e):We=t,_p.current=null}function p1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kR(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,We=null;return}}else if(n=PR(n,t,Wt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Qe===0&&(Qe=5)}function Jr(e,t,n){var r=me,i=cn.transition;try{cn.transition=null,me=1,FR(e,t,n,r)}finally{cn.transition=i,me=r}return null}function FR(e,t,n,r){do ho();while(Tr!==null);if(he&6)throw Error(x(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yI(e,o),e===nt&&(We=nt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,y1(nu,function(){return ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var s=me;me=1;var a=he;he|=4,_p.current=null,DR(e,n),l1(n,e),rR(yd),iu=!!gd,yd=gd=null,e.current=n,NR(n),lI(),he=a,me=s,cn.transition=o}else e.current=n;if(yl&&(yl=!1,Tr=e,wu=i),o=e.pendingLanes,o===0&&(kr=null),hI(n.stateNode),Bt(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_u)throw _u=!1,e=Fd,Fd=null,e;return wu&1&&e.tag!==0&&ho(),o=e.pendingLanes,o&1?e===$d?Os++:(Os=0,$d=e):Os=0,Wr(),null}function ho(){if(Tr!==null){var e=K_(wu),t=cn.transition,n=me;try{if(cn.transition=null,me=16>e?16:e,Tr===null)var r=!1;else{if(e=Tr,Tr=null,wu=0,he&6)throw Error(x(331));var i=he;for(he|=4,F=e.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Vs(8,c,o)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,p=c.return;if(o1(c),c===u){F=null;break}if(d!==null){d.return=p,F=d;break}F=p}}}var v=o.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var f=e.current;for(F=f;F!==null;){s=F;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,F=g;else e:for(s=f;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zu(9,a)}}catch(R){Oe(a,a.return,R)}if(a===s){F=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,F=T;break e}F=a.return}}if(he=i,Wr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Wu,e)}catch{}r=!0}return r}finally{me=n,cn.transition=t}}return!1}function hy(e,t,n){t=Eo(n,t),t=G0(e,t,1),e=Pr(e,t,1),t=Vt(),e!==null&&(ka(e,1,t),Bt(e,t))}function Oe(e,t,n){if(e.tag===3)hy(e,e,n);else for(;t!==null;){if(t.tag===3){hy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){e=Eo(n,e),e=Q0(t,e,1),t=Pr(t,e,1),e=Vt(),t!==null&&(ka(t,1,e),Bt(t,e));break}}t=t.return}}function $R(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(pt&n)===n&&(Qe===4||Qe===3&&(pt&130023424)===pt&&500>je()-Ep?ui(e,0):wp|=n),Bt(e,t)}function m1(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var n=Vt();e=rr(e,t),e!==null&&(ka(e,t,n),Bt(e,n))}function bR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),m1(e,n)}function UR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),m1(e,n)}var g1;g1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,CR(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Ae&&t.flags&1048576&&_0(t,hu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var i=yo(t,Ct.current);co(t,n),i=pp(null,t,r,e,i,n);var o=mp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(r)?(o=!0,uu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(t),i.updater=Xu,t.stateNode=i,i._reactInternals=t,Ad(t,r,e,n),t=kd(null,t,r,!0,o,n)):(t.tag=0,Ae&&o&&np(t),Dt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=BR(r),e=yn(r,e),i){case 0:t=Pd(null,t,r,e,n);break e;case 1:t=ty(null,t,r,e,n);break e;case 11:t=Zg(null,t,r,e,n);break e;case 14:t=ey(null,t,r,yn(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Pd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),ty(e,t,r,i,n);case 3:e:{if(Z0(t),e===null)throw Error(x(387));r=t.pendingProps,o=t.memoizedState,i=o.element,S0(e,t),pu(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Eo(Error(x(423)),t),t=ny(e,t,r,n,i);break e}else if(r!==i){i=Eo(Error(x(424)),t),t=ny(e,t,r,n,i);break e}else for(qt=Cr(t.stateNode.containerInfo.firstChild),Qt=t,Ae=!0,wn=null,n=C0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){t=ir(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return P0(t),e===null&&Sd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,vd(r,i)?s=null:o!==null&&vd(r,o)&&(t.flags|=32),J0(e,t),Dt(e,t,s,n),t.child;case 6:return e===null&&Sd(t),null;case 13:return e1(e,t,n);case 4:return cp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_o(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Zg(e,t,r,i,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ye(du,r._currentValue),r._currentValue=s,o!==null)if(An(o.value,s)){if(o.children===i.children&&!Ut.current){t=ir(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Id(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(x(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Id(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,co(t,n),i=dn(i),r=r(i),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,i=yn(r,t.pendingProps),i=yn(r.type,i),ey(e,t,r,i,n);case 15:return Y0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Ul(e,t),t.tag=1,jt(r)?(e=!0,uu(t)):e=!1,co(t,n),R0(t,r,i),Ad(t,r,i,n),kd(null,t,r,!0,e,n);case 19:return t1(e,t,n);case 22:return X0(e,t,n)}throw Error(x(156,t.tag))};function y1(e,t){return z_(e,t)}function jR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new jR(e,t,n,r)}function Rp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BR(e){if(typeof e=="function")return Rp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hf)return 11;if(e===Wf)return 14}return 2}function Dr(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Rp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case qi:return ci(n.children,i,o,t);case zf:s=8,i|=8;break;case Yh:return e=un(12,n,t,i|2),e.elementType=Yh,e.lanes=o,e;case Xh:return e=un(13,n,t,i),e.elementType=Xh,e.lanes=o,e;case Jh:return e=un(19,n,t,i),e.elementType=Jh,e.lanes=o,e;case A_:return tc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I_:s=10;break e;case R_:s=9;break e;case Hf:s=11;break e;case Wf:s=14;break e;case gr:s=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=un(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ci(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function tc(e,t,n,r){return e=un(22,e,r,t),e.elementType=A_,e.lanes=n,e.stateNode={isHidden:!1},e}function _h(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function wh(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eh(0),this.expirationTimes=eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ap(e,t,n,r,i,o,s,a,l){return e=new zR(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(o),e}function HR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function v1(e){if(!e)return br;e=e._reactInternals;e:{if(ki(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(jt(n))return y0(e,n,t)}return t}function _1(e,t,n,r,i,o,s,a,l){return e=Ap(n,r,!0,e,i,o,s,a,l),e.context=v1(null),n=e.current,r=Vt(),i=xr(n),o=Zn(r,i),o.callback=t??null,Pr(n,o,i),e.current.lanes=i,ka(e,i,r),Bt(e,r),e}function nc(e,t,n,r){var i=t.current,o=Vt(),s=xr(i);return n=v1(n),t.context===null?t.context=n:t.pendingContext=n,t=Zn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pr(i,t,s),e!==null&&(Sn(e,i,s,o),Fl(e,i,s)),s}function Tu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cp(e,t){dy(e,t),(e=e.alternate)&&dy(e,t)}function WR(){return null}var w1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pp(e){this._internalRoot=e}rc.prototype.render=Pp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));nc(e,t,null,null)};rc.prototype.unmount=Pp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){nc(null,e,null,null)}),t[nr]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&J_(e)}};function kp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fy(){}function qR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Tu(s);o.call(u)}}var s=_1(t,r,e,0,null,!1,!1,"",fy);return e._reactRootContainer=s,e[nr]=s.current,Js(e.nodeType===8?e.parentNode:e),vi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Tu(l);a.call(u)}}var l=Ap(e,0,!1,null,null,!1,!1,"",fy);return e._reactRootContainer=l,e[nr]=l.current,Js(e.nodeType===8?e.parentNode:e),vi(function(){nc(t,l,n,r)}),l}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Tu(s);a.call(l)}}nc(t,s,e,i)}else s=qR(n,t,e,i,r);return Tu(s)}G_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ws(t.pendingLanes);n!==0&&(Gf(t,n|1),Bt(t,je()),!(he&6)&&(To=je()+500,Wr()))}break;case 13:vi(function(){var r=rr(e,1);if(r!==null){var i=Vt();Sn(r,e,1,i)}}),Cp(e,1)}};Qf=function(e){if(e.tag===13){var t=rr(e,134217728);if(t!==null){var n=Vt();Sn(t,e,134217728,n)}Cp(e,134217728)}};Q_=function(e){if(e.tag===13){var t=xr(e),n=rr(e,t);if(n!==null){var r=Vt();Sn(n,e,t,r)}Cp(e,t)}};Y_=function(){return me};X_=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};ld=function(e,t,n){switch(t){case"input":if(td(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qu(r);if(!i)throw Error(x(90));P_(r),td(r,i)}}}break;case"textarea":x_(e,n);break;case"select":t=n.value,t!=null&&so(e,!!n.multiple,t,!1)}};F_=Tp;$_=vi;var KR={usingClientEntryPoint:!1,Events:[Da,Yi,Qu,O_,M_,Tp]},cs={findFiberByHostInstance:ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GR={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j_(e),e===null?null:e.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||WR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Wu=vl.inject(GR),$n=vl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kp(t))throw Error(x(200));return HR(e,t,null,n)};Jt.createRoot=function(e,t){if(!kp(e))throw Error(x(299));var n=!1,r="",i=w1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ap(e,1,!1,null,null,n,!1,r,i),e[nr]=t.current,Js(e.nodeType===8?e.parentNode:e),new Pp(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=j_(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return vi(e)};Jt.hydrate=function(e,t,n){if(!ic(t))throw Error(x(200));return oc(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!kp(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=w1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=_1(t,null,e,1,n??null,i,!1,o,s),e[nr]=t.current,Js(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new rc(t)};Jt.render=function(e,t,n){if(!ic(t))throw Error(x(200));return oc(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!ic(e))throw Error(x(40));return e._reactRootContainer?(vi(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[nr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Tp;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return oc(e,t,n,!1,r)};Jt.version="18.2.0-next-9e3b772b8-20220608";function E1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E1)}catch(e){console.error(e)}}E1(),__.exports=Jt;var xp=__.exports;const QR=Of(xp),YR=l_({__proto__:null,default:QR},[xp]);var py=xp;Gh.createRoot=py.createRoot,Gh.hydrateRoot=py.hydrateRoot;var It=function(){return It=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},It.apply(this,arguments)};function aa(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ee="-ms-",Ms="-moz-",fe="-webkit-",T1="comm",sc="rule",Dp="decl",XR="@import",S1="@keyframes",JR="@layer",I1=Math.abs,Np=String.fromCharCode,jd=Object.assign;function ZR(e,t){return tt(e,0)^45?(((t<<2^tt(e,0))<<2^tt(e,1))<<2^tt(e,2))<<2^tt(e,3):0}function R1(e){return e.trim()}function Gn(e,t){return(e=t.exec(e))?e[0]:e}function te(e,t,n){return e.replace(t,n)}function Hl(e,t,n){return e.indexOf(t,n)}function tt(e,t){return e.charCodeAt(t)|0}function So(e,t,n){return e.slice(t,n)}function Nn(e){return e.length}function A1(e){return e.length}function Ts(e,t){return t.push(e),e}function eA(e,t){return e.map(t).join("")}function my(e,t){return e.filter(function(n){return!Gn(n,t)})}var ac=1,Io=1,C1=0,pn=0,He=0,Bo="";function lc(e,t,n,r,i,o,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ac,column:Io,length:s,return:"",siblings:a}}function pr(e,t){return jd(lc("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function bi(e){for(;e.root;)e=pr(e.root,{children:[e]});Ts(e,e.siblings)}function tA(){return He}function nA(){return He=pn>0?tt(Bo,--pn):0,Io--,He===10&&(Io=1,ac--),He}function In(){return He=pn<C1?tt(Bo,pn++):0,Io++,He===10&&(Io=1,ac++),He}function hi(){return tt(Bo,pn)}function Wl(){return pn}function uc(e,t){return So(Bo,e,t)}function Bd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rA(e){return ac=Io=1,C1=Nn(Bo=e),pn=0,[]}function iA(e){return Bo="",e}function Eh(e){return R1(uc(pn-1,zd(e===91?e+2:e===40?e+1:e)))}function oA(e){for(;(He=hi())&&He<33;)In();return Bd(e)>2||Bd(He)>3?"":" "}function sA(e,t){for(;--t&&In()&&!(He<48||He>102||He>57&&He<65||He>70&&He<97););return uc(e,Wl()+(t<6&&hi()==32&&In()==32))}function zd(e){for(;In();)switch(He){case e:return pn;case 34:case 39:e!==34&&e!==39&&zd(He);break;case 40:e===41&&zd(e);break;case 92:In();break}return pn}function aA(e,t){for(;In()&&e+He!==57;)if(e+He===84&&hi()===47)break;return"/*"+uc(t,pn-1)+"*"+Np(e===47?e:In())}function lA(e){for(;!Bd(hi());)In();return uc(e,pn)}function uA(e){return iA(ql("",null,null,null,[""],e=rA(e),0,[0],e))}function ql(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,h=s,d=0,p=0,v=0,_=1,E=1,m=1,f=0,g="",T=i,R=o,A=r,y=g;E;)switch(v=f,f=In()){case 40:if(v!=108&&tt(y,h-1)==58){Hl(y+=te(Eh(f),"&","&\f"),"&\f",I1(u?a[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:y+=Eh(f);break;case 9:case 10:case 13:case 32:y+=oA(v);break;case 92:y+=sA(Wl()-1,7);continue;case 47:switch(hi()){case 42:case 47:Ts(cA(aA(In(),Wl()),t,n,l),l);break;default:y+="/"}break;case 123*_:a[u++]=Nn(y)*m;case 125*_:case 59:case 0:switch(f){case 0:case 125:E=0;case 59+c:m==-1&&(y=te(y,/\f/g,"")),p>0&&Nn(y)-h&&Ts(p>32?yy(y+";",r,n,h-1,l):yy(te(y," ","")+";",r,n,h-2,l),l);break;case 59:y+=";";default:if(Ts(A=gy(y,t,n,u,c,i,a,g,T=[],R=[],h,o),o),f===123)if(c===0)ql(y,t,A,A,T,o,h,a,R);else switch(d===99&&tt(y,3)===110?100:d){case 100:case 108:case 109:case 115:ql(e,A,A,r&&Ts(gy(e,A,A,0,0,i,a,g,i,T=[],h,R),R),i,R,h,a,r?T:R);break;default:ql(y,A,A,A,[""],R,0,a,R)}}u=c=p=0,_=m=1,g=y="",h=s;break;case 58:h=1+Nn(y),p=v;default:if(_<1){if(f==123)--_;else if(f==125&&_++==0&&nA()==125)continue}switch(y+=Np(f),f*_){case 38:m=c>0?1:(y+="\f",-1);break;case 44:a[u++]=(Nn(y)-1)*m,m=1;break;case 64:hi()===45&&(y+=Eh(In())),d=hi(),c=h=Nn(g=y+=lA(Wl())),f++;break;case 45:v===45&&Nn(y)==2&&(_=0)}}return o}function gy(e,t,n,r,i,o,s,a,l,u,c,h){for(var d=i-1,p=i===0?o:[""],v=A1(p),_=0,E=0,m=0;_<r;++_)for(var f=0,g=So(e,d+1,d=I1(E=s[_])),T=e;f<v;++f)(T=R1(E>0?p[f]+" "+g:te(g,/&\f/g,p[f])))&&(l[m++]=T);return lc(e,t,n,i===0?sc:a,l,u,c,h)}function cA(e,t,n,r){return lc(e,t,n,T1,Np(tA()),So(e,2,-2),0,r)}function yy(e,t,n,r,i){return lc(e,t,n,Dp,So(e,0,r),So(e,r+1,-1),r,i)}function P1(e,t,n){switch(ZR(e,t)){case 5103:return fe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+e+e;case 4789:return Ms+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+e+Ms+e+Ee+e+e;case 5936:switch(tt(e,t+11)){case 114:return fe+e+Ee+te(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fe+e+Ee+te(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fe+e+Ee+te(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return fe+e+Ee+e+e;case 6165:return fe+e+Ee+"flex-"+e+e;case 5187:return fe+e+te(e,/(\w+).+(:[^]+)/,fe+"box-$1$2"+Ee+"flex-$1$2")+e;case 5443:return fe+e+Ee+"flex-item-"+te(e,/flex-|-self/g,"")+(Gn(e,/flex-|baseline/)?"":Ee+"grid-row-"+te(e,/flex-|-self/g,""))+e;case 4675:return fe+e+Ee+"flex-line-pack"+te(e,/align-content|flex-|-self/g,"")+e;case 5548:return fe+e+Ee+te(e,"shrink","negative")+e;case 5292:return fe+e+Ee+te(e,"basis","preferred-size")+e;case 6060:return fe+"box-"+te(e,"-grow","")+fe+e+Ee+te(e,"grow","positive")+e;case 4554:return fe+te(e,/([^-])(transform)/g,"$1"+fe+"$2")+e;case 6187:return te(te(te(e,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),e,"")+e;case 5495:case 3959:return te(e,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return te(te(e,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+Ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+e+e;case 4200:if(!Gn(e,/flex-|baseline/))return Ee+"grid-column-align"+So(e,t)+e;break;case 2592:case 3360:return Ee+te(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Gn(r.props,/grid-\w+-end/)})?~Hl(e+(n=n[t].value),"span",0)?e:Ee+te(e,"-start","")+e+Ee+"grid-row-span:"+(~Hl(n,"span",0)?Gn(n,/\d+/):+Gn(n,/\d+/)-+Gn(e,/\d+/))+";":Ee+te(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Gn(r.props,/grid-\w+-start/)})?e:Ee+te(te(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return te(e,/(.+)-inline(.+)/,fe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nn(e)-1-t>6)switch(tt(e,t+1)){case 109:if(tt(e,t+4)!==45)break;case 102:return te(e,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+Ms+(tt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Hl(e,"stretch",0)?P1(te(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return te(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,u){return Ee+i+":"+o+u+(s?Ee+i+"-span:"+(a?l:+l-+o)+u:"")+e});case 4949:if(tt(e,t+6)===121)return te(e,":",":"+fe)+e;break;case 6444:switch(tt(e,tt(e,14)===45?18:11)){case 120:return te(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fe+(tt(e,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+Ee+"$2box$3")+e;case 100:return te(e,":",":"+Ee)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return te(e,"scroll-","scroll-snap-")+e}return e}function Su(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function hA(e,t,n,r){switch(e.type){case JR:if(e.children.length)break;case XR:case Dp:return e.return=e.return||e.value;case T1:return"";case S1:return e.return=e.value+"{"+Su(e.children,r)+"}";case sc:if(!Nn(e.value=e.props.join(",")))return""}return Nn(n=Su(e.children,r))?e.return=e.value+"{"+n+"}":""}function dA(e){var t=A1(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function fA(e){return function(t){t.root||(t=t.return)&&e(t)}}function pA(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Dp:e.return=P1(e.value,e.length,n);return;case S1:return Su([pr(e,{value:te(e.value,"@","@"+fe)})],r);case sc:if(e.length)return eA(n=e.props,function(i){switch(Gn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bi(pr(e,{props:[te(i,/:(read-\w+)/,":"+Ms+"$1")]})),bi(pr(e,{props:[i]})),jd(e,{props:my(n,r)});break;case"::placeholder":bi(pr(e,{props:[te(i,/:(plac\w+)/,":"+fe+"input-$1")]})),bi(pr(e,{props:[te(i,/:(plac\w+)/,":"+Ms+"$1")]})),bi(pr(e,{props:[te(i,/:(plac\w+)/,Ee+"input-$1")]})),bi(pr(e,{props:[i]})),jd(e,{props:my(n,r)});break}return""})}}var mA={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht={},Ro=typeof process<"u"&&Ht!==void 0&&(Ht.REACT_APP_SC_ATTR||Ht.SC_ATTR)||"data-styled",k1="active",x1="data-styled-version",cc="6.1.8",Vp=`/*!sc*/
`,Lp=typeof window<"u"&&"HTMLElement"in window,gA=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ht.REACT_APP_SC_DISABLE_SPEEDY!==""?Ht.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ht.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ht!==void 0&&Ht.SC_DISABLE_SPEEDY!==void 0&&Ht.SC_DISABLE_SPEEDY!==""&&Ht.SC_DISABLE_SPEEDY!=="false"&&Ht.SC_DISABLE_SPEEDY),yA={},hc=Object.freeze([]),Ao=Object.freeze({});function D1(e,t,n){return n===void 0&&(n=Ao),e.theme!==n.theme&&e.theme||t||n.theme}var N1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),vA=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_A=/(^-|-$)/g;function vy(e){return e.replace(vA,"-").replace(_A,"")}var wA=/(a)(d)/gi,_l=52,_y=function(e){return String.fromCharCode(e+(e>25?39:97))};function Hd(e){var t,n="";for(t=Math.abs(e);t>_l;t=t/_l|0)n=_y(t%_l)+n;return(_y(t%_l)+n).replace(wA,"$1-$2")}var Th,V1=5381,ro=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},L1=function(e){return ro(V1,e)};function O1(e){return Hd(L1(e)>>>0)}function EA(e){return e.displayName||e.name||"Component"}function Sh(e){return typeof e=="string"&&!0}var M1=typeof Symbol=="function"&&Symbol.for,F1=M1?Symbol.for("react.memo"):60115,TA=M1?Symbol.for("react.forward_ref"):60112,SA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},IA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RA=((Th={})[TA]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Th[F1]=$1,Th);function wy(e){return("type"in(t=e)&&t.type.$$typeof)===F1?$1:"$$typeof"in e?RA[e.$$typeof]:SA;var t}var AA=Object.defineProperty,CA=Object.getOwnPropertyNames,Ey=Object.getOwnPropertySymbols,PA=Object.getOwnPropertyDescriptor,kA=Object.getPrototypeOf,Ty=Object.prototype;function b1(e,t,n){if(typeof t!="string"){if(Ty){var r=kA(t);r&&r!==Ty&&b1(e,r,n)}var i=CA(t);Ey&&(i=i.concat(Ey(t)));for(var o=wy(e),s=wy(t),a=0;a<i.length;++a){var l=i[a];if(!(l in IA||n&&n[l]||s&&l in s||o&&l in o)){var u=PA(t,l);try{AA(e,l,u)}catch{}}}}return e}function Co(e){return typeof e=="function"}function Op(e){return typeof e=="object"&&"styledComponentId"in e}function ri(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Wd(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function la(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function qd(e,t,n){if(n===void 0&&(n=!1),!n&&!la(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=qd(e[r],t[r]);else if(la(t))for(var r in t)e[r]=qd(e[r],t[r]);return e}function Mp(e,t){Object.defineProperty(e,"toString",{value:t})}function Va(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xA=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw Va(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(Vp);return n},e}(),Kl=new Map,Iu=new Map,Gl=1,wl=function(e){if(Kl.has(e))return Kl.get(e);for(;Iu.has(Gl);)Gl++;var t=Gl++;return Kl.set(e,t),Iu.set(t,e),t},DA=function(e,t){Gl=t+1,Kl.set(e,t),Iu.set(t,e)},NA="style[".concat(Ro,"][").concat(x1,'="').concat(cc,'"]'),VA=new RegExp("^".concat(Ro,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),LA=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},OA=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Vp),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(VA);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(DA(c,u),LA(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function MA(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var U1=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ro,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Ro,k1),r.setAttribute(x1,cc);var s=MA();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},FA=function(){function e(t){this.element=U1(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Va(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),$A=function(){function e(t){this.element=U1(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),bA=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Sy=Lp,UA={isServer:!Lp,useCSSOMInjection:!gA},Ru=function(){function e(t,n,r){t===void 0&&(t=Ao),n===void 0&&(n={});var i=this;this.options=It(It({},UA),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Lp&&Sy&&(Sy=!1,function(o){for(var s=document.querySelectorAll(NA),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(Ro)!==k1&&(OA(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Mp(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",u=function(h){var d=function(m){return Iu.get(m)}(h);if(d===void 0)return"continue";var p=o.names.get(d),v=s.getGroup(h);if(p===void 0||v.length===0)return"continue";var _="".concat(Ro,".g").concat(h,'[id="').concat(d,'"]'),E="";p!==void 0&&p.forEach(function(m){m.length>0&&(E+="".concat(m,","))}),l+="".concat(v).concat(_,'{content:"').concat(E,'"}').concat(Vp)},c=0;c<a;c++)u(c);return l}(i)})}return e.registerId=function(t){return wl(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(It(It({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new bA(i):r?new FA(i):new $A(i)}(this.options),new xA(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(wl(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(wl(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(wl(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),jA=/&/g,BA=/^\s*\/\/.*$/gm;function j1(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=j1(n.children,t)),n})}function zA(e){var t,n,r,i=e===void 0?Ao:e,o=i.options,s=o===void 0?Ao:o,a=i.plugins,l=a===void 0?hc:a,u=function(d,p,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):d},c=l.slice();c.push(function(d){d.type===sc&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(jA,n).replace(r,u))}),s.prefix&&c.push(pA),c.push(hA);var h=function(d,p,v,_){p===void 0&&(p=""),v===void 0&&(v=""),_===void 0&&(_="&"),t=_,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var E=d.replace(BA,""),m=uA(v||p?"".concat(v," ").concat(p," { ").concat(E," }"):E);s.namespace&&(m=j1(m,s.namespace));var f=[];return Su(m,dA(c.concat(fA(function(g){return f.push(g)})))),f};return h.hash=l.length?l.reduce(function(d,p){return p.name||Va(15),ro(d,p.name)},V1).toString():"",h}var HA=new Ru,Kd=zA(),B1=ln.createContext({shouldForwardProp:void 0,styleSheet:HA,stylis:Kd});B1.Consumer;ln.createContext(void 0);function Gd(){return C.useContext(B1)}var WA=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=Kd);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Mp(this,function(){throw Va(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Kd),this.name+t.hash},e}(),qA=function(e){return e>="A"&&e<="Z"};function Iy(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;qA(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var z1=function(e){return e==null||e===!1||e===""},H1=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!z1(o)&&(Array.isArray(o)&&o.isCss||Co(o)?r.push("".concat(Iy(i),":"),o,";"):la(o)?r.push.apply(r,aa(aa(["".concat(i," {")],H1(o),!1),["}"],!1)):r.push("".concat(Iy(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in mA||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Nr(e,t,n,r){if(z1(e))return[];if(Op(e))return[".".concat(e.styledComponentId)];if(Co(e)){if(!Co(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return Nr(i,t,n,r)}var o;return e instanceof WA?n?(e.inject(n,r),[e.getName(r)]):[e]:la(e)?H1(e):Array.isArray(e)?Array.prototype.concat.apply(hc,e.map(function(s){return Nr(s,t,n,r)})):[e.toString()]}function W1(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Co(n)&&!Op(n))return!1}return!0}var KA=L1(cc),GA=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&W1(t),this.componentId=n,this.baseHash=ro(KA,n),this.baseStyle=r,Ru.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ri(i,this.staticRulesId);else{var o=Wd(Nr(this.rules,t,n,r)),s=Hd(ro(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=ri(i,s),this.staticRulesId=s}else{for(var l=ro(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var d=Wd(Nr(h,t,n,r));l=ro(l,d+c),u+=d}}if(u){var p=Hd(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(u,".".concat(p),void 0,this.componentId)),i=ri(i,p)}}return i},e}(),Fp=ln.createContext(void 0);Fp.Consumer;var Ih={};function QA(e,t,n){var r=Op(e),i=e,o=!Sh(e),s=t.attrs,a=s===void 0?hc:s,l=t.componentId,u=l===void 0?function(T,R){var A=typeof T!="string"?"sc":vy(T);Ih[A]=(Ih[A]||0)+1;var y="".concat(A,"-").concat(O1(cc+A+Ih[A]));return R?"".concat(R,"-").concat(y):y}(t.displayName,t.parentComponentId):l,c=t.displayName,h=c===void 0?function(T){return Sh(T)?"styled.".concat(T):"Styled(".concat(EA(T),")")}(e):c,d=t.displayName&&t.componentId?"".concat(vy(t.displayName),"-").concat(t.componentId):t.componentId||u,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(t.shouldForwardProp){var E=t.shouldForwardProp;v=function(T,R){return _(T,R)&&E(T,R)}}else v=_}var m=new GA(n,d,r?i.componentStyle:void 0);function f(T,R){return function(A,y,N){var j=A.attrs,M=A.componentStyle,ie=A.defaultProps,Pe=A.foldedComponentIds,_e=A.styledComponentId,qe=A.target,zt=ln.useContext(Fp),Pn=Gd(),en=A.shouldForwardProp||Pn.shouldForwardProp,D=D1(y,zt,ie)||Ao,B=function(Xe,be,st){for(var Wn,qn=It(It({},be),{className:void 0,theme:st}),Yo=0;Yo<Xe.length;Yo+=1){var Li=Co(Wn=Xe[Yo])?Wn(qn):Wn;for(var Le in Li)qn[Le]=Le==="className"?ri(qn[Le],Li[Le]):Le==="style"?It(It({},qn[Le]),Li[Le]):Li[Le]}return be.className&&(qn.className=ri(qn.className,be.className)),qn}(j,y,D),q=B.as||qe,ae={};for(var re in B)B[re]===void 0||re[0]==="$"||re==="as"||re==="theme"&&B.theme===D||(re==="forwardedAs"?ae.as=B.forwardedAs:en&&!en(re,q)||(ae[re]=B[re]));var Mt=function(Xe,be){var st=Gd(),Wn=Xe.generateAndInjectStyles(be,st.styleSheet,st.stylis);return Wn}(M,B),ot=ri(Pe,_e);return Mt&&(ot+=" "+Mt),B.className&&(ot+=" "+B.className),ae[Sh(q)&&!N1.has(q)?"class":"className"]=ot,ae.ref=N,C.createElement(q,ae)}(g,T,R)}f.displayName=h;var g=ln.forwardRef(f);return g.attrs=p,g.componentStyle=m,g.displayName=h,g.shouldForwardProp=v,g.foldedComponentIds=r?ri(i.foldedComponentIds,i.styledComponentId):"",g.styledComponentId=d,g.target=r?i.target:e,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(T){this._foldedDefaultProps=r?function(R){for(var A=[],y=1;y<arguments.length;y++)A[y-1]=arguments[y];for(var N=0,j=A;N<j.length;N++)qd(R,j[N],!0);return R}({},i.defaultProps,T):T}}),Mp(g,function(){return".".concat(g.styledComponentId)}),o&&b1(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function Ry(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Ay=function(e){return Object.assign(e,{isCss:!0})};function q1(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Co(e)||la(e))return Ay(Nr(Ry(hc,aa([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Nr(r):Ay(Nr(Ry(r,t)))}function Qd(e,t,n){if(n===void 0&&(n=Ao),!t)throw Va(1,t);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return e(t,n,q1.apply(void 0,aa([i],o,!1)))};return r.attrs=function(i){return Qd(e,t,It(It({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Qd(e,t,It(It({},n),i))},r}var K1=function(e){return Qd(QA,e)},pe=K1;N1.forEach(function(e){pe[e]=K1(e)});var YA=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=W1(t),Ru.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var o=i(Wd(Nr(this.rules,n,r,i)),""),s=this.componentId+t;r.insertRules(s,s,o)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&Ru.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,i)},e}();function XA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=q1.apply(void 0,aa([e],t,!1)),i="sc-global-".concat(O1(JSON.stringify(r))),o=new YA(r,i),s=function(l){var u=Gd(),c=ln.useContext(Fp),h=ln.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),ln.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return o.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,d){if(o.isStatic)o.renderStyles(l,yA,c,d);else{var p=It(It({},u),{theme:D1(u,h,s.defaultProps)});o.renderStyles(l,p,c,d)}}return ln.memo(s)}const JA="data:image/svg+xml,%3csvg%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200%20120'%20preserveAspectRatio='none'%20%3e%3cpath%20d='M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z'%20class='shape-fill'%20fill='%23118AB0'%20fill-opacity='1'%3e%3c/path%3e%3c/svg%3e",ZA="data:image/svg+xml,%3csvg%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200%20120'%20preserveAspectRatio='none'%20%3e%3cpath%20d='M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z'%20class='shape-fill'%20fill='%23118AB0'%20fill-opacity='1'%3e%3c/path%3e%3c/svg%3e";/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}var Ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ue||(Ue={}));const Cy="popstate";function eC(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:a="",hash:l=""}=Hn(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ua("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:wi(o))}function r(i,o){_i(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return nC(t,n,r,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tC(){return Math.random().toString(36).substr(2,8)}function Py(e,t){return{usr:e.state,key:e.key,idx:t}}function ua(e,t,n,r){return n===void 0&&(n=null),ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hn(t):t,{state:n,key:t&&t.key||r||tC()})}function wi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Hn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ue.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ke({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Ue.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:m})}function d(E,m){a=Ue.Push;let f=ua(_.location,E,m);n&&n(f,E),u=c()+1;let g=Py(f,u),T=_.createHref(f);try{s.pushState(g,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(T)}o&&l&&l({action:a,location:_.location,delta:1})}function p(E,m){a=Ue.Replace;let f=ua(_.location,E,m);n&&n(f,E),u=c();let g=Py(f,u),T=_.createHref(f);s.replaceState(g,"",T),o&&l&&l({action:a,location:_.location,delta:0})}function v(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof E=="string"?E:wi(E);return f=f.replace(/ $/,"%20"),ne(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let _={get action(){return a},get location(){return e(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Cy,h),l=E,()=>{i.removeEventListener(Cy,h),l=null}},createHref(E){return t(i,E)},createURL:v,encodeLocation(E){let m=v(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(E){return s.go(E)}};return _}var Re;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Re||(Re={}));const rC=new Set(["lazy","caseSensitive","path","id","index","children"]);function iC(e){return e.index===!0}function Yd(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ne(i.index!==!0||!i.children,"Cannot specify children on an index route"),ne(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),iC(i)){let l=ke({},i,t(i),{id:a});return r[a]=l,l}else{let l=ke({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Yd(i.children,t,s,r)),l}})}function io(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Hn(t):t,i=zo(r.pathname||"/",n);if(i==null)return null;let o=G1(e);sC(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=vC(i);s=mC(o[a],l)}return s}function oC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function G1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ne(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=er([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G1(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:fC(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Q1(o.path))i(o,s,l)}),t}function Q1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Q1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function sC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aC=/^:[\w-]+$/,lC=3,uC=2,cC=1,hC=10,dC=-2,ky=e=>e==="*";function fC(e,t){let n=e.split("/"),r=n.length;return n.some(ky)&&(r+=dC),t&&(r+=uC),n.filter(i=>!ky(i)).reduce((i,o)=>i+(aC.test(o)?lC:o===""?cC:hC),r)}function pC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function mC(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=gC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:er([i,c.pathname]),pathnameBase:EC(er([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=er([i,c.pathnameBase]))}return o}function gC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function yC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _i(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function _C(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Hn(e):e;return{pathname:n?n.startsWith("/")?n:wC(n,t):t,search:TC(r),hash:SC(i)}}function wC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dc(e,t){let n=Y1(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Hn(e):(i=ke({},e),ne(!i.pathname||!i.pathname.includes("?"),Rh("?","pathname","search",i)),ne(!i.pathname||!i.pathname.includes("#"),Rh("#","pathname","hash",i)),ne(!i.search||!i.search.includes("#"),Rh("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=_C(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const er=e=>e.join("/").replace(/\/\/+/g,"/"),EC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class $p{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function bp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const X1=["post","put","patch","delete"],IC=new Set(X1),RC=["get",...X1],AC=new Set(RC),CC=new Set([301,302,303,307,308]),PC=new Set([307,308]),Ah={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xC=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),J1="remix-router-transitions";function DC(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ne(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let w=e.detectErrorBoundary;i=S=>({hasErrorBoundary:w(S)})}else i=xC;let o={},s=Yd(e.routes,i,void 0,o),a,l=e.basename||"/",u=e.unstable_dataStrategy||OC,c=ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),h=null,d=new Set,p=null,v=null,_=null,E=e.hydrationData!=null,m=io(s,e.history.location,l),f=null;if(m==null){let w=nn(404,{pathname:e.history.location.pathname}),{matches:S,route:I}=by(s);m=S,f={[I.id]:w}}let g,T=m.some(w=>w.route.lazy),R=m.some(w=>w.route.loader);if(T)g=!1;else if(!R)g=!0;else if(c.v7_partialHydration){let w=e.hydrationData?e.hydrationData.loaderData:null,S=e.hydrationData?e.hydrationData.errors:null,I=V=>V.route.loader?typeof V.route.loader=="function"&&V.route.loader.hydrate===!0?!1:w&&w[V.route.id]!==void 0||S&&S[V.route.id]!==void 0:!0;if(S){let V=m.findIndex($=>S[$.route.id]!==void 0);g=m.slice(0,V+1).every(I)}else g=m.every(I)}else g=e.hydrationData!=null;let A,y={historyAction:e.history.action,location:e.history.location,matches:m,initialized:g,navigation:Ah,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||f,fetchers:new Map,blockers:new Map},N=Ue.Pop,j=!1,M,ie=!1,Pe=new Map,_e=null,qe=!1,zt=!1,Pn=[],en=[],D=new Map,B=0,q=-1,ae=new Map,re=new Set,Mt=new Map,ot=new Map,Xe=new Set,be=new Map,st=new Map,Wn=!1;function qn(){if(h=e.history.listen(w=>{let{action:S,location:I,delta:V}=w;if(Wn){Wn=!1;return}_i(st.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=ng({currentLocation:y.location,nextLocation:I,historyAction:S});if($&&V!=null){Wn=!0,e.history.go(V*-1),Ja($,{state:"blocked",location:I,proceed(){Ja($,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),e.history.go(V)},reset(){let Z=new Map(y.blockers);Z.set($,hs),Le({blockers:Z})}});return}return Yr(S,I)}),n){KC(t,Pe);let w=()=>GC(t,Pe);t.addEventListener("pagehide",w),_e=()=>t.removeEventListener("pagehide",w)}return y.initialized||Yr(Ue.Pop,y.location,{initialHydration:!0}),A}function Yo(){h&&h(),_e&&_e(),d.clear(),M&&M.abort(),y.fetchers.forEach((w,S)=>Xa(S)),y.blockers.forEach((w,S)=>tg(S))}function Li(w){return d.add(w),()=>d.delete(w)}function Le(w,S){S===void 0&&(S={}),y=ke({},y,w);let I=[],V=[];c.v7_fetcherPersist&&y.fetchers.forEach(($,Z)=>{$.state==="idle"&&(Xe.has(Z)?V.push(Z):I.push(Z))}),[...d].forEach($=>$(y,{deletedFetchers:V,unstable_viewTransitionOpts:S.viewTransitionOpts,unstable_flushSync:S.flushSync===!0})),c.v7_fetcherPersist&&(I.forEach($=>y.fetchers.delete($)),V.forEach($=>Xa($)))}function Xo(w,S,I){var V,$;let{flushSync:Z}=I===void 0?{}:I,H=y.actionData!=null&&y.navigation.formMethod!=null&&_n(y.navigation.formMethod)&&y.navigation.state==="loading"&&((V=w.state)==null?void 0:V._isRedirect)!==!0,b;S.actionData?Object.keys(S.actionData).length>0?b=S.actionData:b=null:H?b=y.actionData:b=null;let ee=S.loaderData?Fy(y.loaderData,S.loaderData,S.matches||[],S.errors):y.loaderData,Y=y.blockers;Y.size>0&&(Y=new Map(Y),Y.forEach((K,Ie)=>Y.set(Ie,hs)));let at=j===!0||y.navigation.formMethod!=null&&_n(y.navigation.formMethod)&&(($=w.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),qe||N===Ue.Pop||(N===Ue.Push?e.history.push(w,w.state):N===Ue.Replace&&e.history.replace(w,w.state));let lt;if(N===Ue.Pop){let K=Pe.get(y.location.pathname);K&&K.has(w.pathname)?lt={currentLocation:y.location,nextLocation:w}:Pe.has(w.pathname)&&(lt={currentLocation:w,nextLocation:y.location})}else if(ie){let K=Pe.get(y.location.pathname);K?K.add(w.pathname):(K=new Set([w.pathname]),Pe.set(y.location.pathname,K)),lt={currentLocation:y.location,nextLocation:w}}Le(ke({},S,{actionData:b,loaderData:ee,historyAction:N,location:w,initialized:!0,navigation:Ah,revalidation:"idle",restoreScrollPosition:ig(w,S.matches||y.matches),preventScrollReset:at,blockers:Y}),{viewTransitionOpts:lt,flushSync:Z===!0}),N=Ue.Pop,j=!1,ie=!1,qe=!1,zt=!1,Pn=[],en=[]}async function Qm(w,S){if(typeof w=="number"){e.history.go(w);return}let I=Xd(y.location,y.matches,l,c.v7_prependBasename,w,c.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:V,submission:$,error:Z}=xy(c.v7_normalizeFormMethod,!1,I,S),H=y.location,b=ua(y.location,V,S&&S.state);b=ke({},b,e.history.encodeLocation(b));let ee=S&&S.replace!=null?S.replace:void 0,Y=Ue.Push;ee===!0?Y=Ue.Replace:ee===!1||$!=null&&_n($.formMethod)&&$.formAction===y.location.pathname+y.location.search&&(Y=Ue.Replace);let at=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,lt=(S&&S.unstable_flushSync)===!0,K=ng({currentLocation:H,nextLocation:b,historyAction:Y});if(K){Ja(K,{state:"blocked",location:b,proceed(){Ja(K,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),Qm(w,S)},reset(){let Ie=new Map(y.blockers);Ie.set(K,hs),Le({blockers:Ie})}});return}return await Yr(Y,b,{submission:$,pendingError:Z,preventScrollReset:at,replace:S&&S.replace,enableViewTransition:S&&S.unstable_viewTransition,flushSync:lt})}function dS(){if(Kc(),Le({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Yr(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Yr(N||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Yr(w,S,I){M&&M.abort(),M=null,N=w,qe=(I&&I.startUninterruptedRevalidation)===!0,ES(y.location,y.matches),j=(I&&I.preventScrollReset)===!0,ie=(I&&I.enableViewTransition)===!0;let V=a||s,$=I&&I.overrideNavigation,Z=io(V,S,l),H=(I&&I.flushSync)===!0;if(!Z){let K=nn(404,{pathname:S.pathname}),{matches:Ie,route:Je}=by(V);Gc(),Xo(S,{matches:Ie,loaderData:{},errors:{[Je.id]:K}},{flushSync:H});return}if(y.initialized&&!zt&&jC(y.location,S)&&!(I&&I.submission&&_n(I.submission.formMethod))){Xo(S,{matches:Z},{flushSync:H});return}M=new AbortController;let b=Ui(e.history,S,M.signal,I&&I.submission),ee;if(I&&I.pendingError)ee=[Fs(Z).route.id,{type:Re.error,error:I.pendingError}];else if(I&&I.submission&&_n(I.submission.formMethod)){let K=await fS(b,S,I.submission,Z,{replace:I.replace,flushSync:H});if(K.shortCircuited)return;ee=K.pendingActionResult,$=Ch(S,I.submission),H=!1,b=Ui(e.history,b.url,b.signal)}let{shortCircuited:Y,loaderData:at,errors:lt}=await pS(b,S,Z,$,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,H,ee);Y||(M=null,Xo(S,ke({matches:Z},$y(ee),{loaderData:at,errors:lt})))}async function fS(w,S,I,V,$){$===void 0&&($={}),Kc();let Z=WC(S,I);Le({navigation:Z},{flushSync:$.flushSync===!0});let H,b=Zd(V,S);if(!b.route.action&&!b.route.lazy)H={type:Re.error,error:nn(405,{method:w.method,pathname:S.pathname,routeId:b.route.id})};else if(H=(await Zo("action",w,[b],V))[0],w.signal.aborted)return{shortCircuited:!0};if(oi(H)){let ee;return $&&$.replace!=null?ee=$.replace:ee=Ly(H.response.headers.get("Location"),new URL(w.url),l)===y.location.pathname+y.location.search,await Jo(w,H,{submission:I,replace:ee}),{shortCircuited:!0}}if(ii(H))throw nn(400,{type:"defer-action"});if(sn(H)){let ee=Fs(V,b.route.id);return($&&$.replace)!==!0&&(N=Ue.Push),{pendingActionResult:[ee.route.id,H]}}return{pendingActionResult:[b.route.id,H]}}async function pS(w,S,I,V,$,Z,H,b,ee,Y){let at=V||Ch(S,$),lt=$||Z||By(at),K=a||s,[Ie,Je]=Dy(e.history,y,I,lt,S,c.v7_partialHydration&&b===!0,c.unstable_skipActionErrorRevalidation,zt,Pn,en,Xe,Mt,re,K,l,Y);if(Gc(le=>!(I&&I.some(kt=>kt.route.id===le))||Ie&&Ie.some(kt=>kt.route.id===le)),q=++B,Ie.length===0&&Je.length===0){let le=Zm();return Xo(S,ke({matches:I,loaderData:{},errors:Y&&sn(Y[1])?{[Y[0]]:Y[1].error}:null},$y(Y),le?{fetchers:new Map(y.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(!qe&&(!c.v7_partialHydration||!b)){Je.forEach(kt=>{let tn=y.fetchers.get(kt.key),ut=ds(void 0,tn?tn.data:void 0);y.fetchers.set(kt.key,ut)});let le;Y&&!sn(Y[1])?le={[Y[0]]:Y[1].data}:y.actionData&&(Object.keys(y.actionData).length===0?le=null:le=y.actionData),Le(ke({navigation:at},le!==void 0?{actionData:le}:{},Je.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:ee})}Je.forEach(le=>{D.has(le.key)&&hr(le.key),le.controller&&D.set(le.key,le.controller)});let ts=()=>Je.forEach(le=>hr(le.key));M&&M.signal.addEventListener("abort",ts);let{loaderResults:dr,fetcherResults:Oi}=await Ym(y.matches,I,Ie,Je,w);if(w.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",ts),Je.forEach(le=>D.delete(le.key));let Mi=Uy([...dr,...Oi]);if(Mi){if(Mi.idx>=Ie.length){let le=Je[Mi.idx-Ie.length].key;re.add(le)}return await Jo(w,Mi.result,{replace:H}),{shortCircuited:!0}}let{loaderData:Fi,errors:kn}=My(y,I,Ie,dr,Y,Je,Oi,be);be.forEach((le,kt)=>{le.subscribe(tn=>{(tn||le.done)&&be.delete(kt)})}),c.v7_partialHydration&&b&&y.errors&&Object.entries(y.errors).filter(le=>{let[kt]=le;return!Ie.some(tn=>tn.route.id===kt)}).forEach(le=>{let[kt,tn]=le;kn=Object.assign(kn||{},{[kt]:tn})});let Za=Zm(),el=eg(q),tl=Za||el||Je.length>0;return ke({loaderData:Fi,errors:kn},tl?{fetchers:new Map(y.fetchers)}:{})}function mS(w,S,I,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(w)&&hr(w);let $=(V&&V.unstable_flushSync)===!0,Z=a||s,H=Xd(y.location,y.matches,l,c.v7_prependBasename,I,c.v7_relativeSplatPath,S,V==null?void 0:V.relative),b=io(Z,H,l);if(!b){es(w,S,nn(404,{pathname:H}),{flushSync:$});return}let{path:ee,submission:Y,error:at}=xy(c.v7_normalizeFormMethod,!0,H,V);if(at){es(w,S,at,{flushSync:$});return}let lt=Zd(b,ee);if(j=(V&&V.preventScrollReset)===!0,Y&&_n(Y.formMethod)){gS(w,S,ee,lt,b,$,Y);return}Mt.set(w,{routeId:S,path:ee}),yS(w,S,ee,lt,b,$,Y)}async function gS(w,S,I,V,$,Z,H){if(Kc(),Mt.delete(w),!V.route.action&&!V.route.lazy){let ut=nn(405,{method:H.formMethod,pathname:I,routeId:S});es(w,S,ut,{flushSync:Z});return}let b=y.fetchers.get(w);cr(w,qC(H,b),{flushSync:Z});let ee=new AbortController,Y=Ui(e.history,I,ee.signal,H);D.set(w,ee);let at=B,K=(await Zo("action",Y,[V],$))[0];if(Y.signal.aborted){D.get(w)===ee&&D.delete(w);return}if(c.v7_fetcherPersist&&Xe.has(w)){if(oi(K)||sn(K)){cr(w,mr(void 0));return}}else{if(oi(K))if(D.delete(w),q>at){cr(w,mr(void 0));return}else return re.add(w),cr(w,ds(H)),Jo(Y,K,{fetcherSubmission:H});if(sn(K)){es(w,S,K.error);return}}if(ii(K))throw nn(400,{type:"defer-action"});let Ie=y.navigation.location||y.location,Je=Ui(e.history,Ie,ee.signal),ts=a||s,dr=y.navigation.state!=="idle"?io(ts,y.navigation.location,l):y.matches;ne(dr,"Didn't find any matches after fetcher action");let Oi=++B;ae.set(w,Oi);let Mi=ds(H,K.data);y.fetchers.set(w,Mi);let[Fi,kn]=Dy(e.history,y,dr,H,Ie,!1,c.unstable_skipActionErrorRevalidation,zt,Pn,en,Xe,Mt,re,ts,l,[V.route.id,K]);kn.filter(ut=>ut.key!==w).forEach(ut=>{let ns=ut.key,og=y.fetchers.get(ns),SS=ds(void 0,og?og.data:void 0);y.fetchers.set(ns,SS),D.has(ns)&&hr(ns),ut.controller&&D.set(ns,ut.controller)}),Le({fetchers:new Map(y.fetchers)});let Za=()=>kn.forEach(ut=>hr(ut.key));ee.signal.addEventListener("abort",Za);let{loaderResults:el,fetcherResults:tl}=await Ym(y.matches,dr,Fi,kn,Je);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",Za),ae.delete(w),D.delete(w),kn.forEach(ut=>D.delete(ut.key));let le=Uy([...el,...tl]);if(le){if(le.idx>=Fi.length){let ut=kn[le.idx-Fi.length].key;re.add(ut)}return Jo(Je,le.result)}let{loaderData:kt,errors:tn}=My(y,y.matches,Fi,el,void 0,kn,tl,be);if(y.fetchers.has(w)){let ut=mr(K.data);y.fetchers.set(w,ut)}eg(Oi),y.navigation.state==="loading"&&Oi>q?(ne(N,"Expected pending action"),M&&M.abort(),Xo(y.navigation.location,{matches:dr,loaderData:kt,errors:tn,fetchers:new Map(y.fetchers)})):(Le({errors:tn,loaderData:Fy(y.loaderData,kt,dr,tn),fetchers:new Map(y.fetchers)}),zt=!1)}async function yS(w,S,I,V,$,Z,H){let b=y.fetchers.get(w);cr(w,ds(H,b?b.data:void 0),{flushSync:Z});let ee=new AbortController,Y=Ui(e.history,I,ee.signal);D.set(w,ee);let at=B,K=(await Zo("loader",Y,[V],$))[0];if(ii(K)&&(K=await nw(K,Y.signal,!0)||K),D.get(w)===ee&&D.delete(w),!Y.signal.aborted){if(Xe.has(w)){cr(w,mr(void 0));return}if(oi(K))if(q>at){cr(w,mr(void 0));return}else{re.add(w),await Jo(Y,K);return}if(sn(K)){es(w,S,K.error);return}ne(!ii(K),"Unhandled fetcher deferred data"),cr(w,mr(K.data))}}async function Jo(w,S,I){let{submission:V,fetcherSubmission:$,replace:Z}=I===void 0?{}:I;S.response.headers.has("X-Remix-Revalidate")&&(zt=!0);let H=S.response.headers.get("Location");ne(H,"Expected a Location header on the redirect Response"),H=Ly(H,new URL(w.url),l);let b=ua(y.location,H,{_isRedirect:!0});if(n){let Ie=!1;if(S.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(Up.test(H)){const Je=e.history.createURL(H);Ie=Je.origin!==t.location.origin||zo(Je.pathname,l)==null}if(Ie){Z?t.location.replace(H):t.location.assign(H);return}}M=null;let ee=Z===!0?Ue.Replace:Ue.Push,{formMethod:Y,formAction:at,formEncType:lt}=y.navigation;!V&&!$&&Y&&at&&lt&&(V=By(y.navigation));let K=V||$;if(PC.has(S.response.status)&&K&&_n(K.formMethod))await Yr(ee,b,{submission:ke({},K,{formAction:H}),preventScrollReset:j});else{let Ie=Ch(b,V);await Yr(ee,b,{overrideNavigation:Ie,fetcherSubmission:$,preventScrollReset:j})}}async function Zo(w,S,I,V){try{let $=await MC(u,w,S,I,V,o,i);return await Promise.all($.map((Z,H)=>{if(BC(Z)){let b=Z.result;return{type:Re.redirect,response:bC(b,S,I[H].route.id,V,l,c.v7_relativeSplatPath)}}return $C(Z)}))}catch($){return I.map(()=>({type:Re.error,error:$}))}}async function Ym(w,S,I,V,$){let[Z,...H]=await Promise.all([I.length?Zo("loader",$,I,S):[],...V.map(b=>{if(b.matches&&b.match&&b.controller){let ee=Ui(e.history,b.path,b.controller.signal);return Zo("loader",ee,[b.match],b.matches).then(Y=>Y[0])}else return Promise.resolve({type:Re.error,error:nn(404,{pathname:b.path})})})]);return await Promise.all([jy(w,I,Z,Z.map(()=>$.signal),!1,y.loaderData),jy(w,V.map(b=>b.match),H,V.map(b=>b.controller?b.controller.signal:null),!0)]),{loaderResults:Z,fetcherResults:H}}function Kc(){zt=!0,Pn.push(...Gc()),Mt.forEach((w,S)=>{D.has(S)&&(en.push(S),hr(S))})}function cr(w,S,I){I===void 0&&(I={}),y.fetchers.set(w,S),Le({fetchers:new Map(y.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function es(w,S,I,V){V===void 0&&(V={});let $=Fs(y.matches,S);Xa(w),Le({errors:{[$.route.id]:I},fetchers:new Map(y.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Xm(w){return c.v7_fetcherPersist&&(ot.set(w,(ot.get(w)||0)+1),Xe.has(w)&&Xe.delete(w)),y.fetchers.get(w)||kC}function Xa(w){let S=y.fetchers.get(w);D.has(w)&&!(S&&S.state==="loading"&&ae.has(w))&&hr(w),Mt.delete(w),ae.delete(w),re.delete(w),Xe.delete(w),y.fetchers.delete(w)}function vS(w){if(c.v7_fetcherPersist){let S=(ot.get(w)||0)-1;S<=0?(ot.delete(w),Xe.add(w)):ot.set(w,S)}else Xa(w);Le({fetchers:new Map(y.fetchers)})}function hr(w){let S=D.get(w);ne(S,"Expected fetch controller: "+w),S.abort(),D.delete(w)}function Jm(w){for(let S of w){let I=Xm(S),V=mr(I.data);y.fetchers.set(S,V)}}function Zm(){let w=[],S=!1;for(let I of re){let V=y.fetchers.get(I);ne(V,"Expected fetcher: "+I),V.state==="loading"&&(re.delete(I),w.push(I),S=!0)}return Jm(w),S}function eg(w){let S=[];for(let[I,V]of ae)if(V<w){let $=y.fetchers.get(I);ne($,"Expected fetcher: "+I),$.state==="loading"&&(hr(I),ae.delete(I),S.push(I))}return Jm(S),S.length>0}function _S(w,S){let I=y.blockers.get(w)||hs;return st.get(w)!==S&&st.set(w,S),I}function tg(w){y.blockers.delete(w),st.delete(w)}function Ja(w,S){let I=y.blockers.get(w)||hs;ne(I.state==="unblocked"&&S.state==="blocked"||I.state==="blocked"&&S.state==="blocked"||I.state==="blocked"&&S.state==="proceeding"||I.state==="blocked"&&S.state==="unblocked"||I.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+S.state);let V=new Map(y.blockers);V.set(w,S),Le({blockers:V})}function ng(w){let{currentLocation:S,nextLocation:I,historyAction:V}=w;if(st.size===0)return;st.size>1&&_i(!1,"A router only supports one blocker at a time");let $=Array.from(st.entries()),[Z,H]=$[$.length-1],b=y.blockers.get(Z);if(!(b&&b.state==="proceeding")&&H({currentLocation:S,nextLocation:I,historyAction:V}))return Z}function Gc(w){let S=[];return be.forEach((I,V)=>{(!w||w(V))&&(I.cancel(),S.push(V),be.delete(V))}),S}function wS(w,S,I){if(p=w,_=S,v=I||null,!E&&y.navigation===Ah){E=!0;let V=ig(y.location,y.matches);V!=null&&Le({restoreScrollPosition:V})}return()=>{p=null,_=null,v=null}}function rg(w,S){return v&&v(w,S.map(V=>oC(V,y.loaderData)))||w.key}function ES(w,S){if(p&&_){let I=rg(w,S);p[I]=_()}}function ig(w,S){if(p){let I=rg(w,S),V=p[I];if(typeof V=="number")return V}return null}function TS(w){o={},a=Yd(w,i,void 0,o)}return A={get basename(){return l},get future(){return c},get state(){return y},get routes(){return s},get window(){return t},initialize:qn,subscribe:Li,enableScrollRestoration:wS,navigate:Qm,fetch:mS,revalidate:dS,createHref:w=>e.history.createHref(w),encodeLocation:w=>e.history.encodeLocation(w),getFetcher:Xm,deleteFetcher:vS,dispose:Yo,getBlocker:_S,deleteBlocker:tg,_internalFetchControllers:D,_internalActiveDeferreds:be,_internalSetRoutes:TS},A}function NC(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Xd(e,t,n,r,i,o,s,a){let l,u;if(s){l=[];for(let h of t)if(l.push(h),h.route.id===s){u=h;break}}else l=t,u=t[t.length-1];let c=fc(i||".",dc(l,o),zo(e.pathname,n)||e.pathname,a==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!jp(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:er([n,c.pathname])),wi(c)}function xy(e,t,n,r){if(!r||!NC(r))return{path:n};if(r.formMethod&&!HC(r.formMethod))return{path:n,error:nn(405,{method:r.formMethod})};let i=()=>({path:n,error:nn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=ew(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!_n(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[_,E]=v;return""+p+_+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!_n(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}ne(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Jd(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Jd(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Oy(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Oy(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(_n(c.formMethod))return{path:n,submission:c};let h=Hn(n);return t&&h.search&&jp(h.search)&&l.append("index",""),h.search="?"+l,{path:wi(h),submission:c}}function VC(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Dy(e,t,n,r,i,o,s,a,l,u,c,h,d,p,v,_){let E=_?sn(_[1])?_[1].error:_[1].data:void 0,m=e.createURL(t.location),f=e.createURL(i),g=_&&sn(_[1])?_[0]:void 0,T=g?VC(n,g):n,R=_?_[1].statusCode:void 0,A=s&&R&&R>=400,y=T.filter((j,M)=>{let{route:ie}=j;if(ie.lazy)return!0;if(ie.loader==null)return!1;if(o)return typeof ie.loader!="function"||ie.loader.hydrate?!0:t.loaderData[ie.id]===void 0&&(!t.errors||t.errors[ie.id]===void 0);if(LC(t.loaderData,t.matches[M],j)||l.some(qe=>qe===j.route.id))return!0;let Pe=t.matches[M],_e=j;return Ny(j,ke({currentUrl:m,currentParams:Pe.params,nextUrl:f,nextParams:_e.params},r,{actionResult:E,unstable_actionStatus:R,defaultShouldRevalidate:A?!1:a||m.pathname+m.search===f.pathname+f.search||m.search!==f.search||Z1(Pe,_e)}))}),N=[];return h.forEach((j,M)=>{if(o||!n.some(zt=>zt.route.id===j.routeId)||c.has(M))return;let ie=io(p,j.path,v);if(!ie){N.push({key:M,routeId:j.routeId,path:j.path,matches:null,match:null,controller:null});return}let Pe=t.fetchers.get(M),_e=Zd(ie,j.path),qe=!1;d.has(M)?qe=!1:u.includes(M)?qe=!0:Pe&&Pe.state!=="idle"&&Pe.data===void 0?qe=a:qe=Ny(_e,ke({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:f,nextParams:n[n.length-1].params},r,{actionResult:E,unstable_actionStatus:R,defaultShouldRevalidate:A?!1:a})),qe&&N.push({key:M,routeId:j.routeId,path:j.path,matches:ie,match:_e,controller:new AbortController})}),[y,N]}function LC(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function Z1(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ny(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Vy(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ne(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";_i(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!rC.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ke({},t(i),{lazy:void 0}))}function OC(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function MC(e,t,n,r,i,o,s,a){let l=r.reduce((h,d)=>h.add(d.route.id),new Set),u=new Set,c=await e({matches:i.map(h=>{let d=l.has(h.route.id);return ke({},h,{shouldLoad:d,resolve:v=>(u.add(h.route.id),d?FC(t,n,h,o,s,v,a):Promise.resolve({type:Re.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(h=>ne(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((h,d)=>l.has(i[d].route.id))}async function FC(e,t,n,r,i,o,s){let a,l,u=c=>{let h,d=new Promise((_,E)=>h=E);l=()=>h(),t.signal.addEventListener("abort",l);let p=_=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:s},..._!==void 0?[_]:[]),v;return o?v=o(_=>p(_)):v=(async()=>{try{return{type:"data",result:await p()}}catch(_){return{type:"error",result:_}}})(),Promise.race([v,d])};try{let c=n.route[e];if(n.route.lazy)if(c){let h,[d]=await Promise.all([u(c).catch(p=>{h=p}),Vy(n.route,i,r)]);if(h!==void 0)throw h;a=d}else if(await Vy(n.route,i,r),c=n.route[e],c)a=await u(c);else if(e==="action"){let h=new URL(t.url),d=h.pathname+h.search;throw nn(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:Re.data,result:void 0};else if(c)a=await u(c);else{let h=new URL(t.url),d=h.pathname+h.search;throw nn(404,{pathname:d})}ne(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Re.error,result:c}}finally{l&&t.signal.removeEventListener("abort",l)}return a}async function $C(e){let{result:t,type:n,status:r}=e;if(tw(t)){let s;try{let a=t.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?t.body==null?s=null:s=await t.json():s=await t.text()}catch(a){return{type:Re.error,error:a}}return n===Re.error?{type:Re.error,error:new $p(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:Re.data,data:s,statusCode:t.status,headers:t.headers}}if(n===Re.error)return{type:Re.error,error:t,statusCode:bp(t)?t.status:r};if(zC(t)){var i,o;return{type:Re.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:Re.data,data:t,statusCode:r}}function bC(e,t,n,r,i,o){let s=e.headers.get("Location");if(ne(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Up.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Xd(new URL(t.url),a,i,!0,s,o),e.headers.set("Location",s)}return e}function Ly(e,t,n){if(Up.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=zo(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Ui(e,t,n,r){let i=e.createURL(ew(t)).toString(),o={signal:n};if(r&&_n(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Jd(r.formData):o.body=r.formData}return new Request(i,o)}function Jd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Oy(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function UC(e,t,n,r,i,o){let s={},a=null,l,u=!1,c={},h=r&&sn(r[1])?r[1].error:void 0;return n.forEach((d,p)=>{let v=t[p].route.id;if(ne(!oi(d),"Cannot handle redirect results in processLoaderData"),sn(d)){let _=d.error;if(h!==void 0&&(_=h,h=void 0),a=a||{},o)a[v]=_;else{let E=Fs(e,v);a[E.route.id]==null&&(a[E.route.id]=_)}s[v]=void 0,u||(u=!0,l=bp(d.error)?d.error.status:500),d.headers&&(c[v]=d.headers)}else ii(d)?(i.set(v,d.deferredData),s[v]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[v]=d.headers)):(s[v]=d.data,d.statusCode&&d.statusCode!==200&&!u&&(l=d.statusCode),d.headers&&(c[v]=d.headers))}),h!==void 0&&r&&(a={[r[0]]:h},s[r[0]]=void 0),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:c}}function My(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=UC(t,n,r,i,a,!1);for(let c=0;c<o.length;c++){let{key:h,match:d,controller:p}=o[c];ne(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let v=s[c];if(!(p&&p.signal.aborted))if(sn(v)){let _=Fs(e.matches,d==null?void 0:d.route.id);u&&u[_.route.id]||(u=ke({},u,{[_.route.id]:v.error})),e.fetchers.delete(h)}else if(oi(v))ne(!1,"Unhandled fetcher revalidation redirect");else if(ii(v))ne(!1,"Unhandled fetcher deferred data");else{let _=mr(v.data);e.fetchers.set(h,_)}}return{loaderData:l,errors:u}}function Fy(e,t,n,r){let i=ke({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function $y(e){return e?sn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Fs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function by(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function nn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new $p(e||500,s,new Error(a),!0)}function Uy(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(oi(n))return{result:n,idx:t}}}function ew(e){let t=typeof e=="string"?Hn(e):e;return wi(ke({},t,{hash:""}))}function jC(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function BC(e){return tw(e.result)&&CC.has(e.result.status)}function ii(e){return e.type===Re.deferred}function sn(e){return e.type===Re.error}function oi(e){return(e&&e.type)===Re.redirect}function zC(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function tw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function HC(e){return AC.has(e.toLowerCase())}function _n(e){return IC.has(e.toLowerCase())}async function jy(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(h=>h.route.id===l.route.id),c=u!=null&&!Z1(u,l)&&(o&&o[l.route.id])!==void 0;if(ii(a)&&(i||c)){let h=r[s];ne(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await nw(a,h,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function nw(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Re.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Re.error,error:i}}return{type:Re.data,data:e.deferredData.data}}}function jp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Zd(e,t){let n=typeof t=="string"?Hn(t).search:t.search;if(e[e.length-1].route.index&&jp(n||""))return e[e.length-1];let r=Y1(e);return r[r.length-1]}function By(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Ch(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WC(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ds(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function mr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function KC(e,t){try{let n=e.sessionStorage.getItem(J1);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function GC(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(J1,JSON.stringify(n))}catch(r){_i(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(this,arguments)}const pc=C.createContext(null),rw=C.createContext(null),qr=C.createContext(null),mc=C.createContext(null),ur=C.createContext({outlet:null,matches:[],isDataRoute:!1}),iw=C.createContext(null);function QC(e,t){let{relative:n}=t===void 0?{}:t;Ho()||ne(!1);let{basename:r,navigator:i}=C.useContext(qr),{hash:o,pathname:s,search:a}=sw(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:er([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ho(){return C.useContext(mc)!=null}function La(){return Ho()||ne(!1),C.useContext(mc).location}function ow(e){C.useContext(qr).static||C.useLayoutEffect(e)}function Bp(){let{isDataRoute:e}=C.useContext(ur);return e?lP():YC()}function YC(){Ho()||ne(!1);let e=C.useContext(pc),{basename:t,future:n,navigator:r}=C.useContext(qr),{matches:i}=C.useContext(ur),{pathname:o}=La(),s=JSON.stringify(dc(i,n.v7_relativeSplatPath)),a=C.useRef(!1);return ow(()=>{a.current=!0}),C.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=fc(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:er([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,s,o,e])}function XC(){let{matches:e}=C.useContext(ur),t=e[e.length-1];return t?t.params:{}}function sw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=C.useContext(qr),{matches:i}=C.useContext(ur),{pathname:o}=La(),s=JSON.stringify(dc(i,r.v7_relativeSplatPath));return C.useMemo(()=>fc(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function JC(e,t){return aw(e,t)}function aw(e,t,n,r){Ho()||ne(!1);let{navigator:i}=C.useContext(qr),{matches:o}=C.useContext(ur),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=La(),c;if(t){var h;let E=typeof t=="string"?Hn(t):t;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ne(!1),c=E}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=io(e,{pathname:p}),_=rP(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:er([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:er([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&_?C.createElement(mc.Provider,{value:{location:ca({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ue.Pop}},_):_}function ZC(){let e=aP(),t=bp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,null)}const eP=C.createElement(ZC,null);class tP extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?C.createElement(ur.Provider,{value:this.props.routeContext},C.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nP(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(pc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ur.Provider,{value:t},r)}function rP(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||ne(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,v=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,v=!1,_=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||eP,l&&(u<0&&d===0?(uP("route-fallback",!1),v=!0,E=null):u===d&&(v=!0,E=h.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,d+1)),f=()=>{let g;return p?g=_:v?g=E:h.route.Component?g=C.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,C.createElement(nP,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?C.createElement(tP,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var lw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lw||{}),Au=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Au||{});function iP(e){let t=C.useContext(pc);return t||ne(!1),t}function oP(e){let t=C.useContext(rw);return t||ne(!1),t}function sP(e){let t=C.useContext(ur);return t||ne(!1),t}function uw(e){let t=sP(),n=t.matches[t.matches.length-1];return n.route.id||ne(!1),n.route.id}function aP(){var e;let t=C.useContext(iw),n=oP(Au.UseRouteError),r=uw(Au.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lP(){let{router:e}=iP(lw.UseNavigateStable),t=uw(Au.UseNavigateStable),n=C.useRef(!1);return ow(()=>{n.current=!0}),C.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ca({fromRouteId:t},o)))},[e,t])}const zy={};function uP(e,t,n){!t&&!zy[e]&&(zy[e]=!0)}function cP(e){let{to:t,replace:n,state:r,relative:i}=e;Ho()||ne(!1);let{future:o,static:s}=C.useContext(qr),{matches:a}=C.useContext(ur),{pathname:l}=La(),u=Bp(),c=fc(t,dc(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return C.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function hP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ue.Pop,navigator:o,static:s=!1,future:a}=e;Ho()&&ne(!1);let l=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:o,static:s,future:ca({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Hn(r));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:v="default"}=r,_=C.useMemo(()=>{let E=zo(c,l);return E==null?null:{location:{pathname:E,search:h,hash:d,state:p,key:v},navigationType:i}},[l,c,h,d,p,v,i]);return _==null?null:C.createElement(qr.Provider,{value:u},C.createElement(mc.Provider,{children:n,value:_}))}new Promise(()=>{});function dP(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:C.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}function fP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mP(e,t){return e.button===0&&(!t||t==="_self")&&!pP(e)}const gP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yP="6";try{window.__reactRouterVersion=yP}catch{}function vP(e,t){return DC({basename:t==null?void 0:t.basename,future:ha({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:eC({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||_P(),routes:e,mapRouteProperties:dP,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy,window:t==null?void 0:t.window}).initialize()}function _P(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ha({},t,{errors:wP(t.errors)})),t}function wP(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new $p(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const EP=C.createContext({isTransitioning:!1}),TP=C.createContext(new Map),SP="startTransition",Hy=bS[SP],IP="flushSync",Wy=YR[IP];function RP(e){Hy?Hy(e):e()}function fs(e){Wy?Wy(e):e()}let AP=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function CP(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=C.useState(n.state),[s,a]=C.useState(),[l,u]=C.useState({isTransitioning:!1}),[c,h]=C.useState(),[d,p]=C.useState(),[v,_]=C.useState(),E=C.useRef(new Map),{v7_startTransition:m}=r||{},f=C.useCallback(y=>{m?RP(y):y()},[m]),g=C.useCallback((y,N)=>{let{deletedFetchers:j,unstable_flushSync:M,unstable_viewTransitionOpts:ie}=N;j.forEach(_e=>E.current.delete(_e)),y.fetchers.forEach((_e,qe)=>{_e.data!==void 0&&E.current.set(qe,_e.data)});let Pe=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ie||Pe){M?fs(()=>o(y)):f(()=>o(y));return}if(M){fs(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let _e=n.window.document.startViewTransition(()=>{fs(()=>o(y))});_e.finished.finally(()=>{fs(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),fs(()=>p(_e));return}d?(c&&c.resolve(),d.skipTransition(),_({state:y,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(a(y),u({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[n.window,d,c,E,f]);C.useLayoutEffect(()=>n.subscribe(g),[n,g]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new AP)},[l]),C.useEffect(()=>{if(c&&s&&n.window){let y=s,N=c.promise,j=n.window.document.startViewTransition(async()=>{f(()=>o(y)),await N});j.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(j)}},[f,s,c,n.window]),C.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,d,i.location,s]),C.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),_(void 0))},[l.isTransitioning,v]),C.useEffect(()=>{},[]);let T=C.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,N,j)=>n.navigate(y,{state:N,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(y,N,j)=>n.navigate(y,{replace:!0,state:N,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),R=n.basename||"/",A=C.useMemo(()=>({router:n,navigator:T,static:!1,basename:R}),[n,T,R]);return C.createElement(C.Fragment,null,C.createElement(pc.Provider,{value:A},C.createElement(rw.Provider,{value:i},C.createElement(TP.Provider,{value:E.current},C.createElement(EP.Provider,{value:l},C.createElement(hP,{basename:R,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?C.createElement(PP,{routes:n.routes,future:n.future,state:i}):t))))),null)}function PP(e){let{routes:t,future:n,state:r}=e;return aw(t,void 0,r,n)}const kP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cw=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,d=fP(t,gP),{basename:p}=C.useContext(qr),v,_=!1;if(typeof u=="string"&&xP.test(u)&&(v=u,kP))try{let g=new URL(window.location.href),T=u.startsWith("//")?new URL(g.protocol+u):new URL(u),R=zo(T.pathname,p);T.origin===g.origin&&R!=null?u=R+T.search+T.hash:_=!0}catch{}let E=QC(u,{relative:i}),m=DP(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function f(g){r&&r(g),g.defaultPrevented||m(g)}return C.createElement("a",ha({},d,{href:v||E,onClick:_||o?r:f,ref:n,target:l}))});var qy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qy||(qy={}));var Ky;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function DP(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=t===void 0?{}:t,l=Bp(),u=La(),c=sw(e,{relative:s});return C.useCallback(h=>{if(mP(h,n)){h.preventDefault();let d=r!==void 0?r:wi(u)===wi(c);l(e,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,o,s,a])}const NP=pe.div`
	padding: 1rem;
	border-radius: 10px;
	border: 1px solid rgb(40 129 168);
	background-size: cover;
	background-position: center;
	color: #e7d5ba;
	letter-spacing: 0.1rem;
	width: 180px;

	@media (max-width: 568px) {
		width: 100px;
		height: 80px;
		font-size: 0.8rem;
		justify-content: center;
		align-items: center;
`,VP=({imageUrl:e,children:t})=>O.jsx(NP,{style:{backgroundImage:`linear-gradient(to bottom, transparent 40%, rgb(40 129 168) 50%, transparent 80%), url(${e})`,backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:t});function LP({cat:e}){return O.jsx(VP,{imageUrl:e.imageUrl,children:O.jsx("h1",{children:e.category})})}var OP={BASE_URL:"/atTheBeach/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Gy=e=>{let t;const n=new Set,r=(c,h)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=h??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(v=>v(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(OP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},MP=e=>e?Gy(e):Gy;var hw={exports:{}},dw={},fw={exports:{}},pw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=C;function FP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $P=typeof Object.is=="function"?Object.is:FP,bP=Po.useState,UP=Po.useEffect,jP=Po.useLayoutEffect,BP=Po.useDebugValue;function zP(e,t){var n=t(),r=bP({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return jP(function(){i.value=n,i.getSnapshot=t,Ph(i)&&o({inst:i})},[e,n,t]),UP(function(){return Ph(i)&&o({inst:i}),e(function(){Ph(i)&&o({inst:i})})},[e]),BP(n),n}function Ph(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$P(e,n)}catch{return!0}}function HP(e,t){return t()}var WP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HP:zP;pw.useSyncExternalStore=Po.useSyncExternalStore!==void 0?Po.useSyncExternalStore:WP;fw.exports=pw;var qP=fw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=C,KP=qP;function GP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QP=typeof Object.is=="function"?Object.is:GP,YP=KP.useSyncExternalStore,XP=gc.useRef,JP=gc.useEffect,ZP=gc.useMemo,ek=gc.useDebugValue;dw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=XP(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ZP(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return h=v}return h=p}if(v=h,QP(c,p))return v;var _=r(p);return i!==void 0&&i(v,_)?v:(c=p,h=_)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=YP(e,o[0],o[1]);return JP(function(){s.hasValue=!0,s.value=a},[a]),ek(a),a};hw.exports=dw;var tk=hw.exports;const nk=Of(tk);var mw={BASE_URL:"/atTheBeach/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:rk}=ln,{useSyncExternalStoreWithSelector:ik}=nk;let Qy=!1;const ok=e=>e;function sk(e,t=ok,n){(mw?"production":void 0)!=="production"&&n&&!Qy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qy=!0);const r=ik(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return rk(r),r}const Yy=e=>{(mw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?MP(e):e,n=(r,i)=>sk(t,r,i);return Object.assign(n,t),n},ak=e=>e?Yy(e):Yy;var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},lk=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new uk;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ck=function(e){const t=gw(e);return yw.encodeByteArray(t,!0)},Cu=function(e){return ck(e).replace(/\./g,"")},hk=function(e){try{return yw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=()=>dk().__FIREBASE_DEFAULTS__,pk=()=>{if(typeof process>"u"||typeof Xy>"u")return;const e=Xy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hk(e[1]);return t&&JSON.parse(t)},zp=()=>{try{return fk()||pk()||mk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gk=e=>{var t,n;return(n=(t=zp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},vw=e=>{const t=gk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},_w=()=>{var e;return(e=zp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cu(JSON.stringify(n)),Cu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){var e;const t=(e=zp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wk(){return!_k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function Tk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="FirebaseError";class xi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Sk,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ew.prototype.create)}}class Ew{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?Ik(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xi(i,a,r)}}function Ik(e,t){return e.replace(Rk,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Rk=/\{\$([^}]+)}/g;function ef(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Jy(o)&&Jy(s)){if(!ef(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(e){return e&&e._delegate?e._delegate:e}class ko{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new yk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Pk(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ck(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ck(e){return e===Zr?void 0:e}function Pk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ak(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ce||(ce={}));const xk={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Dk=ce.INFO,Nk={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Vk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Nk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tw{constructor(t){this.name=t,this._logLevel=Dk,this._logHandler=Vk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}const Lk=(e,t)=>t.some(n=>e instanceof n);let Zy,ev;function Ok(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mk(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sw=new WeakMap,tf=new WeakMap,Iw=new WeakMap,kh=new WeakMap,Hp=new WeakMap;function Fk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Vr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Sw.set(n,e)}).catch(()=>{}),Hp.set(t,e),t}function $k(e){if(tf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});tf.set(e,t)}let nf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return tf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Iw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bk(e){nf=e(nf)}function Uk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(xh(this),t,...n);return Iw.set(r,t.sort?t.sort():[t]),Vr(r)}:Mk().includes(e)?function(...t){return e.apply(xh(this),t),Vr(Sw.get(this))}:function(...t){return Vr(e.apply(xh(this),t))}}function jk(e){return typeof e=="function"?Uk(e):(e instanceof IDBTransaction&&$k(e),Lk(e,Ok())?new Proxy(e,nf):e)}function Vr(e){if(e instanceof IDBRequest)return Fk(e);if(kh.has(e))return kh.get(e);const t=jk(e);return t!==e&&(kh.set(e,t),Hp.set(t,e)),t}const xh=e=>Hp.get(e);function Bk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Vr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Vr(s.result),l.oldVersion,l.newVersion,Vr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zk=["get","getKey","getAll","getAllKeys","count"],Hk=["put","add","delete","clear"],Dh=new Map;function tv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dh.get(t))return Dh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Hk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zk.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Dh.set(t,o),o}bk(e=>({...e,get:(t,n,r)=>tv(t,n)||e.get(t,n,r),has:(t,n)=>!!tv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rf="@firebase/app",nv="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Tw("@firebase/app"),Kk="@firebase/app-compat",Gk="@firebase/analytics-compat",Qk="@firebase/analytics",Yk="@firebase/app-check-compat",Xk="@firebase/app-check",Jk="@firebase/auth",Zk="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/database-compat",nx="@firebase/functions",rx="@firebase/functions-compat",ix="@firebase/installations",ox="@firebase/installations-compat",sx="@firebase/messaging",ax="@firebase/messaging-compat",lx="@firebase/performance",ux="@firebase/performance-compat",cx="@firebase/remote-config",hx="@firebase/remote-config-compat",dx="@firebase/storage",fx="@firebase/storage-compat",px="@firebase/firestore",mx="@firebase/firestore-compat",gx="firebase",yx="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="[DEFAULT]",vx={[rf]:"fire-core",[Kk]:"fire-core-compat",[Qk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Xk]:"fire-app-check",[Yk]:"fire-app-check-compat",[Jk]:"fire-auth",[Zk]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-rtdb-compat",[nx]:"fire-fn",[rx]:"fire-fn-compat",[ix]:"fire-iid",[ox]:"fire-iid-compat",[sx]:"fire-fcm",[ax]:"fire-fcm-compat",[lx]:"fire-perf",[ux]:"fire-perf-compat",[cx]:"fire-rc",[hx]:"fire-rc-compat",[dx]:"fire-gcs",[fx]:"fire-gcs-compat",[px]:"fire-fst",[mx]:"fire-fst-compat","fire-js":"fire-js",[gx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,_x=new Map,sf=new Map;function rv(e,t){try{e.container.addComponent(t)}catch(n){Ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function da(e){const t=e.name;if(sf.has(t))return Ei.debug(`There were multiple attempts to register component ${t}.`),!1;sf.set(t,e);for(const n of Pu.values())rv(n,e);for(const n of _x.values())rv(n,e);return!0}function Rw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Ew("app","Firebase",wx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=yx;function Cw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:of,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=_w()),!n)throw Lr.create("no-options");const o=Pu.get(i);if(o){if(ef(n,o.options)&&ef(r,o.config))return o;throw Lr.create("duplicate-app",{appName:i})}const s=new kk(i);for(const l of sf.values())s.addComponent(l);const a=new Ex(n,r,s);return Pu.set(i,a),a}function Pw(e=of){const t=Pu.get(e);if(!t&&e===of&&_w())return Cw();if(!t)throw Lr.create("no-app",{appName:e});return t}function Or(e,t,n){var r;let i=(r=vx[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}da(new ko(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebase-heartbeat-database",Sx=1,fa="firebase-heartbeat-store";let Nh=null;function kw(){return Nh||(Nh=Bk(Tx,Sx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(fa)}catch(n){console.warn(n)}}}}).catch(e=>{throw Lr.create("idb-open",{originalErrorMessage:e.message})})),Nh}async function Ix(e){try{const n=(await kw()).transaction(fa),r=await n.objectStore(fa).get(xw(e));return await n.done,r}catch(t){if(t instanceof xi)Ei.warn(t.message);else{const n=Lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(n.message)}}}async function iv(e,t){try{const r=(await kw()).transaction(fa,"readwrite");await r.objectStore(fa).put(t,xw(e)),await r.done}catch(n){if(n instanceof xi)Ei.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function xw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1024,Ax=30*24*60*60*1e3;class Cx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ov();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Ax}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ov(),{heartbeatsToSend:r,unsentEntries:i}=Px(this._heartbeatsCache.heartbeats),o=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function ov(){return new Date().toISOString().substring(0,10)}function Px(e,t=Rx){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sv(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?Tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ix(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function sv(e){return Cu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){da(new ko("platform-logger",t=>new Wk(t),"PRIVATE")),da(new ko("heartbeat",t=>new Cx(t),"PRIVATE")),Or(rf,nv,e),Or(rf,nv,"esm2017"),Or("fire-js","")}xx("");var Dx="firebase",Nx="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(Dx,Nx,"app");var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,Wp=Wp||{},Q=Vx||self;function yc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Oa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Lx(e){return Object.prototype.hasOwnProperty.call(e,Vh)&&e[Vh]||(e[Vh]=++Ox)}var Vh="closure_uid_"+(1e9*Math.random()>>>0),Ox=0;function Mx(e,t,n){return e.call.apply(e.bind,arguments)}function Fx(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Rt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Rt=Mx:Rt=Fx,Rt.apply(null,arguments)}function El(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function it(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function Kr(){this.s=this.s,this.o=this.o}var $x=0;Kr.prototype.s=!1;Kr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$x!=0)&&Lx(this)};Kr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function av(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yc(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function At(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var bx=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Q.addEventListener("test",n,t),Q.removeEventListener("test",n,t)}catch{}return e}();function pa(e){return/^[\s\xa0]*$/.test(e)}function vc(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function Ln(e){return vc().indexOf(e)!=-1}function Kp(e){return Kp[" "](e),e}Kp[" "]=function(){};function Ux(e,t){var n=ND;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var jx=Ln("Opera"),xo=Ln("Trident")||Ln("MSIE"),Nw=Ln("Edge"),af=Nw||xo,Vw=Ln("Gecko")&&!(vc().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),Bx=vc().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function Lw(){var e=Q.document;return e?e.documentMode:void 0}var lf;e:{var Lh="",Oh=function(){var e=vc();if(Vw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Nw)return/Edge\/([\d\.]+)/.exec(e);if(xo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Bx)return/WebKit\/(\S+)/.exec(e);if(jx)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Oh&&(Lh=Oh?Oh[1]:""),xo){var Mh=Lw();if(Mh!=null&&Mh>parseFloat(Lh)){lf=String(Mh);break e}}lf=Lh}var uf;if(Q.document&&xo){var lv=Lw();uf=lv||parseInt(lf,10)||void 0}else uf=void 0;var zx=uf;function ma(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vw){e:{try{Kp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Hx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ma.$.h.call(this)}}it(ma,At);var Hx={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),Wx=0;function qx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Wx,this.fa=this.ia=!1}function _c(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Kx(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Ow(e){const t={};for(const n in e)t[n]=e[n];return t}const uv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mw(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<uv.length;o++)n=uv[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wc(e){this.src=e,this.g={},this.h=0}wc.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=hf(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new qx(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function cf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Dw(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(_c(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function hf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var Qp="closure_lm_"+(1e6*Math.random()|0),Fh={};function Fw(e,t,n,r,i){if(r&&r.once)return bw(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Fw(e,t[o],n,r,i);return null}return n=Jp(n),e&&e[Ma]?e.O(t,n,Oa(r)?!!r.capture:!!r,i):$w(e,t,n,!1,r,i)}function $w(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Oa(i)?!!i.capture:!!i,a=Xp(e);if(a||(e[Qp]=a=new wc(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=Gx(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bx||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jw(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Gx(){function e(n){return t.call(e.src,e.listener,n)}const t=Qx;return e}function bw(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)bw(e,t[o],n,r,i);return null}return n=Jp(n),e&&e[Ma]?e.P(t,n,Oa(r)?!!r.capture:!!r,i):$w(e,t,n,!0,r,i)}function Uw(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Uw(e,t[o],n,r,i);else r=Oa(r)?!!r.capture:!!r,n=Jp(n),e&&e[Ma]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=hf(o,n,r,i),-1<n&&(_c(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Xp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hf(t,n,r,i)),(n=-1<e?t[e]:null)&&Yp(n))}function Yp(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ma])cf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xp(t))?(cf(n,e),n.h==0&&(n.src=null,t[Qp]=null)):_c(e)}}}function jw(e){return e in Fh?Fh[e]:Fh[e]="on"+e}function Qx(e,t){if(e.fa)e=!0;else{t=new ma(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Yp(e),e=n.call(r,t)}return e}function Xp(e){return e=e[Qp],e instanceof wc?e:null}var $h="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jp(e){return typeof e=="function"?e:(e[$h]||(e[$h]=function(t){return e.handleEvent(t)}),e[$h])}function rt(){Kr.call(this),this.i=new wc(this),this.S=this,this.J=null}it(rt,Kr);rt.prototype[Ma]=!0;rt.prototype.removeEventListener=function(e,t,n,r){Uw(this,e,t,n,r)};function mt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var i=t;t=new At(r,e),Mw(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Tl(s,r,!0,t)&&i}if(s=t.g=e,i=Tl(s,r,!0,t)&&i,i=Tl(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Tl(s,r,!1,t)&&i}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)_c(n[r]);delete e.g[t],e.h--}}this.J=null};rt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};rt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Tl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&cf(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Zp=Q.JSON.stringify;class Yx{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Xx(){var e=em;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Jx{constructor(){this.h=this.g=null}add(t,n){const r=Bw.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Bw=new Yx(()=>new Zx,e=>e.reset());class Zx{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eD(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function tD(e){Q.setTimeout(()=>{throw e},0)}let ga,ya=!1,em=new Jx,zw=()=>{const e=Q.Promise.resolve(void 0);ga=()=>{e.then(nD)}};var nD=()=>{for(var e;e=Xx();){try{e.h.call(e.g)}catch(n){tD(n)}var t=Bw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ya=!1};function Ec(e,t){rt.call(this),this.h=e||1,this.g=t||Q,this.j=Rt(this.qb,this),this.l=Date.now()}it(Ec,rt);L=Ec.prototype;L.ga=!1;L.T=null;L.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(tm(this),this.start()))}};L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}L.N=function(){Ec.$.N.call(this),tm(this),delete this.g};function nm(e,t,n){if(typeof e=="function")n&&(e=Rt(e,n));else if(e&&typeof e.handleEvent=="function")e=Rt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function Hw(e){e.g=nm(()=>{e.g=null,e.i&&(e.i=!1,Hw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class rD extends Kr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Hw(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(e){Kr.call(this),this.h=e,this.g={}}it(va,Kr);var cv=[];function Ww(e,t,n,r){Array.isArray(n)||(n&&(cv[0]=n.toString()),n=cv);for(var i=0;i<n.length;i++){var o=Fw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function qw(e){Gp(e.g,function(t,n){this.g.hasOwnProperty(n)&&Yp(t)},e),e.g={}}va.prototype.N=function(){va.$.N.call(this),qw(this)};va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tc(){this.g=!0}Tc.prototype.Ea=function(){this.g=!1};function iD(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function oD(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function oo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+aD(e,n)+(r?" "+r:"")})}function sD(e,t){e.info(function(){return"TIMEOUT: "+t})}Tc.prototype.info=function(){};function aD(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Zp(n)}catch{return t}}var Di={},hv=null;function Sc(){return hv=hv||new rt}Di.Ta="serverreachability";function Kw(e){At.call(this,Di.Ta,e)}it(Kw,At);function _a(e){const t=Sc();mt(t,new Kw(t))}Di.STAT_EVENT="statevent";function Gw(e,t){At.call(this,Di.STAT_EVENT,e),this.stat=t}it(Gw,At);function Nt(e){const t=Sc();mt(t,new Gw(t,e))}Di.Ua="timingevent";function Qw(e,t){At.call(this,Di.Ua,e),this.size=t}it(Qw,At);function Fa(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var Ic={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rm(){}rm.prototype.h=null;function dv(e){return e.h||(e.h=e.i())}function Xw(){}var $a={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function im(){At.call(this,"d")}it(im,At);function om(){At.call(this,"c")}it(om,At);var df;function Rc(){}it(Rc,rm);Rc.prototype.g=function(){return new XMLHttpRequest};Rc.prototype.i=function(){return{}};df=new Rc;function ba(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new va(this),this.P=lD,e=af?125:void 0,this.V=new Ec(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jw}function Jw(){this.i=null,this.g="",this.h=!1}var lD=45e3,Zw={},ff={};L=ba.prototype;L.setTimeout=function(e){this.P=e};function pf(e,t,n){e.L=1,e.A=Cc(or(t)),e.u=n,e.S=!0,eE(e,null)}function eE(e,t){e.G=Date.now(),Ua(e),e.B=or(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),lE(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Jw,e.g=kE(e.l,n?t:null,!e.u),0<e.O&&(e.M=new rD(Rt(e.Pa,e,e.g),e.O)),Ww(e.U,e.g,"readystatechange",e.nb),t=e.I?Ow(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),_a(),iD(e.j,e.v,e.B,e.m,e.W,e.u)}L.nb=function(e){e=e.target;const t=this.M;t&&On(e)==3?t.l():this.Pa(e)};L.Pa=function(e){try{if(e==this.g)e:{const c=On(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||af||this.g&&(this.h.h||this.g.ja()||gv(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?_a(3):_a(2)),Ac(this);var n=this.g.da();this.ca=n;t:if(tE(this)){var r=gv(this.g);e="";var i=r.length,o=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),$s(this);var s="";break t}this.h.i=new Q.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,oD(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pa(a)){var u=a;break t}}u=null}if(n=u)oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mf(this,n);else{this.i=!1,this.s=3,Nt(12),si(this),$s(this);break e}}this.S?(nE(this,c,s),af&&this.i&&c==3&&(Ww(this.U,this.V,"tick",this.mb),this.V.start())):(oo(this.j,this.m,s,null),mf(this,s)),c==4&&si(this),this.i&&!this.J&&(c==4?RE(this.l,this):(this.i=!1,Ua(this)))}else kD(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),si(this),$s(this)}}}catch{}finally{}};function tE(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function nE(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=uD(e,n),i==ff){t==4&&(e.s=4,Nt(14),r=!1),oo(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Zw){e.s=4,Nt(15),oo(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else oo(e.j,e.m,i,null),mf(e,i);tE(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Nt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hm(t),t.M=!0,Nt(11))):(oo(e.j,e.m,n,"[Invalid Chunked Response]"),si(e),$s(e))}L.mb=function(){if(this.g){var e=On(this.g),t=this.g.ja();this.o<t.length&&(Ac(this),nE(this,e,t),this.i&&e!=4&&Ua(this))}};function uD(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?ff:(n=Number(t.substring(n,r)),isNaN(n)?Zw:(r+=1,r+n>t.length?ff:(t=t.slice(r,r+n),e.o=r+n,t)))}L.cancel=function(){this.J=!0,si(this)};function Ua(e){e.Y=Date.now()+e.P,rE(e,e.P)}function rE(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Fa(Rt(e.lb,e),t)}function Ac(e){e.C&&(Q.clearTimeout(e.C),e.C=null)}L.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(sD(this.j,this.B),this.L!=2&&(_a(),Nt(17)),si(this),this.s=2,$s(this)):rE(this,this.Y-e)};function $s(e){e.l.H==0||e.J||RE(e.l,e)}function si(e){Ac(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,tm(e.V),qw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function mf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||gf(n.i,e))){if(!e.K&&gf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Du(n),xc(n);else break e;cm(n),Nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fa(Rt(n.ib,n),6e3));if(1>=hE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ai(n,11)}else if((e.K||n.g==e)&&Du(n),!pa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(sm(o,o.h),o.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Te(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=PE(r,r.J?r.pa:null,r.Y),s.K){dE(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Ac(a),Ua(a)),r.g=s}else SE(r);0<n.j.length&&Dc(n)}else u[0]!="stop"&&u[0]!="close"||ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ai(n,7):um(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}_a(4)}catch{}}function cD(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(yc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function hD(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(yc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function iE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=hD(e),r=cD(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var oE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dD(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function di(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof di){this.h=e.h,ku(this,e.j),this.s=e.s,this.g=e.g,xu(this,e.m),this.l=e.l;var t=e.i,n=new wa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),fv(this,n),this.o=e.o}else e&&(t=String(e).match(oE))?(this.h=!1,ku(this,t[1]||"",!0),this.s=Ss(t[2]||""),this.g=Ss(t[3]||"",!0),xu(this,t[4]),this.l=Ss(t[5]||"",!0),fv(this,t[6]||"",!0),this.o=Ss(t[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}di.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Is(t,pv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Is(t,pv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Is(n,n.charAt(0)=="/"?mD:pD,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Is(n,yD)),e.join("")};function or(e){return new di(e)}function ku(e,t,n){e.j=n?Ss(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fv(e,t,n){t instanceof wa?(e.i=t,vD(e.i,e.h)):(n||(t=Is(t,gD)),e.i=new wa(t,e.h))}function Te(e,t,n){e.i.set(t,n)}function Cc(e){return Te(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ss(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Is(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,fD),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fD(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var pv=/[#\/\?@]/g,pD=/[#\?:]/g,mD=/[#\?]/g,gD=/[#\?@]/g,yD=/#/g;function wa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gr(e){e.g||(e.g=new Map,e.h=0,e.i&&dD(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=wa.prototype;L.add=function(e,t){Gr(this),this.i=null,e=Wo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function sE(e,t){Gr(e),t=Wo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function aE(e,t){return Gr(e),t=Wo(e,t),e.g.has(t)}L.forEach=function(e,t){Gr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};L.ta=function(){Gr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};L.Z=function(e){Gr(this);let t=[];if(typeof e=="string")aE(this,e)&&(t=t.concat(this.g.get(Wo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};L.set=function(e,t){return Gr(this),this.i=null,e=Wo(this,e),aE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};L.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function lE(e,t,n){sE(e,t),0<n.length&&(e.i=null,e.g.set(Wo(e,t),qp(n)),e.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Wo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function vD(e,t){t&&!e.j&&(Gr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sE(this,r),lE(this,i,n))},e)),e.j=t}var _D=class{constructor(e,t){this.g=e,this.map=t}};function uE(e){this.l=e||wD,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wD=10;function cE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function hE(e){return e.h?1:e.g?e.g.size:0}function gf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function sm(e,t){e.g?e.g.add(t):e.h=t}function dE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}uE.prototype.cancel=function(){if(this.i=fE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function fE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qp(e.i)}var ED=class{stringify(e){return Q.JSON.stringify(e,void 0)}parse(e){return Q.JSON.parse(e,void 0)}};function TD(){this.g=new ED}function SD(e,t,n){const r=n||"";try{iE(e,function(i,o){let s=i;Oa(i)&&(s=Zp(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ID(e,t){const n=new Tc;if(Q.Image){const r=new Image;r.onload=El(Sl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=El(Sl,n,r,"TestLoadImage: error",!1,t),r.onabort=El(Sl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=El(Sl,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Sl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ja(e){this.l=e.ec||null,this.j=e.ob||!1}it(ja,rm);ja.prototype.g=function(){return new Pc(this.l,this.j)};ja.prototype.i=function(e){return function(){return e}}({});function Pc(e,t){rt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=am,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Pc,rt);var am=0;L=Pc.prototype;L.open=function(e,t){if(this.readyState!=am)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ea(this)};L.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Q).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=am};L.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function pE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}L.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ba(this):Ea(this),this.readyState==3&&pE(this)}};L.Za=function(e){this.g&&(this.response=this.responseText=e,Ba(this))};L.Ya=function(e){this.g&&(this.response=e,Ba(this))};L.ka=function(){this.g&&Ba(this)};function Ba(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ea(e)}L.setRequestHeader=function(e,t){this.v.append(e,t)};L.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ea(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var RD=Q.JSON.parse;function Me(e){rt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mE,this.L=this.M=!1}it(Me,rt);var mE="",AD=/^https?$/i,CD=["POST","PUT"];L=Me.prototype;L.Oa=function(e){this.M=e};L.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():df.g(),this.C=this.u?dv(this.u):dv(df),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){mv(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Q.FormData&&e instanceof Q.FormData,!(0<=Dw(CD,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vE(this),0<this.B&&((this.L=PD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=nm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){mv(this,o)}};function PD(e){return xo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}L.ua=function(){typeof Wp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function mv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gE(e),kc(e)}function gE(e){e.F||(e.F=!0,mt(e,"complete"),mt(e,"error"))}L.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mt(this,"complete"),mt(this,"abort"),kc(this))};L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kc(this,!0)),Me.$.N.call(this)};L.La=function(){this.s||(this.G||this.v||this.l?yE(this):this.kb())};L.kb=function(){yE(this)};function yE(e){if(e.h&&typeof Wp<"u"&&(!e.C[1]||On(e)!=4||e.da()!=2)){if(e.v&&On(e)==4)nm(e.La,0,e);else if(mt(e,"readystatechange"),On(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(oE)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!AD.test(i?i.toLowerCase():"")}n=r}if(n)mt(e,"complete"),mt(e,"success");else{e.m=6;try{var o=2<On(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",gE(e)}}finally{kc(e)}}}}function kc(e,t){if(e.g){vE(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||mt(e,"ready");try{n.onreadystatechange=r}catch{}}}function vE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}L.isActive=function(){return!!this.g};function On(e){return e.g?e.g.readyState:0}L.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),RD(t)}};function gv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case mE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function kD(e){const t={};e=(e.g&&2<=On(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(pa(e[r]))continue;var n=eD(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}Kx(t,function(r){return r.join(", ")})}L.Ia=function(){return this.m};L.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _E(e){let t="";return Gp(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function lm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_E(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Te(e,t,n))}function ps(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wE(e){this.Ga=0,this.j=[],this.l=new Tc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ps("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ps("baseRetryDelayMs",5e3,e),this.hb=ps("retryDelaySeedMs",1e4,e),this.eb=ps("forwardChannelMaxRetries",2,e),this.xa=ps("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new uE(e&&e.concurrentRequestLimit),this.Ja=new TD,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}L=wE.prototype;L.ra=8;L.H=1;function um(e){if(EE(e),e.H==3){var t=e.W++,n=or(e.I);if(Te(n,"SID",e.K),Te(n,"RID",t),Te(n,"TYPE","terminate"),za(e,n),t=new ba(e,e.l,t),t.L=2,t.A=Cc(or(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=t.A,n=!0),n||(t.g=kE(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ua(t)}CE(e)}function xc(e){e.g&&(hm(e),e.g.cancel(),e.g=null)}function EE(e){xc(e),e.u&&(Q.clearTimeout(e.u),e.u=null),Du(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function Dc(e){if(!cE(e.i)&&!e.m){e.m=!0;var t=e.Na;ga||zw(),ya||(ga(),ya=!0),em.add(t,e),e.C=0}}function xD(e,t){return hE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Fa(Rt(e.Na,e,t),AE(e,e.C)),e.C++,!0)}L.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ba(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Ow(o),Mw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=TE(this,i,t),n=or(this.I),Te(n,"RID",e),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),za(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(_E(o)))+"&"+t:this.o&&lm(n,this.o,o)),sm(this.i,i),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",t),Te(n,"SID","null"),i.aa=!0,pf(i,n,null)):pf(i,n,t),this.H=2}}else this.H==3&&(e?yv(this,e):this.j.length==0||cE(this.i)||yv(this))};function yv(e,t){var n;t?n=t.m:n=e.W++;const r=or(e.I);Te(r,"SID",e.K),Te(r,"RID",n),Te(r,"AID",e.V),za(e,r),e.o&&e.s&&lm(r,e.o,e.s),n=new ba(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=TE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sm(e.i,n),pf(n,r,t)}function za(e,t){e.na&&Gp(e.na,function(n,r){Te(t,r,n)}),e.h&&iE({},function(n,r){Te(t,r,n)})}function TE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Rt(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{SD(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function SE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ga||zw(),ya||(ga(),ya=!0),em.add(t,e),e.A=0}}function cm(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Fa(Rt(e.Ma,e),AE(e,e.A)),e.A++,!0)}L.Ma=function(){if(this.u=null,IE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Fa(Rt(this.jb,this),e)}};L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),xc(this),IE(this))};function hm(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function IE(e){e.g=new ba(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=or(e.wa);Te(t,"RID","rpc"),Te(t,"SID",e.K),Te(t,"AID",e.V),Te(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Te(t,"TO",e.qa),Te(t,"TYPE","xmlhttp"),za(e,t),e.o&&e.s&&lm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Cc(or(t)),n.u=null,n.S=!0,eE(n,e)}L.ib=function(){this.v!=null&&(this.v=null,xc(this),cm(this),Nt(19))};function Du(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function RE(e,t){var n=null;if(e.g==t){Du(e),hm(e),e.g=null;var r=2}else if(gf(e.i,t))n=t.F,dE(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=Sc(),mt(r,new Qw(r,n)),Dc(e)}else SE(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&xD(e,t)||r==2&&cm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ai(e,5);break;case 4:ai(e,10);break;case 3:ai(e,6);break;default:ai(e,2)}}}function AE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ai(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Rt(e.pb,e);n||(n=new di("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||ku(n,"https"),Cc(n)),ID(n.toString(),r)}else Nt(2);e.H=0,e.h&&e.h.za(t),CE(e),EE(e)}L.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))};function CE(e){if(e.H=0,e.ma=[],e.h){const t=fE(e.i);(t.length!=0||e.j.length!=0)&&(av(e.ma,t),av(e.ma,e.j),e.i.i.length=0,qp(e.j),e.j.length=0),e.h.ya()}}function PE(e,t,n){var r=n instanceof di?or(n):new di(n);if(r.g!="")t&&(r.g=t+"."+r.g),xu(r,r.m);else{var i=Q.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new di(null);r&&ku(o,r),t&&(o.g=t),i&&xu(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Te(r,n,t),Te(r,"VER",e.ra),za(e,r),r}function kE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Me(new ja({ob:n})):new Me(e.va),t.Oa(e.J),t}L.isActive=function(){return!!this.h&&this.h.isActive(this)};function xE(){}L=xE.prototype;L.Ba=function(){};L.Aa=function(){};L.za=function(){};L.ya=function(){};L.isActive=function(){return!0};L.Va=function(){};function Nu(){if(xo&&!(10<=Number(zx)))throw Error("Environmental error: no available transport.")}Nu.prototype.g=function(e,t){return new Xt(e,t)};function Xt(e,t){rt.call(this),this.g=new wE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!pa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pa(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new qo(this)}it(Xt,rt);Xt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Nt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=PE(e,null,e.Y),Dc(e)};Xt.prototype.close=function(){um(this.g)};Xt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Zp(e),e=n);t.j.push(new _D(t.fb++,e)),t.H==3&&Dc(t)};Xt.prototype.N=function(){this.g.h=null,delete this.j,um(this.g),delete this.g,Xt.$.N.call(this)};function DE(e){im.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}it(DE,im);function NE(){om.call(this),this.status=1}it(NE,om);function qo(e){this.g=e}it(qo,xE);qo.prototype.Ba=function(){mt(this.g,"a")};qo.prototype.Aa=function(e){mt(this.g,new DE(e))};qo.prototype.za=function(e){mt(this.g,new NE)};qo.prototype.ya=function(){mt(this.g,"b")};function DD(){this.blockSize=-1}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(Cn,DD);Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bh(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}Cn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)bh(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){bh(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){bh(this,r),i=0;break}}this.h=i,this.i+=t};Cn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ge(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var ND={};function dm(e){return-128<=e&&128>e?Ux(e,function(t){return new ge([t|0],0>t?-1:0)}):new ge([e|0],0>e?-1:0)}function Mn(e){if(isNaN(e)||!isFinite(e))return fo;if(0>e)return dt(Mn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=yf;return new ge(t,0)}function VE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return dt(VE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(t,8)),r=fo,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Mn(Math.pow(t,o)),r=r.R(o).add(Mn(s))):(r=r.R(n),r=r.add(Mn(s)))}return r}var yf=4294967296,fo=dm(0),vf=dm(1),vv=dm(16777216);L=ge.prototype;L.ea=function(){if(an(this))return-dt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:yf+r)*t,t*=yf}return e};L.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Jn(this))return"0";if(an(this))return"-"+dt(this).toString(e);for(var t=Mn(Math.pow(e,6)),n=this,r="";;){var i=Lu(n,t).g;n=Vu(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Jn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};L.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Jn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function an(e){return e.h==-1}L.X=function(e){return e=Vu(this,e),an(e)?-1:Jn(e)?0:1};function dt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ge(n,~e.h).add(vf)}L.abs=function(){return an(this)?dt(this):this};L.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function Vu(e,t){return e.add(dt(t))}L.R=function(e){if(Jn(this)||Jn(e))return fo;if(an(this))return an(e)?dt(this).R(dt(e)):dt(dt(this).R(e));if(an(e))return dt(this.R(dt(e)));if(0>this.X(vv)&&0>e.X(vv))return Mn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,Il(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Il(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Il(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Il(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ge(n,0)};function Il(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ms(e,t){this.g=e,this.h=t}function Lu(e,t){if(Jn(t))throw Error("division by zero");if(Jn(e))return new ms(fo,fo);if(an(e))return t=Lu(dt(e),t),new ms(dt(t.g),dt(t.h));if(an(t))return t=Lu(e,dt(t)),new ms(dt(t.g),t.h);if(30<e.g.length){if(an(e)||an(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vf,r=t;0>=r.X(e);)n=_v(n),r=_v(r);var i=ji(n,1),o=ji(r,1);for(r=ji(r,2),n=ji(n,2);!Jn(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=ji(r,1),n=ji(n,1)}return t=Vu(e,i.R(t)),new ms(i,t)}for(i=fo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Mn(n),s=o.R(t);an(s)||0<s.X(e);)n-=r,o=Mn(n),s=o.R(t);Jn(o)&&(o=vf),i=i.add(o),e=Vu(e,s)}return new ms(i,e)}L.gb=function(e){return Lu(this,e).h};L.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ge(n,this.h&e.h)};L.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ge(n,this.h|e.h)};L.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ge(n,this.h^e.h)};function _v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ge(n,e.h)}function ji(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ge(i,e.h)}Nu.prototype.createWebChannel=Nu.prototype.g;Xt.prototype.send=Xt.prototype.u;Xt.prototype.open=Xt.prototype.m;Xt.prototype.close=Xt.prototype.close;Ic.NO_ERROR=0;Ic.TIMEOUT=8;Ic.HTTP_ERROR=6;Yw.COMPLETE="complete";Xw.EventType=$a;$a.OPEN="a";$a.CLOSE="b";$a.ERROR="c";$a.MESSAGE="d";rt.prototype.listen=rt.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;Cn.prototype.digest=Cn.prototype.l;Cn.prototype.reset=Cn.prototype.reset;Cn.prototype.update=Cn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=Mn;ge.fromString=VE;var VD=function(){return new Nu},LD=function(){return Sc()},Uh=Ic,OD=Yw,MD=Di,wv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FD=ja,Rl=Xw,$D=Me,bD=Cn,po=ge;const Ev="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Tw("@firebase/firestore");function gs(){return Ti.logLevel}function U(e,...t){if(Ti.logLevel<=ce.DEBUG){const n=t.map(fm);Ti.debug(`Firestore (${Ko}): ${e}`,...n)}}function sr(e,...t){if(Ti.logLevel<=ce.ERROR){const n=t.map(fm);Ti.error(`Firestore (${Ko}): ${e}`,...n)}}function Do(e,...t){if(Ti.logLevel<=ce.WARN){const n=t.map(fm);Ti.warn(`Firestore (${Ko}): ${e}`,...n)}}function fm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e="Unexpected state"){const t=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+e;throw sr(t),new Error(t)}function ve(e,t){e||G()}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends xi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class jD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BD{constructor(t){this.t=t,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mr,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mr)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new LE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string"),new Et(t)}}class zD{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HD{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new zD(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new WD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=KD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function de(e,t){return e<t?-1:e>t?1:0}function No(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?de(this.nanoseconds,t.nanoseconds):de(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.timestamp=t}static fromTimestamp(t){return new X(t)}static min(){return new X(new Ye(0,0))}static max(){return new X(new Ye(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n,r){n===void 0?n=0:n>t.length&&G(),r===void 0?r=t.length-n:r>t.length-n&&G(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ta.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ta?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ce extends Ta{construct(t,n,r){return new Ce(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const GD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Ta{construct(t,n,r){return new ft(t,n,r)}static isValidIdentifier(t){return GD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.path=t}static fromPath(t){return new W(Ce.fromString(t))}static fromName(t){return new W(Ce.fromString(t).popFirst(5))}static empty(){return new W(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new W(new Ce(t.slice()))}}function QD(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ur(i,W.empty(),t)}function YD(e){return new Ur(e.readTime,e.key,-1)}class Ur{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(X.min(),W.empty(),-1)}static max(){return new Ur(X.max(),W.empty(),-1)}}function XD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=W.comparator(e.documentKey,t.documentKey),n!==0?n:de(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==JD)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,r)=>{n(t)})}static reject(t){return new k((n,r)=>{r(t)})}static waitFor(t){return new k((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=k.resolve(!1);for(const r of t)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new k((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new k((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function e2(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}pm.oe=-1;function Nc(e){return e==null}function Ou(e){return e===0&&1/e==-1/0}function t2(e){return typeof e=="number"&&Number.isInteger(e)&&!Ou(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ni(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ME(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){this.comparator=t,this.root=n||ht.EMPTY}insert(t,n){return new Ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(t){return new Ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ht.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Al(this.root,t,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Al(this.root,t,this.comparator,!0)}}class Al{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ht{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=o??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new ht(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const t=this.left.check();if(t!==this.right.check())throw G();return t+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(t,n,r,i,o){return this}insert(t,n,r){return new ht(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.comparator=t,this.data=new Ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof gt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new gt(this.comparator);return n.data=t,n}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.fields=t,t.sort(ft.comparator)}static empty(){return new Kt([])}unionWith(t){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Kt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return No(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new FE("Invalid base64 string: "+o):o}}(t);return new Pt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Pt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return de(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const n2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(e){if(ve(!!e),typeof e=="string"){let t=0;const n=n2.exec(e);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ze(e.seconds),nanos:ze(e.nanos)}}function ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Si(e){return typeof e=="string"?Pt.fromBase64String(e):Pt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gm(e){const t=e.mapValue.fields.__previous_value__;return mm(t)?gm(t):t}function Sa(e){const t=jr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ia{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ia&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mm(e)?4:i2(e)?9007199254740991:10:G()}function Bn(e,t){if(e===t)return!0;const n=Ii(e);if(n!==Ii(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sa(e).isEqual(Sa(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=jr(i.timestampValue),a=jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Si(i.bytesValue).isEqual(Si(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Ou(s)===Ou(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return No(e.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Tv(s)!==Tv(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Bn(s[l],a[l])))return!1;return!0}(e,t);default:return G()}}function Ra(e,t){return(e.values||[]).find(n=>Bn(n,t))!==void 0}function Vo(e,t){if(e===t)return 0;const n=Ii(e),r=Ii(t);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=ze(o.integerValue||o.doubleValue),l=ze(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Iv(e.timestampValue,t.timestampValue);case 4:return Iv(Sa(e),Sa(t));case 5:return de(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Si(o),l=Si(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=de(a[u],l[u]);if(c!==0)return c}return de(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=de(ze(o.latitude),ze(s.latitude));return a!==0?a:de(ze(o.longitude),ze(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Vo(a[u],l[u]);if(c)return c}return de(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Cl.mapValue&&s===Cl.mapValue)return 0;if(o===Cl.mapValue)return 1;if(s===Cl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=de(l[h],c[h]);if(d!==0)return d;const p=Vo(a[l[h]],u[c[h]]);if(p!==0)return p}return de(l.length,c.length)}(e.mapValue,t.mapValue);default:throw G()}}function Iv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return de(e,t);const n=jr(e),r=jr(t),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function Lo(e){return _f(e)}function _f(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Si(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return W.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_f(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${_f(n.fields[s])}`;return i+"}"}(e.mapValue):G()}function wf(e){return!!e&&"integerValue"in e}function ym(e){return!!e&&"arrayValue"in e}function Rv(e){return!!e&&"nullValue"in e}function Av(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ql(e){return!!e&&"mapValue"in e}function bs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ni(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=bs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=bs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function i2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.value=t}static empty(){return new $t({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=bs(n)}setAll(t){let n=ft.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=bs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ni(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new $t(bs(this.value))}}function $E(e){const t=[];return Ni(e.fields,(n,r)=>{const i=new ft([n]);if(Ql(r)){const o=$E(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Kt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new St(t,0,X.min(),X.min(),X.min(),$t.empty(),0)}static newFoundDocument(t,n,r,i){return new St(t,1,n,X.min(),r,i,0)}static newNoDocument(t,n){return new St(t,2,n,X.min(),X.min(),$t.empty(),0)}static newUnknownDocument(t,n){return new St(t,3,n,X.min(),X.min(),$t.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof St&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,n){this.position=t,this.inclusive=n}}function Cv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Vo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n="asc"){this.field=t,this.dir=n}}function o2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{}class Ge extends bE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new a2(t,n,r):n==="array-contains"?new c2(t,r):n==="in"?new h2(t,r):n==="not-in"?new d2(t,r):n==="array-contains-any"?new f2(t,r):new Ge(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new l2(t,r):new u2(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends bE{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new zn(t,n)}matches(t){return UE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UE(e){return e.op==="and"}function jE(e){return s2(e)&&UE(e)}function s2(e){for(const t of e.filters)if(t instanceof zn)return!1;return!0}function Ef(e){if(e instanceof Ge)return e.field.canonicalString()+e.op.toString()+Lo(e.value);if(jE(e))return e.filters.map(t=>Ef(t)).join(",");{const t=e.filters.map(n=>Ef(n)).join(",");return`${e.op}(${t})`}}function BE(e,t){return e instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(e,t):e instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BE(s,i.filters[a]),!0):!1}(e,t):void G()}function zE(e){return e instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(e):e instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(zE).join(" ,")+"}"}(e):"Filter"}class a2 extends Ge{constructor(t,n,r){super(t,n,r),this.key=W.fromName(r.referenceValue)}matches(t){const n=W.comparator(t.key,this.key);return this.matchesComparison(n)}}class l2 extends Ge{constructor(t,n){super(t,"in",n),this.keys=HE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class u2 extends Ge{constructor(t,n){super(t,"not-in",n),this.keys=HE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function HE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class c2 extends Ge{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ym(n)&&Ra(n.arrayValue,this.value)}}class h2 extends Ge{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}}class d2 extends Ge{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}}class f2 extends Ge{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ra(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function kv(e,t=null,n=[],r=[],i=null,o=null,s=null){return new p2(e,t,n,r,i,o,s)}function vm(e){const t=J(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ef(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Lo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Lo(r)).join(",")),t.ue=n}return t.ue}function _m(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!o2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!BE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pv(e.startAt,t.startAt)&&Pv(e.endAt,t.endAt)}function Tf(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function m2(e,t,n,r,i,o,s,a){return new Vc(e,t,n,r,i,o,s,a)}function WE(e){return new Vc(e)}function xv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function g2(e){return e.collectionGroup!==null}function Us(e){const t=J(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt(ft.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Fu(o,r))}),n.has(ft.keyField().canonicalString())||t.ce.push(new Fu(ft.keyField(),r))}return t.ce}function Un(e){const t=J(e);return t.le||(t.le=y2(t,Us(e))),t.le}function y2(e,t){if(e.limitType==="F")return kv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fu(i.field,o)});const n=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;return kv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sf(e,t,n){return new Vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lc(e,t){return _m(Un(e),Un(t))&&e.limitType===t.limitType}function qE(e){return`${vm(Un(e))}|lt:${e.limitType}`}function Bi(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zE(i)).join(", ")}]`),Nc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(Un(e))}; limitType=${e.limitType})`}function Oc(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Us(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Cv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Us(r),i)||r.endAt&&!function(s,a,l){const u=Cv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Us(r),i))}(e,t)}function v2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function KE(e){return(t,n)=>{let r=!1;for(const i of Us(e)){const o=_2(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _2(e,t,n){const r=e.field.isKeyField()?W.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Vo(l,u):G()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ni(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Ve(W.comparator);function ar(){return w2}const GE=new Ve(W.comparator);function Rs(...e){let t=GE;for(const n of e)t=t.insert(n.key,n);return t}function QE(e){let t=GE;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function li(){return js()}function YE(){return js()}function js(){return new Go(e=>e.toString(),(e,t)=>e.isEqual(t))}const E2=new Ve(W.comparator),T2=new gt(W.comparator);function oe(...e){let t=T2;for(const n of e)t=t.add(n);return t}const S2=new gt(de);function I2(){return S2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(t)?"-0":t}}function JE(e){return{integerValue:""+e}}function R2(e,t){return t2(t)?JE(t):XE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function A2(e,t,n){return e instanceof $u?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&mm(o)&&(o=gm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Aa?eT(e,t):e instanceof Ca?tT(e,t):function(i,o){const s=ZE(i,o),a=Dv(s)+Dv(i.Pe);return wf(s)&&wf(i.Pe)?JE(a):XE(i.serializer,a)}(e,t)}function C2(e,t,n){return e instanceof Aa?eT(e,t):e instanceof Ca?tT(e,t):n}function ZE(e,t){return e instanceof bu?function(r){return wf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class $u extends Mc{}class Aa extends Mc{constructor(t){super(),this.elements=t}}function eT(e,t){const n=nT(t);for(const r of e.elements)n.some(i=>Bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ca extends Mc{constructor(t){super(),this.elements=t}}function tT(e,t){let n=nT(t);for(const r of e.elements)n=n.filter(i=>!Bn(i,r));return{arrayValue:{values:n}}}class bu extends Mc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Dv(e){return ze(e.integerValue||e.doubleValue)}function nT(e){return ym(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function P2(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Aa&&i instanceof Aa||r instanceof Ca&&i instanceof Ca?No(r.elements,i.elements,Bn):r instanceof bu&&i instanceof bu?Bn(r.Pe,i.Pe):r instanceof $u&&i instanceof $u}(e.transform,t.transform)}class k2{constructor(t,n){this.version=t,this.transformResults=n}}class Rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Fc{}function rT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wm(e.key,Rn.none()):new qa(e.key,e.data,Rn.none());{const n=e.data,r=$t.empty();let i=new gt(ft.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qr(e.key,r,new Kt(i.toArray()),Rn.none())}}function x2(e,t,n){e instanceof qa?function(i,o,s){const a=i.value.clone(),l=Vv(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Qr?function(i,o,s){if(!Yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Vv(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(iT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Bs(e,t,n,r){return e instanceof qa?function(o,s,a,l){if(!Yl(o.precondition,s))return a;const u=o.value.clone(),c=Lv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qr?function(o,s,a,l){if(!Yl(o.precondition,s))return a;const u=Lv(o.fieldTransforms,l,s),c=s.data;return c.setAll(iT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(o,s,a){return Yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function D2(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=ZE(r.transform,i||null);o!=null&&(n===null&&(n=$t.empty()),n.set(r.field,o))}return n||null}function Nv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&No(r,i,(o,s)=>P2(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qa extends Fc{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qr extends Fc{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vv(e,t,n){const r=new Map;ve(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,C2(s,a,n[i]))}return r}function Lv(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,A2(o,s,t))}return r}class wm extends Fc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N2 extends Fc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&x2(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=YE();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=rT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&No(this.mutations,t.mutations,(n,r)=>Nv(n,r))&&No(this.baseMutations,t.baseMutations,(n,r)=>Nv(n,r))}}class Em{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ve(t.mutations.length===r.length);let i=function(){return E2}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Em(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ue;function M2(e){switch(e){default:return G();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function oT(e){if(e===void 0)return sr("GRPC error has no .code"),P.UNKNOWN;switch(e){case Be.OK:return P.OK;case Be.CANCELLED:return P.CANCELLED;case Be.UNKNOWN:return P.UNKNOWN;case Be.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Be.INTERNAL:return P.INTERNAL;case Be.UNAVAILABLE:return P.UNAVAILABLE;case Be.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Be.NOT_FOUND:return P.NOT_FOUND;case Be.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Be.ABORTED:return P.ABORTED;case Be.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Be.DATA_LOSS:return P.DATA_LOSS;default:return G()}}(ue=Be||(Be={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new po([4294967295,4294967295],0);function Ov(e){const t=F2().encode(e),n=new bD;return n.update(t),new Uint8Array(n.digest())}function Mv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new po([n,r],0),new po([i,o],0)]}class Tm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new As(`Invalid padding: ${n}`);if(r<0)throw new As(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new As(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new As(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=po.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(po.fromNumber(r)));return i.compare($2)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Ov(t),[r,i]=Mv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Tm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;const n=Ov(t),[r,i]=Mv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class As extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ka.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new $c(X.min(),i,new Ve(de),ar(),oe())}}class Ka{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ka(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class sT{constructor(t,n){this.targetId=t,this.me=n}}class aT{constructor(t,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Fv{constructor(){this.fe=0,this.ge=bv(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=oe(),n=oe(),r=oe();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ka(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=bv()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b2{constructor(t){this.Le=t,this.Be=new Map,this.ke=ar(),this.qe=$v(),this.Qe=new Ve(de)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:G()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(Tf(o))if(r===0){const s=new W(o.path);this.Ue(n,s,St.newNoDocument(s,X.min()))}else ve(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Si(r).toUint8Array()}catch(l){if(l instanceof FE)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Tm(s,i,o)}catch(l){return Do(l instanceof As?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Tf(a.target)){const l=new W(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,St.newNoDocument(l,t))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=oe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const i=new $c(t,n,this.Qe,this.ke,r);return this.ke=ar(),this.qe=$v(),this.Qe=new Ve(de),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Fv,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new gt(de),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Fv),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function $v(){return new Ve(W.comparator)}function bv(){return new Ve(W.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class z2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function If(e,t){return e.useProto3Json||Nc(t)?t:{value:t}}function Uu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function H2(e,t){return Uu(e,t.toTimestamp())}function jn(e){return ve(!!e),X.fromTimestamp(function(n){const r=jr(n);return new Ye(r.seconds,r.nanos)}(e))}function Sm(e,t){return Rf(e,t).canonicalString()}function Rf(e,t){const n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function uT(e){const t=Ce.fromString(e);return ve(pT(t)),t}function Af(e,t){return Sm(e.databaseId,t.path)}function jh(e,t){const n=uT(t);if(n.get(1)!==e.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(hT(n))}function cT(e,t){return Sm(e.databaseId,t)}function W2(e){const t=uT(e);return t.length===4?Ce.emptyPath():hT(t)}function Cf(e){return new Ce(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hT(e){return ve(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Uv(e,t,n){return{name:Af(e,t),fields:n.value.mapValue.fields}}function q2(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:G()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ve(c===void 0||typeof c=="string"),Pt.fromBase64String(c||"")):(ve(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?P.UNKNOWN:oT(u.code);return new z(c,u.message||"")}(s);n=new aT(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=jh(e,r.document.name),o=jn(r.document.updateTime),s=r.document.createTime?jn(r.document.createTime):X.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=St.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=jh(e,r.document),o=r.readTime?jn(r.readTime):X.min(),s=St.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Xl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=jh(e,r.document),o=r.removedTargetIds||[];n=new Xl([],o,i,null)}else{if(!("filter"in t))return G();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new O2(i,o),a=r.targetId;n=new sT(a,s)}}return n}function K2(e,t){let n;if(t instanceof qa)n={update:Uv(e,t.key,t.value)};else if(t instanceof wm)n={delete:Af(e,t.key)};else if(t instanceof Qr)n={update:Uv(e,t.key,t.data),updateMask:nN(t.fieldMask)};else{if(!(t instanceof N2))return G();n={verify:Af(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof $u)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ca)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:H2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G()}(e,t.precondition)),n}function G2(e,t){return e&&e.length>0?(ve(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?jn(i.updateTime):jn(o);return s.isEqual(X.min())&&(s=jn(o)),new k2(s,i.transformResults||[])}(n,t))):[]}function Q2(e,t){return{documents:[cT(e,t.path)]}}function Y2(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cT(e,i);const o=function(u){if(u.length!==0)return fT(zn.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:zi(d.field),direction:Z2(d.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=If(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function X2(e){let t=W2(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=dT(h);return d instanceof zn&&jE(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(v){return new Fu(Hi(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Nc(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Mu(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new Mu(p,d)}(n.endAt)),m2(t,i,s,o,a,"F",l,u)}function J2(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hi(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hi(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hi(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(e):e.fieldFilter!==void 0?function(n){return Ge.create(Hi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>dT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(e):G()}function Z2(e){return U2[e]}function eN(e){return j2[e]}function tN(e){return B2[e]}function zi(e){return{fieldPath:e.canonicalString()}}function Hi(e){return ft.fromServerFormat(e.fieldPath)}function fT(e){return e instanceof Ge?function(n){if(n.op==="=="){if(Av(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NAN"}};if(Rv(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Av(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NAN"}};if(Rv(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(n.field),op:eN(n.op),value:n.value}}}(e):e instanceof zn?function(n){const r=n.getFilters().map(i=>fT(i));return r.length===1?r[0]:{compositeFilter:{op:tN(n.op),filters:r}}}(e):G()}function nN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function pT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,r,i,o=X.min(),s=X.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.ut=t}}function iN(e){const t=X2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.on=new sN}addToCollectionParentIndex(t,n){return this.on.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Ur.min())}updateCollectionGroup(t,n,r){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class sN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new gt(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new gt(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Oo(0)}static Nn(){return new Oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.changes=new Go(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,St.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Bs(r.mutation,i,Kt.empty(),Ye.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,oe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=oe()){const i=li();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Rs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=li();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,oe()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=ar();const s=js(),a=function(){return js()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Bs(c.mutation,u,c.mutation.getFieldMask(),Ye.now())):s.set(u.key,Kt.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new lN(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=js();let i=new Ve((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Kt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=YE();c.forEach(d=>{if(!o.has(d)){const p=rT(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,h))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):g2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):k.resolve(li());let a=-1,l=o;return s.next(u=>k.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?k.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,oe())).next(c=>({batchId:a,changes:QE(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new W(n)).next(r=>{let i=Rs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Rs();return this.indexManager.getCollectionParents(t,o).next(a=>k.forEach(a,l=>{const u=function(h,d){return new Vc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,St.newInvalidDocument(c)))});let a=Rs();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Bs(c.mutation,u,Kt.empty(),Ye.now()),Oc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:iN(i.bundledQuery),readTime:jn(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.overlays=new Ve(W.comparator),this.lr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const r=li();return k.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.lt(t,n,o)}),k.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(t,n,r){const i=li(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Ve((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=li(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=li(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new L2(n,r));let o=this.lr.get(n);o===void 0&&(o=oe(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.hr=new gt(Ze.Pr),this.Ir=new gt(Ze.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new Ze(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new Ze(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new W(new Ce([])),r=new Ze(n,t),i=new Ze(n,t+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new W(new Ce([])),r=new Ze(n,t),i=new Ze(n,t+1);let o=oe();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Ze(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ze{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return W.comparator(t.key,n.key)||de(t.gr,n.gr)}static Tr(t,n){return de(t.gr,n.gr)||W.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new gt(Ze.Pr)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new V2(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Ze(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(t,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new gt(de);return n.forEach(i=>{const o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new Ze(new W(o),0);let a=new gt(de);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),k.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ve(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return k.forEach(n.mutations,i=>{const o=new Ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new Ze(n,0),i=this.yr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.Cr=t,this.docs=function(){return new Ve(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(t,n){let r=ar();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():St.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=ar();const s=n.path,a=new W(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||XD(YD(c),r)<=0||(i.has(c.key)||Oc(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(t,n,r,i){G()}vr(t,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new pN(this)}getSize(t){return k.resolve(this.size)}}class pN extends aN{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),k.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.persistence=t,this.Fr=new Go(n=>vm(n),_m),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Im,this.targetCount=0,this.Nr=Oo.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),k.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Oo(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.kn(n),k.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return k.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),k.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return k.resolve(r)}containsKey(t,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n){this.Lr={},this.overlays={},this.Br=new pm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new mN(this),this.indexManager=new oN,this.remoteDocumentCache=function(i){return new fN(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new rN(n),this.Kr=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Lr[t.toKey()];return r||(r=new dN(n,this.referenceDelegate),this.Lr[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new yN(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(t,n){return k.or(Object.values(this.Lr).map(r=>()=>r.containsKey(t,n)))}}class yN extends ZD{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.Gr=new Im,this.zr=null}static jr(t){return new Rm(t)}get Hr(){if(this.zr)return this.zr;throw G()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),k.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const i=W.fromPath(r);return this.Jr(t,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Am(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return wk()?8:e2(vk())>0?6:4}()}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.zi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new vN;return this.Hi(t,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,n,s,a.size)})}).next(()=>o.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(gs()<=ce.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(gs()<=ce.DEBUG&&U("QueryEngine","Query:",Bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(gs()<=ce.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Un(n))):k.resolve())}zi(t,n){if(xv(n))return k.resolve(null);let r=Un(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sf(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=oe(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(t,Sf(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return xv(n)||i.isEqual(X.min())?k.resolve(null):this.Gi.getDocuments(t,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?k.resolve(null):(gs()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bi(n)),this.Xi(t,s,n,QD(i,-1)).next(a=>a))})}Yi(t,n){let r=new gt(KE(t));return n.forEach((i,o)=>{Oc(t,o)&&(r=r.add(o))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(t,n,r){return gs()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Bi(n)),this.Gi.getDocumentsMatchingQuery(t,n,Ur.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new Ve(de),this.ns=new Go(o=>vm(o),_m),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function EN(e,t,n,r){return new wN(e,t,n,r)}async function mT(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function TN(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=k.resolve();return d.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(_=>{const E=u.docVersions.get(v);ve(E!==null),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function gT(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function SN(e,t){const n=J(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(Pt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,E,m){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,c)&&a.push(n.qr.updateTargetData(o,p))});let l=ar(),u=oe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(IN(o,s,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(X.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(h=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function IN(e,t,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=ar();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function RN(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function AN(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(o=>o?(i=o,k.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Sr(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function Pf(e,t,n){const r=J(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wa(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function jv(e,t,n){const r=J(e);let i=X.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=J(l),d=h.ns.get(c);return d!==void 0?k.resolve(h.ts.get(d)):h.qr.getTargetData(u,c)}(r,s,Un(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,t,n?i:X.min(),n?o:oe())).next(a=>(CN(r,v2(t),a),{documents:a,ls:o})))}function CN(e,t,n){let r=e.rs.get(t)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.rs.set(t,r)}class Bv{constructor(){this.activeTargetIds=I2()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PN{constructor(){this.eo=new Bv,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new Bv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=null;function Bh(){return Pl===null?Pl=function(){return 268435456+Math.round(2147483648*Math.random())}():Pl++,"0x"+Pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.lo()}send(t){this.co(t)}Vo(){this.Po()}mo(){this.To()}fo(t){this.Ao(t)}po(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class NN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=Bh(),l=this.Co(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,o,s),this.Fo(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=xN[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Fo(t,n,r,i){const o=Bh();return new Promise((s,a)=>{const l=new $D;l.setWithCredentials(!0),l.listenOnce(OD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Uh.NO_ERROR:const c=l.getResponseJson();U(wt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case Uh.TIMEOUT:U(wt,`RPC '${t}' ${o} timed out`),a(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const h=l.getStatus();if(U(wt,`RPC '${t}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const v=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(m)>=0?m:P.UNKNOWN}(p.status);a(new z(v,p.message))}else a(new z(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(P.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{U(wt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);U(wt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(t,n,r){const i=Bh(),o=[this.yo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=VD(),a=LD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new FD({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(wt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,p=!1;const v=new DN({co:E=>{p?U(wt,`Not sending because RPC '${t}' stream ${i} is closed:`,E):(d||(U(wt,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),U(wt,`RPC '${t}' stream ${i} sending:`,E),h.send(E))},lo:()=>h.close()}),_=(E,m,f)=>{E.listen(m,g=>{try{f(g)}catch(T){setTimeout(()=>{throw T},0)}})};return _(h,Rl.EventType.OPEN,()=>{p||(U(wt,`RPC '${t}' stream ${i} transport opened.`),v.Vo())}),_(h,Rl.EventType.CLOSE,()=>{p||(p=!0,U(wt,`RPC '${t}' stream ${i} transport closed`),v.fo())}),_(h,Rl.EventType.ERROR,E=>{p||(p=!0,Do(wt,`RPC '${t}' stream ${i} transport errored:`,E),v.fo(new z(P.UNAVAILABLE,"The operation could not be completed")))}),_(h,Rl.EventType.MESSAGE,E=>{var m;if(!p){const f=E.data[0];ve(!!f);const g=f,T=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(T){U(wt,`RPC '${t}' stream ${i} received error:`,T);const R=T.status;let A=function(j){const M=Be[j];if(M!==void 0)return oT(M)}(R),y=T.message;A===void 0&&(A=P.INTERNAL,y="Unknown error status: "+R+" with message "+T.message),p=!0,v.fo(new z(A,y)),h.close()}else U(wt,`RPC '${t}' stream ${i} received:`,f),v.po(f)}}),_(a,MD.STAT_EVENT,E=>{E.stat===wv.PROXY?U(wt,`RPC '${t}' stream ${i} detected buffering proxy`):E.stat===wv.NOPROXY&&U(wt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.mo()},0),v}}function zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(e){return new z2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,n,r=1e3,i=1.5,o=6e4){this.si=t,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(t){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),t())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n,r,i,o,s,a,l){this.si=t,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new yT(t,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(t){this.i_(),this.stream.send(t)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(t,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,t!==4?this.Jo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const t=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{t(()=>{const i=new z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(t,n){const r=this.__(this.zo);this.stream=this.c_(t,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}__(t){return n=>{this.si.enqueueAndForget(()=>this.zo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends vT{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(t,n){return this.connection.xo("Listen",t,n)}onMessage(t){this.Jo.reset();const n=q2(this.serializer,t),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?jn(s.readTime):X.min()}(t);return this.listener.l_(n,r)}h_(t){const n={};n.database=Cf(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Tf(l)?{documents:Q2(o,l)}:{query:Y2(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lT(o,s.resumeToken);const u=If(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Uu(o,s.snapshotVersion.toTimestamp());const u=If(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=J2(this.serializer,t);r&&(n.labels=r),this.r_(n)}P_(t){const n={};n.database=Cf(this.serializer),n.removeTarget=t,this.r_(n)}}class LN extends vT{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(t,n){return this.connection.xo("Write",t,n)}onMessage(t){if(ve(!!t.streamToken),this.lastStreamToken=t.streamToken,this.I_){this.Jo.reset();const n=G2(t.writeResults,t.commitTime),r=jn(t.commitTime);return this.listener.d_(r,n)}return ve(!t.writeResults||t.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const t={};t.database=Cf(this.serializer),this.r_(t)}E_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>K2(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Do(t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(t,Rf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}Mo(t,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,Rf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class MN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(sr(n),this.y_=!1):U("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{Vi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=J(l);u.M_.add(4),await Ga(u),u.N_.set("Unknown"),u.M_.delete(4),await Uc(u)}(this))})}),this.N_=new MN(r,i)}}async function Uc(e){if(Vi(e))for(const t of e.x_)await t(!0)}async function Ga(e){for(const t of e.x_)await t(!1)}function _T(e,t){const n=J(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),xm(n)?km(n):Qo(n).Zo()&&Pm(n,t))}function Cm(e,t){const n=J(e),r=Qo(n);n.F_.delete(t),r.Zo()&&wT(n,t),n.F_.size===0&&(r.Zo()?r.t_():Vi(n)&&n.N_.set("Unknown"))}function Pm(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qo(e).h_(t)}function wT(e,t){e.L_.xe(t),Qo(e).P_(t)}function km(e){e.L_=new b2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Qo(e).start(),e.N_.w_()}function xm(e){return Vi(e)&&!Qo(e).Yo()&&e.F_.size>0}function Vi(e){return J(e).M_.size===0}function ET(e){e.L_=void 0}async function $N(e){e.N_.set("Online")}async function bN(e){e.F_.forEach((t,n)=>{Pm(e,t)})}async function UN(e,t){ET(e),xm(e)?(e.N_.D_(t),km(e)):e.N_.set("Unknown")}async function jN(e,t,n){if(e.N_.set("Online"),t instanceof aT&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ju(e,r)}else if(t instanceof Xl?e.L_.Ke(t):t instanceof sT?e.L_.He(t):e.L_.We(t),!n.isEqual(X.min()))try{const r=await gT(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.F_.get(u);c&&o.F_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.F_.get(l);if(!c)return;o.F_.set(l,c.withResumeToken(Pt.EMPTY_BYTE_STRING,c.snapshotVersion)),wT(o,l);const h=new Sr(c.target,l,u,c.sequenceNumber);Pm(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await ju(e,r)}}async function ju(e,t,n){if(!Wa(t))throw t;e.M_.add(1),await Ga(e),e.N_.set("Offline"),n||(n=()=>gT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Uc(e)})}function TT(e,t){return t().catch(n=>ju(e,n,t))}async function jc(e){const t=J(e),n=Br(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;BN(t);)try{const i=await RN(t.localStore,r);if(i===null){t.v_.length===0&&n.t_();break}r=i.batchId,zN(t,i)}catch(i){await ju(t,i)}ST(t)&&IT(t)}function BN(e){return Vi(e)&&e.v_.length<10}function zN(e,t){e.v_.push(t);const n=Br(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function ST(e){return Vi(e)&&!Br(e).Yo()&&e.v_.length>0}function IT(e){Br(e).start()}async function HN(e){Br(e).R_()}async function WN(e){const t=Br(e);for(const n of e.v_)t.E_(n.mutations)}async function qN(e,t,n){const r=e.v_.shift(),i=Em.from(r,t,n);await TT(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await jc(e)}async function KN(e,t){t&&Br(e).T_&&await async function(r,i){if(function(s){return M2(s)&&s!==P.ABORTED}(i.code)){const o=r.v_.shift();Br(r).e_(),await TT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await jc(r)}}(e,t),ST(e)&&IT(e)}async function Hv(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Vi(n);n.M_.add(3),await Ga(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Uc(n)}async function GN(e,t){const n=J(e);t?(n.M_.delete(2),await Uc(n)):t||(n.M_.add(2),await Ga(n),n.N_.set("Unknown"))}function Qo(e){return e.B_||(e.B_=function(n,r,i){const o=J(n);return o.m_(),new VN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:$N.bind(null,e),Io:bN.bind(null,e),Eo:UN.bind(null,e),l_:jN.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.e_(),xm(e)?km(e):e.N_.set("Unknown")):(await e.B_.stop(),ET(e))})),e.B_}function Br(e){return e.k_||(e.k_=function(n,r,i){const o=J(n);return o.m_(),new LN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:HN.bind(null,e),Eo:KN.bind(null,e),A_:WN.bind(null,e),d_:qN.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.e_(),await jc(e)):(await e.k_.stop(),e.v_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Dm(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(e,t){if(sr("AsyncQueue",`${t}: ${e}`),Wa(e))return new z(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Rs(),this.sortedSet=new Ve(this.comparator)}static emptySet(t){return new mo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.q_=new Ve(W.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):G():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Mo{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Mo(t,n,mo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class YN{constructor(){this.queries=new Go(t=>qE(t),Lc),this.onlineState="Unknown",this.z_=new Set}}async function XN(e,t){const n=J(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new QN,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Nm(s,`Initialization of query '${Bi(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&Vm(n)}async function JN(e,t){const n=J(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZN(e,t){const n=J(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Vm(n)}function eV(e,t,n){const r=J(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function Vm(e){e.z_.forEach(t=>{t.next()})}var kf,qv;(qv=kf||(kf={})).J_="default",qv.Cache="cache";class tV{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Mo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=Mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t){this.key=t}}class AT{constructor(t){this.key=t}}class nV{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=oe(),this.mutatedKeys=oe(),this.Ia=KE(t),this.Ta=new mo(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new Wv,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const d=i.get(c),p=Oc(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?v!==_&&(r.track({type:3,doc:p}),E=!0):this.Ra(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(p?(s=s.add(p),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort((c,h)=>function(p,v){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return _(p)-_(v)}(c.type,h.type)||this.Ia(c.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new Mo(this.query,t.Ta,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Wv,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=oe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new AT(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new RT(r))}),n}pa(t){this.la=t.ls,this.Pa=oe();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return Mo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class rV{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class iV{constructor(t){this.key=t,this.wa=!1}}class oV{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Go(a=>qE(a),Lc),this.Da=new Map,this.Ca=new Set,this.va=new Ve(W.comparator),this.Fa=new Map,this.Ma=new Im,this.xa={},this.Oa=new Map,this.Na=Oo.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function sV(e,t,n=!0){const r=NT(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await CT(r,t,n,!0),i}async function aV(e,t){const n=NT(e);await CT(n,t,!0,!1)}async function CT(e,t,n,r){const i=await AN(e.localStore,Un(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await lV(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&_T(e.remoteStore,i),a}async function lV(e,t,n,r,i){e.Ba=(h,d,p)=>async function(_,E,m,f){let g=E.view.da(m);g.Zi&&(g=await jv(_.localStore,E.query,!1).then(({documents:y})=>E.view.da(y,g)));const T=f&&f.targetChanges.get(E.targetId),R=f&&f.targetMismatches.get(E.targetId)!=null,A=E.view.applyChanges(g,_.isPrimaryClient,T,R);return Gv(_,E.targetId,A.fa),A.snapshot}(e,h,d,p);const o=await jv(e.localStore,t,!0),s=new nV(t,o.ls),a=s.da(o.documents),l=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);Gv(e,n,u.fa);const c=new rV(t,n,s);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function uV(e,t,n){const r=J(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Lc(s,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cm(r.remoteStore,i.targetId),xf(r,i.targetId)}).catch(Ha)):(xf(r,i.targetId),await Pf(r.localStore,i.targetId,!0))}async function cV(e,t){const n=J(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cm(n.remoteStore,r.targetId))}async function hV(e,t,n){const r=vV(e);try{const i=await function(s,a){const l=J(s),u=Ye.now(),c=a.reduce((p,v)=>p.add(v.key),oe());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=ar(),_=oe();return l.ss.getEntries(p,c).next(E=>{v=E,v.forEach((m,f)=>{f.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(E=>{h=E;const m=[];for(const f of a){const g=D2(f,h.get(f.key).overlayedDocument);g!=null&&m.push(new Qr(f.key,g,$E(g.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(E=>{d=E;const m=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,E.batchId,m)})}).then(()=>({batchId:d.batchId,changes:QE(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Ve(de)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Qa(r,i.changes),await jc(r.remoteStore)}catch(i){const o=Nm(i,"Failed to persist write");n.reject(o)}}async function PT(e,t){const n=J(e);try{const r=await SN(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?ve(s.wa):i.removedDocuments.size>0&&(ve(s.wa),s.wa=!1))}),await Qa(n,r,t)}catch(r){await Ha(r)}}function Kv(e,t,n){const r=J(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=J(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.U_)d.j_(a)&&(u=!0)}),u&&Vm(l)}(r.eventManager,t),i.length&&r.Sa.l_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dV(e,t,n){const r=J(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let s=new Ve(W.comparator);s=s.insert(o,St.newNoDocument(o,X.min()));const a=oe().add(o),l=new $c(X.min(),new Map,new Ve(de),s,a);await PT(r,l),r.va=r.va.remove(o),r.Fa.delete(t),Lm(r)}else await Pf(r.localStore,t,!1).then(()=>xf(r,t,n)).catch(Ha)}async function fV(e,t){const n=J(e),r=t.batch.batchId;try{const i=await TN(n.localStore,t);xT(n,r,null),kT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,i)}catch(i){await Ha(i)}}async function pV(e,t,n){const r=J(e);try{const i=await function(s,a){const l=J(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ve(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);xT(r,t,n),kT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qa(r,i)}catch(i){await Ha(i)}}function kT(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function xT(e,t,n){const r=J(e);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function xf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach(r=>{e.Ma.containsKey(r)||DT(e,r)})}function DT(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(Cm(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Lm(e))}function Gv(e,t,n){for(const r of n)r instanceof RT?(e.Ma.addReference(r.key,t),mV(e,r)):r instanceof AT?(U("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||DT(e,r.key)):G()}function mV(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(U("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Lm(e))}function Lm(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new W(Ce.fromString(t)),r=e.Na.next();e.Fa.set(r,new iV(n)),e.va=e.va.insert(n,r),_T(e.remoteStore,new Sr(Un(WE(n.path)),r,"TargetPurposeLimboResolution",pm.oe))}}async function Qa(e,t,n){const r=J(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Am.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,u){const c=J(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>k.forEach(u,d=>k.forEach(d.ki,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>k.forEach(d.qi,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Wa(h))throw h;U("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.ts.get(d),v=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(v);c.ts=c.ts.insert(d,_)}}}(r.localStore,o))}async function gV(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await mT(n.localStore,t);n.currentUser=t,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new z(P.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Qa(n,r._s)}}function yV(e,t){const n=J(e),r=n.Fa.get(t);if(r&&r.wa)return oe().add(r.key);{let i=oe();const o=n.Da.get(t);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function NT(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dV.bind(null,t),t.Sa.l_=ZN.bind(null,t.eventManager),t.Sa.ka=eV.bind(null,t.eventManager),t}function vV(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pV.bind(null,t),t}class Qv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=bc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return EN(this.persistence,new _N,t.initialUser,this.serializer)}createPersistence(t){return new gN(Rm.jr,this.serializer)}createSharedClientState(t){return new PN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _V{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gV.bind(null,this.syncEngine),await GN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new YN}()}createDatastore(t){const n=bc(t.databaseInfo.databaseId),r=function(o){return new NN(o)}(t.databaseInfo);return function(o,s,a,l){return new ON(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new FN(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Kv(this.syncEngine,n,0),function(){return zv.D()?new zv:new kN}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const h=new oV(i,o,s,a,l,u);return c&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=J(r);U("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ga(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=OE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Nm(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Hh(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mT(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Yv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SV(e);U("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Hv(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Hv(t.remoteStore,i)),e._onlineComponents=t}function TV(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function SV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!TV(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Hh(e,new Qv)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Hh(e,new Qv);return e._offlineComponents}async function VT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await Yv(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await Yv(e,new _V))),e._onlineComponents}function IV(e){return VT(e).then(t=>t.syncEngine)}async function RV(e){const t=await VT(e),n=t.eventManager;return n.onListen=sV.bind(null,t.syncEngine),n.onUnlisten=uV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=cV.bind(null,t.syncEngine),n}function AV(e,t,n={}){const r=new Mr;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new wV({next:d=>{s.enqueueAndForget(()=>JN(o,h)),d.fromCache&&l.source==="server"?u.reject(new z(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new tV(a,c,{includeMetadataChanges:!0,ra:!0});return XN(o,h)}(await RV(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(e,t,n){if(!n)throw new z(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function CV(e,t,n,r){if(t===!0&&r===!0)throw new z(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Jv(e){if(!W.isDocumentKey(e))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Zv(e){if(W.isDocumentKey(e))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Om(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":G()}function Ri(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(e);throw new z(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bc{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UD;switch(r.type){case"firstParty":return new HD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xv.get(n);r&&(U("ComponentProvider","Removing Datastore"),Xv.delete(n),r.terminate())}(this),Promise.resolve()}}function PV(e,t,n,r={}){var i;const o=(e=Ri(e,Bc))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Et.MOCK_USER;else{a=ww(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(u)}e._authCredentials=new jD(new LE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zc(this.firestore,t,this._query)}}class hn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class Fr extends zc{constructor(t,n,r){super(t,n,WE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new W(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function Bu(e,t,...n){if(e=mn(e),OT("collection","path",t),e instanceof Bc){const r=Ce.fromString(t,...n);return Zv(r),new Fr(e,null,r)}{if(!(e instanceof hn||e instanceof Fr))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ce.fromString(t,...n));return Zv(r),new Fr(e.firestore,null,r)}}function Ai(e,t,...n){if(e=mn(e),arguments.length===1&&(t=OE.newId()),OT("doc","path",t),e instanceof Bc){const r=Ce.fromString(t,...n);return Jv(r),new hn(e,null,new W(r))}{if(!(e instanceof hn||e instanceof Fr))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ce.fromString(t,...n));return Jv(r),new hn(e.firestore,e instanceof Fr?e.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new yT(this,"async_queue_retry"),this.hu=()=>{const n=zh();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const t=zh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Mr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(t){if(!Wa(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=Dm.createAndSchedule(this,t,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&G()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class Ya extends Bc{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new kV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FT(this),this._firestoreClient.terminate()}}function xV(e,t){const n=typeof e=="object"?e:Pw(),r=typeof e=="string"?e:t||"(default)",i=Rw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vw("firestore");o&&PV(i,...o)}return i}function MT(e){return e._firestoreClient||FT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FT(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new r2(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LT(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new EV(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fo(Pt.fromBase64String(t))}catch(n){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fo(Pt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return de(this._lat,t._lat)||de(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=/^__.*__$/;class NV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms):new qa(t,this.data,n,this.fieldTransforms)}}class $T{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Qr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function bT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class $m{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new $m(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return zu(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(bT(this.fu)&&DV.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class VV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||bc(t)}Fu(t,n,r,i=!1){return new $m({fu:t,methodName:n,vu:r,path:ft.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(e){const t=e._freezeSettings(),n=bc(e._databaseId);return new VV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LV(e,t,n,r,i,o={}){const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);bm("Data must be an object, but it was:",s,r);const a=jT(r,s);let l,u;if(o.merge)l=new Kt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Df(t,h,n);if(!s.contains(d))throw new z(P.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);zT(c,d)||c.push(d)}l=new Kt(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new NV(new $t(a),l,u)}class Wc extends Mm{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wc}}function OV(e,t,n,r){const i=e.Fu(1,t,n);bm("Data must be an object, but it was:",i,r);const o=[],s=$t.empty();Ni(r,(l,u)=>{const c=Um(t,l,n);u=mn(u);const h=i.Su(c);if(u instanceof Wc)o.push(c);else{const d=qc(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new Kt(o);return new $T(s,a,i.fieldTransforms)}function MV(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[Df(t,r,n)],l=[i];if(o.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Df(t,o[d])),l.push(o[d+1]);const u=[],c=$t.empty();for(let d=a.length-1;d>=0;--d)if(!zT(u,a[d])){const p=a[d];let v=l[d];v=mn(v);const _=s.Su(p);if(v instanceof Wc)u.push(p);else{const E=qc(v,_);E!=null&&(u.push(p),c.set(p,E))}}const h=new Kt(u);return new $T(c,h,s.fieldTransforms)}function qc(e,t){if(BT(e=mn(e)))return bm("Unsupported field value:",t,e),jT(e,t);if(e instanceof Mm)return function(r,i){if(!bT(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=qc(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return R2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ye.fromDate(r);return{timestampValue:Uu(i.serializer,o)}}if(r instanceof Ye){const o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uu(i.serializer,o)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:lT(i.serializer,r._byteString)};if(r instanceof hn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Om(r)}`)}(e,t)}function jT(e,t){const n={};return ME(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ni(e,(r,i)=>{const o=qc(i,t.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ye||e instanceof Fm||e instanceof Fo||e instanceof hn||e instanceof Mm)}function bm(e,t,n){if(!BT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Om(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function Df(e,t,n){if((t=mn(t))instanceof Hc)return t._internalPath;if(typeof t=="string")return Um(e,t);throw zu("Field path arguments must be of type string or ",e,!1,void 0,n)}const FV=new RegExp("[~\\*/\\[\\]]");function Um(e,t,n){if(t.search(FV)>=0)throw zu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hc(...t.split("."))._internalPath}catch{throw zu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function zu(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new z(P.INVALID_ARGUMENT,a+e+l)}function zT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $V(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(WT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $V extends HT{data(){return super.data()}}function WT(e,t){return typeof t=="string"?Um(e,t):t instanceof Hc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UV{convertValue(t,n="none"){switch(Ii(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Si(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw G()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ni(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new Fm(ze(t.latitude),ze(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=gm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sa(t));default:return null}}convertTimestamp(t){const n=jr(t);return new Ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ce.fromString(t);ve(pT(r));const i=new Ia(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class BV extends HT{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(WT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jl extends BV{data(t={}){return super.data(t)}}class zV{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Jl(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Jl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Jl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:HV(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class WV extends UV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function Nf(e){e=Ri(e,zc);const t=Ri(e.firestore,Ya),n=MT(t),r=new WV(t);return bV(e._query),AV(n,e._query).then(i=>new zV(t,r,e,i))}function qV(e,t,n,...r){e=Ri(e,hn);const i=Ri(e.firestore,Ya),o=UT(i);let s;return s=typeof(t=mn(t))=="string"||t instanceof Hc?MV(o,"updateDoc",e._key,t,n,r):OV(o,"updateDoc",e._key,t),jm(i,[s.toMutation(e._key,Rn.exists(!0))])}function KV(e){return jm(Ri(e.firestore,Ya),[new wm(e._key,Rn.none())])}function GV(e,t){const n=Ri(e.firestore,Ya),r=Ai(e),i=jV(e.converter,t);return jm(n,[LV(UT(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function jm(e,t){return function(r,i){const o=new Mr;return r.asyncQueue.enqueueAndForget(async()=>hV(await IV(r),i,o)),o.promise}(MT(e),t)}(function(t,n=!0){(function(i){Ko=i})(Aw),da(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ya(new BD(r.getProvider("auth-internal")),new qD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Or(Ev,"4.6.1",t),Or(Ev,"4.6.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebasestorage.googleapis.com",KT="storageBucket",QV=2*60*1e3,YV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends xi{constructor(t,n,r=0){super(Wh(t),`Firebase Storage: ${n} (${Wh(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Wh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fe||(Fe={}));function Wh(e){return"storage/"+e}function Bm(){const e="An unknown error occurred, please check the error payload for server response.";return new $e(Fe.UNKNOWN,e)}function XV(e){return new $e(Fe.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function JV(e){return new $e(Fe.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZV(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e(Fe.UNAUTHENTICATED,e)}function eL(){return new $e(Fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tL(e){return new $e(Fe.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function nL(){return new $e(Fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rL(){return new $e(Fe.CANCELED,"User canceled the upload/download.")}function iL(e){return new $e(Fe.INVALID_URL,"Invalid URL '"+e+"'.")}function oL(e){return new $e(Fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function sL(){return new $e(Fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KT+"' property when initializing the app?")}function aL(){return new $e(Fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lL(){return new $e(Fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uL(e){return new $e(Fe.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vf(e){return new $e(Fe.INVALID_ARGUMENT,e)}function GT(){return new $e(Fe.APP_DELETED,"The Firebase app was deleted.")}function cL(e){return new $e(Fe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zs(e,t){return new $e(Fe.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ys(e){throw new $e(Fe.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Gt.makeFromUrl(t,n)}catch{return new Gt(t,"")}if(r.path==="")return r;throw oL(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),v={bucket:1,path:3},_=n===qT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",m=new RegExp(`^https?://${_}/${i}/${E}`,"i"),g=[{regex:a,indices:l,postModify:o},{regex:p,indices:v,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<g.length;T++){const R=g[T],A=R.regex.exec(t);if(A){const y=A[R.indices.bucket];let N=A[R.indices.path];N||(N=""),r=new Gt(y,N),R.postModify(r);break}}if(r==null)throw iL(t);return r}}class hL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,t.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,e(p,l())},E)}function d(){o&&clearTimeout(o)}function p(E,...m){if(u){d();return}if(E){d(),c.call(null,E,...m);return}if(l()||s){d(),c.call(null,E,...m);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,h(g)}let v=!1;function _(E){v||(v=!0,d(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function fL(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(e){return e!==void 0}function mL(e){return typeof e=="object"&&!Array.isArray(e)}function zm(e){return typeof e=="string"||e instanceof String}function t_(e){return Hm()&&e instanceof Blob}function Hm(){return typeof Blob<"u"}function n_(e,t,n,r){if(r<t)throw Vf(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Vf(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function QT(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(fi||(fi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t,n,r,i,o,s,a,l,u,c,h,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new xl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===fi.NO_ERROR,l=o.getStatus();if(!a||gL(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===fi.ABORT;r(!1,new xl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new xl(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());pL(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Bm();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?GT():rL();s(l)}else{const l=nL();s(l)}};this.canceled_?n(!1,new xl(!1,null,!0)):this.backoffId_=dL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&fL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xl{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function vL(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function _L(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wL(e,t){t&&(e["X-Firebase-GMPID"]=t)}function EL(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function TL(e,t,n,r,i,o,s=!0){const a=QT(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return wL(u,t),vL(u,n),_L(u,o),EL(u,r),new yL(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function IL(...e){const t=SL();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Hm())return new Blob(e);throw new $e(Fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RL(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(e){if(typeof atob>"u")throw uL("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qh{constructor(t,n){this.data=t,this.contentType=n||null}}function CL(e,t){switch(e){case Fn.RAW:return new qh(YT(t));case Fn.BASE64:case Fn.BASE64URL:return new qh(XT(e,t));case Fn.DATA_URL:return new qh(kL(t),xL(t))}throw Bm()}function YT(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function PL(e){let t;try{t=decodeURIComponent(e)}catch{throw zs(Fn.DATA_URL,"Malformed data URL.")}return YT(t)}function XT(e,t){switch(e){case Fn.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw zs(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fn.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw zs(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AL(t)}catch(i){throw i.message.includes("polyfill")?i:zs(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class JT{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw zs(Fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=DL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function kL(e){const t=new JT(e);return t.base64?XT(Fn.BASE64,t.rest):PL(t.rest)}function xL(e){return new JT(e).contentType}function DL(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){let r=0,i="";t_(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(t_(this.data_)){const r=this.data_,i=RL(r,t,n);return i===null?null:new wr(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new wr(r,!0)}}static getBlob(...t){if(Hm()){const n=t.map(r=>r instanceof wr?r.data_:r);return new wr(IL.apply(null,n))}else{const n=t.map(s=>zm(s)?CL(Fn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new wr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(e){let t;try{t=JSON.parse(e)}catch{return null}return mL(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function VL(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function eS(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(e,t){return t}class xt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||LL}}let Dl=null;function OL(e){return!zm(e)||e.length<2?e:eS(e)}function tS(){if(Dl)return Dl;const e=[];e.push(new xt("bucket")),e.push(new xt("generation")),e.push(new xt("metageneration")),e.push(new xt("name","fullPath",!0));function t(o,s){return OL(s)}const n=new xt("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new xt("size");return i.xform=r,e.push(i),e.push(new xt("timeCreated")),e.push(new xt("updated")),e.push(new xt("md5Hash",null,!0)),e.push(new xt("cacheControl",null,!0)),e.push(new xt("contentDisposition",null,!0)),e.push(new xt("contentEncoding",null,!0)),e.push(new xt("contentLanguage",null,!0)),e.push(new xt("contentType",null,!0)),e.push(new xt("metadata","customMetadata",!0)),Dl=e,Dl}function ML(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Gt(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function FL(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return ML(r,e),r}function nS(e,t,n){const r=ZT(t);return r===null?null:FL(e,r,n)}function $L(e,t,n,r){const i=ZT(t);if(i===null||!zm(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,h=e.fullPath,d="/b/"+s(c)+"/o/"+s(h),p=Wm(d,n,r),v=QT({alt:"media",token:u});return p+v})[0]}function bL(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class rS{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e){if(!e)throw Bm()}function UL(e,t){function n(r,i){const o=nS(e,i,t);return iS(o!==null),o}return n}function jL(e,t){function n(r,i){const o=nS(e,i,t);return iS(o!==null),$L(o,i,e.host,e._protocol)}return n}function oS(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eL():i=ZV():n.getStatus()===402?i=JV(e.bucket):n.getStatus()===403?i=tL(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function BL(e){const t=oS(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=XV(e.path)),o.serverResponse=i.serverResponse,o}return n}function zL(e,t,n){const r=t.fullServerUrl(),i=Wm(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new rS(i,o,jL(e,n),s);return a.errorHandler=BL(t),a}function HL(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function WL(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=HL(null,t)),r}function qL(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let T=0;T<2;T++)g=g+Math.random().toString().slice(2);return g}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=WL(t,r,i),c=bL(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=wr.getBlob(h,r,d);if(p===null)throw aL();const v={name:u.fullPath},_=Wm(o,e.host,e._protocol),E="POST",m=e.maxUploadRetryTime,f=new rS(_,E,UL(e,n),m);return f.urlParams=v,f.headers=s,f.body=p.uploadData(),f.errorHandler=oS(t),f}class KL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw ys("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ys("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ys("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ys("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ys("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class GL extends KL{initXhr(){this.xhr_.responseType="text"}}function sS(){return new GL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n){this._service=t,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ci(t,n)}get root(){const t=new Gt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eS(this._location.path)}get storage(){return this._service}get parent(){const t=NL(this._location.path);if(t===null)return null;const n=new Gt(this._location.bucket,t);return new Ci(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw cL(t)}}function QL(e,t,n){e._throwIfRoot("uploadBytes");const r=qL(e.storage,e._location,tS(),new wr(t,!0),n);return e.storage.makeRequestWithTokens(r,sS).then(i=>({metadata:i,ref:e}))}function YL(e){e._throwIfRoot("getDownloadURL");const t=zL(e.storage,e._location,tS());return e.storage.makeRequestWithTokens(t,sS).then(n=>{if(n===null)throw lL();return n})}function XL(e,t){const n=VL(e._location.path,t),r=new Gt(e._location.bucket,n);return new Ci(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(e){return/^[A-Za-z]+:\/\//.test(e)}function ZL(e,t){return new Ci(e,t)}function aS(e,t){if(e instanceof qm){const n=e;if(n._bucket==null)throw sL();const r=new Ci(n,n._bucket);return t!=null?aS(r,t):r}else return t!==void 0?XL(e,t):e}function e4(e,t){if(t&&JL(t)){if(e instanceof qm)return ZL(e,t);throw Vf("To use ref(service, url), the first argument must be a Storage instance.")}else return aS(e,t)}function r_(e,t){const n=t==null?void 0:t[KT];return n==null?null:Gt.makeFromBucketSpec(n,e)}function t4(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:ww(i,e.app.options.projectId))}class qm{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=qT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QV,this._maxUploadRetryTime=YV,this._requests=new Set,i!=null?this._bucket=Gt.makeFromBucketSpec(i,this._host):this._bucket=r_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,t):this._bucket=r_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){n_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){n_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ci(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new hL(GT());{const s=TL(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const i_="@firebase/storage",o_="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="storage";function n4(e,t,n){return e=mn(e),QL(e,t,n)}function uS(e){return e=mn(e),YL(e)}function Km(e,t){return e=mn(e),e4(e,t)}function Gm(e=Pw(),t){e=mn(e);const r=Rw(e,lS).getImmediate({identifier:t}),i=vw("storage");return i&&r4(r,...i),r}function r4(e,t,n,r={}){t4(e,t,n,r)}function i4(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new qm(n,r,i,t,Aw)}function o4(){da(new ko(lS,i4,"PUBLIC").setMultipleInstances(!0)),Or(i_,o_,""),Or(i_,o_,"esm2017")}o4();const s4={apiKey:"AIzaSyDPP2anqpTwkwpORI3FOoI2qGpBxz4Tsww",authDomain:"at-the-beach-2697c.firebaseapp.com",projectId:"at-the-beach-2697c",storageBucket:"at-the-beach-2697c.appspot.com",messagingSenderId:"489618262303",appId:"1:489618262303:web:40f6cc3dbd1aab9496c82a",measurementId:"G-VJFDLFN9Z4"},cS=Cw(s4),$o=xV(cS),a4=Gm(cS);async function l4(){try{const e=Gm(),t=Bu($o,"store"),n=await Nf(t);return await Promise.all(n.docs.map(async i=>{const o=Bu($o,`store/${i.id}/products`),s=await Nf(o);let a="";if(!s.empty){const u=s.docs[0].data();if(u.imgUrl){const c=u.imgUrl.substring(u.imgUrl.indexOf("/",5)),h=Km(e,c);a=await uS(h)}}const l=s.docs.map(u=>({id:u.id,...u.data()}));return{id:i.id,category:i.id,products:l,imageUrl:a}}))}catch(e){console.error("Error fetching categories: ",e)}}async function u4(e){try{if(!e){console.error("No imgUrl");return}const t=Gm(),n=e.substring(e.indexOf("/",5)),r=Km(t,n);return await uS(r)}catch(t){console.error("Error getting download URL: ",t)}}async function c4(e,t){const n=Ai($o,"store",e),r=Bu(n,"products");try{const o=new URL(t.imgUrl).pathname;t.imgUrl=o,console.log("product.imgUrl:",t.imgUrl);const s=await GV(r,t);return console.log("Document written with ID: ",s.id),s}catch(i){console.error("Error adding document: ",i)}}async function h4(e){const t=Ai($o,"store",e),n=Bu(t,"products");try{return(await Nf(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(r){console.error("Error getting documents: ",r)}}async function d4(e,t,n){const r=Ai($o,"store",e),i=Ai(r,"products",t);try{await qV(i,n),console.log("Product updated successfully.")}catch(o){console.error("Error updating product: ",o)}}async function f4(e,t){if(typeof e!="string"||typeof t!="string")throw new Error("categoryId and productId must be strings");const n=Ai($o,"store",e),r=Ai(n,"products",t);try{await KV(r),console.log("Product deleted successfully.")}catch(i){console.error("Error deleting product: ",i)}}const En=ak(e=>({categories:[],products:[],isLoggedIn:!1,setCategories:t=>e(()=>({categories:t})),setProducts:t=>e(()=>({products:t})),setFile:t=>e(()=>({file:t})),logIn:()=>e(()=>({isLoggedIn:!0})),logOut:()=>e(()=>({isLoggedIn:!1})),fetchCategories:async()=>{const t=await l4();e({categories:t})},addProduct:async(t,n,r)=>{const i=Km(a4,`${t}/${r.name}`);await n4(i,r);const o=`gs://${i.bucket}/${i.fullPath}`;n.imgUrl=o,console.log("set to",n.imgUrl);const s=await c4(t,n);n.id=s.id,e(a=>({products:[...a.products,n]}))},updateProduct:async(t,n,r)=>{e(i=>({products:i.products.map(s=>s.id===n?{...s,...r}:s)})),await d4(t,n,r)},deleteProduct:async(t,n)=>{await f4(t,n).then(()=>{e(r=>({products:r.products.filter(o=>o.id!==n)}))})},fetchProducts:async t=>{let n=await h4(t);n=n.map(r=>({...r,categoryId:t})),n=await Promise.all(n.map(async r=>{const i=await u4(r.imgUrl);return{...r,imageUrl:i}})),e({products:n})}})),p4=pe.div`
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	font-size: 1.5rem;
	gap: 1rem;
	justify-content: center;
	align-items: center;
	max-width: 1200px;
	max-height: 300px;
	margin-bottom: 10rem;
`,hS=()=>{const e=En(n=>n.categories),t=En(n=>n.fetchCategories);return C.useEffect(()=>{t()},[]),O.jsx(p4,{children:e.map(n=>O.jsx(cw,{to:`/category/${n.category}`,children:O.jsx(LP,{cat:n,children:n.category})},n.id))})},m4=pe.div`
	background: #fcfcfd;
	width: 100vw;
	position: relative;
`,g4=pe.div`
	padding: 1rem;
	max-width: 1200px;
	font-size: 2rem;
	margin: 0 auto;
	color: #118ab0;
`,y4=pe.p`
	position: absolute;
	padding-left: 4rem;
	top: -10rem;
	font-size: 4rem;
	transform: rotate(-1.07deg);
	color: #118ab0;
`,v4=pe.img`
	width: 216vw;
	height: 18rem;
	transform: rotate(3deg) translateY(8rem);
`,_4=pe.img`
	width: 190vw;
	transform: translateY(-1rem);
`,w4=pe.div`
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin: 0 auto;
	width: 100%;
	max-width: 1600px;
	position: relative;
	// top: 7rem;
	padding-bottom: 14rem;
`,E4=pe.p`
	padding-right: 4rem;
	font-size: 3rem;
	transform: rotate(-1.07deg);
	color: #edddc8;
	z-index: 1;
	text-align: end;
	background: #118ab0;
	top: -2rem;
	margin: 0;
`,T4=pe.div`
	width: 100%;
	padding-top: 6rem;
`,S4=pe.div`
	transform: translateY(-1rem);
	width: 100vw;
	height: 23rem;
	background: #118ab0;
`,s_=pe.p`
	padding: 1rem;
	font-size: clamp(2rem, 2vw, 2.5rem);
`,Lf=()=>O.jsxs(m4,{children:[O.jsxs(T4,{children:[O.jsx(w4,{children:O.jsx(y4,{children:"Badass Beach Day Essentials"})}),O.jsx(v4,{src:ZA}),O.jsx(S4,{children:O.jsx(E4,{children:"with a twist of the classics"})}),O.jsx(_4,{src:JA})]}),O.jsxs(g4,{children:[O.jsx(s_,{children:"Here At the Beach we believe that style marries function. Yes, we do have the classic beach stuff here, but seriously, they are so dang cool looking though."}),O.jsx(s_,{children:"You've probably had a pair of flip flops before, but we gaurantee you that you've never had a pair of flip flops like ours. You've probably had water guns before, but holycrap, have you seen our water guns? They're so cool."})]}),O.jsx(hS,{})]}),I4="/atTheBeach/assets/logo-CRC5MJZq.png",R4=pe.div`
	position: sticky;
	top: 0;
	display: flex;
	flex-direction: column;
	justify-content: center;
	background-image: url(${I4});
	background-repeat: no-repeat;
	background-position: center;
	width: 100vw;
	height: 268px;
	z-index: 10;
	opacity: 0.95;
	cursor: pointer;

	@media (max-width: 568px) {
		background-size: 50%;
	}
`,A4=({onClick:e})=>O.jsx(R4,{onClick:e}),C4="data:image/svg+xml,%3csvg%20width='620'%20height='161'%20viewBox='0%200%20620%20161'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='44'%20width='620'%20height='39'%20fill='%23FCFCFD'/%3e%3crect%20y='83'%20width='620'%20height='78'%20fill='url(%23paint0_linear_83_5)'/%3e%3cpath%20d='M0%2066.5259V0H620V66.5259C376.321%2088.2696%20240.196%2091.3296%200%2066.5259Z'%20fill='%23BFDEE6'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_83_5'%20x1='310'%20y1='83'%20x2='310'%20y2='161'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.46'%20stop-color='%23FCFCFD'/%3e%3cstop%20offset='1'%20stop-color='%23FCFCFD'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",P4=pe.img`
	width: 100vw;
	position: absolute;
	top: 0;

	@media (max-width: 568px) {
		scale: 170%;
`,k4=()=>O.jsx(P4,{src:C4,alt:"wave"}),x4=pe.header`
	position: sticky;
	top: -10px;
	display: flex;
	flex-direction: column;
	justify-content: center;
	width: 100vw;
	height: 210px;
	z-index: 10;
	opacity: 0.95;
	@media (max-width: 568px) {
		height: 158px;
	}
`,D4=()=>{const e=Bp(),t=()=>{e("/")};return O.jsxs(x4,{children:[O.jsx(k4,{}),O.jsx(A4,{onClick:t})]})},N4="data:image/svg+xml,%3csvg%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200%20120'%20preserveAspectRatio='none'%20%3e%3cpath%20d='M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z'%20class='shape-fill'%20fill='%23118AB0'%20fill-opacity='1'%3e%3c/path%3e%3c/svg%3e",V4=pe.img`
	transform: translateY(-2.25rem);
	width: 290vw;
`,L4=()=>O.jsx(V4,{src:N4,alt:"wave"}),O4=pe.footer`
	color: black;
	position: fixed;
	left: 0;
	bottom: 0;
	width: 100%;
	height: 80px;
	z-index: 10;
`,M4=pe.div`
	background: #118ab0
	height: 100%;
`,Kh=pe(cw)`
	color: #e7d5ba;
	font-size: 1.5rem;
	text-decoration: none;
	padding: 1rem;
`,F4=pe.div`
	position: absolute;
	bottom: 0px;
	width: 100vw;
	display: flex;
	justify-content: space-between;
	flex-direction: row;
`,$4=()=>{const e=En(r=>r.isLoggedIn),t=En(r=>r.logOut),n=()=>{t()};return O.jsxs(O4,{children:[O.jsx(L4,{}),O.jsx(M4,{children:O.jsxs(F4,{children:[O.jsx(Kh,{to:"/",children:"Home"}),e?O.jsx(Kh,{to:"/",onClick:n,children:"Logout"}):O.jsx(Kh,{to:"/beachboys",children:"Login"})]})})]})},b4=pe.div`
	background: #fcfcfd;
	width: 100vw;
	height: fit-content;
	position: relative;
	overflow: hidden;
`,U4=pe.div`
	padding: 1rem;
	font-size: 3rem;
	margin: 0 auto;
	padding-bottom: 10rem;
	color: #118ab0;
	display: flex;
	flex-wrap: wrap;
	gap: 0.65rem;
`,a_=pe.div`
	font-size: 2rem;
	padding: 1rem;
	display: flex;
	gap: 1rem;
	flex-direction: column;
`,j4=pe.div`
	display: flex;
	flex-direction: row;
	gap: 1rem;

	@media (max-width: 568px) {
		flex-direction: column;
	}
`,B4=pe.img`
	max-width: 380px;
	max-height: 380px;
	border-radius: 10px;

	@media (max-width: 720px) {
		max-width: 180px;
		max-height: 180px;
	}
`,z4=pe.button`
	background: #ff0000;
	color: #ffffff;
	border: none;
	border-radius: 5px;
	padding: 0.5rem;
	cursor: pointer;
`,H4=()=>{const{category:e}=XC(),t=En(s=>s.products),n=En(s=>s.fetchProducts),r=En(s=>s.deleteProduct),i=En(s=>s.isLoggedIn);C.useEffect(()=>{e&&n(e)},[e,n]);const o=async s=>{s&&(await r(s.categoryId,s.id),await n(e))};return O.jsx(b4,{children:O.jsx(U4,{children:t.map(s=>(console.log("product:",s.id),console.log("category:",s.categoryId),O.jsxs(j4,{children:[O.jsxs(a_,{children:[s.name,O.jsx(B4,{src:s.imageUrl,alt:s.name}),s.price,i&&O.jsx(z4,{type:"button",onClick:()=>o(s),children:"Delete"})]}),O.jsx(a_,{children:s.desc})]},s.id)))})})},W4=pe.div`
	background: #fcfcfd;
	width: 100vw;
	height: fit-content;
	position: relative;
	overflow: hidden;
`,q4=pe.div`
	width: 100%;
	padding-top: 14rem;
	display: flex;
`,K4=()=>{const{setFile:e,addProduct:t,file:n}=En(),[r,i]=C.useState({name:"",desc:"",price:"",category:""});function o(a){a.target.name==="file"?e(a.target.files[0]):i({...r,[a.target.name]:a.target.value})}async function s(a){if(a.preventDefault(),!n){console.log("No file selected");return}const l=r.category;if(!l){console.log("No category selected");return}await t(l,r,n),console.log("File uploaded")}return O.jsx(W4,{children:O.jsx(q4,{children:O.jsxs("form",{onSubmit:s,children:[O.jsx("h2",{children:"Select Product Image"}),O.jsx("input",{type:"file",name:"file",onChange:o}),O.jsx("button",{type:"submit",children:"Upload"}),O.jsx("input",{type:"text",name:"name",placeholder:"Product name",onChange:o}),O.jsx("input",{type:"text",name:"desc",placeholder:"Product description",onChange:o}),O.jsx("input",{type:"text",name:"price",placeholder:"Product price",onChange:o}),O.jsx("input",{type:"text",name:"category",placeholder:"Product category",onChange:o}),O.jsx(hS,{})]})})})},G4=()=>{const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),s=En(u=>u.isLoggedIn),a=En(u=>u.logIn),l=()=>{e==="admin"&&n==="password"?(console.log("Login successful"),a()):o("Invalid username or password")};return s?O.jsx(cP,{to:"/beachboys-admin"}):O.jsxs("div",{children:[O.jsx("h1",{children:"Login"}),O.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:u=>t(u.target.value)}),O.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:u=>r(u.target.value)}),O.jsx("button",{onClick:l,children:"Login"}),i&&O.jsx("p",{children:i})]})},Q4=XA`

	html, body {
		font-family: "Monomaniac One", sans-serif;
  font-weight: 400;
  font-style: normal;
		margin: 0;
		padding: 0;
		height: 97vh;
		overflow-x: hidden;
		
	}

	a {
		text-decoration: none;
	}
	footer {
		position: absolute;
		bottom: 0px;
		}
	}
`,Y4=pe.div`
	display: flex;
	flex-direction: column;
	min-height: 100vh;
	background: #fcfcfd;
	color: #1a1a1a;
`;function X4(){const e=JC([{path:"/main",element:O.jsx(Lf,{})},{path:"beachboys-admin",element:O.jsx(K4,{})},{path:"/beachboys",element:O.jsx(G4,{})},{path:"/",element:O.jsx(Lf,{})},{path:"/category/:category",element:O.jsx(H4,{})}]);return O.jsxs(O.Fragment,{children:[O.jsx(Q4,{}),O.jsxs(Y4,{children:[O.jsx(D4,{}),e,O.jsx($4,{})]})]})}const J4=vP([{path:"/*",element:O.jsx(X4,{}),children:[{index:!0,element:O.jsx(Lf,{})}]}]);Gh.createRoot(document.getElementById("root")).render(O.jsx(ln.StrictMode,{children:O.jsx(CP,{router:J4})}));
